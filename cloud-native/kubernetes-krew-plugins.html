<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/云原生/Kubernetes/Kuberntes krew常用插件" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Kuberntes krew常用插件 | John's Blog</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://johng.cn/cloud-native/kubernetes-krew-plugins><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Kuberntes krew常用插件 | John's Blog"><meta data-rh=true name=description content="详细介绍Kubernetes krew插件管理器的安装使用，以及ns、ctx、stern、view-allocations、tree、node-shell、images等常用插件的功能特性和使用示例，提高Kubernetes运维效率的必备工具集合。"><meta data-rh=true property=og:description content="详细介绍Kubernetes krew插件管理器的安装使用，以及ns、ctx、stern、view-allocations、tree、node-shell、images等常用插件的功能特性和使用示例，提高Kubernetes运维效率的必备工具集合。"><meta data-rh=true name=keywords content=krew,kubectl插件,kubernetes插件管理器,ns插件,ctx插件,stern日志,view-allocations,kubectl-tree,node-shell,kubectl-images,命名空间切换,集群上下文切换,资源分配查看,多pod日志,节点shell访问><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://johng.cn/cloud-native/kubernetes-krew-plugins><link data-rh=true rel=alternate href=https://johng.cn/cloud-native/kubernetes-krew-plugins hreflang=en><link data-rh=true rel=alternate href=https://johng.cn/cloud-native/kubernetes-krew-plugins hreflang=x-default><link data-rh=true rel=preconnect href=https://XGS1CPQERK-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="John's Blog" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?6b4ae23dc83ee5efe875b7172af6c7c1 async></script><script src=https://cdn.wwads.cn/js/makemoney.js async></script><link rel=stylesheet href=/assets/css/styles.208c11f9.css><script src=/assets/js/runtime~main.7b8ccf99.js defer></script><script src=/assets/js/main.3d68a070.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">John's Blog</b></a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/ai>AI技术</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" sidebarid=mainSidebar href=/cloud-native>云原生</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/notes>日常笔记</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/programming>开发语言</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/architecture>技术架构</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/observability>可观测性</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/database-and-middleware>数据库与中间件</a><a class="navbar__item navbar__link" href=/aboutme>关于我</a></div><div class="navbar__items navbar__items--right"><a href=https://goframe.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-goframe-link"></a><a href=https://github.com/gqcn target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/ai>AI技术</a><button aria-label="Expand sidebar category 'AI技术'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/cloud-native>云原生</a><button aria-label="Collapse sidebar category '云原生'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/cloud-native/container>Container</a><button aria-label="Expand sidebar category 'Container'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/cloud-native/kubernetes>Kubernetes</a><button aria-label="Collapse sidebar category 'Kubernetes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-common-commands>Kuberntes 常用命令</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/cloud-native/kubernetes-krew-plugins>Kuberntes krew常用插件</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-kustomize>Kubernetes kustomize</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-informer-client-go>Kubernetes Informer及client-go资料</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-aggregation-apiserver>Kubernetes Aggregation APIServer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-crd-controller-operator>Kubernetes CRD, Controller, Operator</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-scheduler-framework>Kubernetes Scheduler Framework</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-network-policy>Kubernetes NetworkPolicy</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-common-issues>Kubernetes 常见问题</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-pod-stuck-issues>Pod stuck in ContainerCreating/Terminating</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-device-plugin>Kubernetes Device Plugin</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-kubelet-pod-eviction-process>Kubelet驱逐Pod详细流程</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/cloud-native/argo-workflow>Argo Workflow</a><button aria-label="Expand sidebar category 'Argo Workflow'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/cloud-native/volcano>Volcano</a><button aria-label="Expand sidebar category 'Volcano'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/helm>Helm常用指令</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/dragonfly>Dragonfly介绍</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernetes-kind>使用Kubernetes Kind搭建本地测试集群</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/cloud-native/kubernettes-kind-mock-ai-test-cluster>使用Kubernetes Kind模拟AI算力测试集群</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/notes>日常笔记</a><button aria-label="Expand sidebar category '日常笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/programming>开发语言</a><button aria-label="Expand sidebar category '开发语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/architecture>技术架构</a><button aria-label="Expand sidebar category '技��术架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/management>技术管理</a><button aria-label="Expand sidebar category '技术管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/observability>可观测性</a><button aria-label="Expand sidebar category '可观测性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/database-and-middleware>数据库与中间件</a><button aria-label="Expand sidebar category '数据库与中间件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/operating-systems-and-networks>操作系统和网络</a><button aria-label="Expand sidebar category '操作系统和网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/cloud-native><span itemprop=name>云原生</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/cloud-native/kubernetes><span itemprop=name>Kubernetes</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Kuberntes krew常用插件</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=安装krew>安装krew<a href=#安装krew class=hash-link aria-label="Direct link to 安装krew" title="Direct link to 安装krew">​</a></h2>
<p><code>krew</code>是<code>K8S</code>的插件管理器，提供了很多有用的插件，可以大大提高工作效率。安装<code>krew</code>请参考官方文档：
<a href=https://krew.sigs.k8s.io/docs/user-guide/setup/install/ target=_blank rel="noopener noreferrer">https://krew.sigs.k8s.io/docs/user-guide/setup/install/</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=别名配置>别名配置<a href=#别名配置 class=hash-link aria-label="Direct link to 别名配置" title="Direct link to 别名配置">​</a></h2>
<p>根据当前系统设置的默认<code>shell</code>工具，修改<code>~/.bashrc</code>文件或者<code>~/.zprofile</code>文件，添加别名配置。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token builtin class-name" style=color:#e6db74>alias</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#f8f8f2>k</span><span class="token operator" style=color:#66d9ef>=</span><span class="token plain">kubectl</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=常用插件>常用插件<a href=#常用插件 class=hash-link aria-label="Direct link to 常用插件" title="Direct link to 常用插件">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ns>ns<a href=#ns class=hash-link aria-label="Direct link to ns" title="Direct link to ns">​</a></h3>
<p><code>ns</code>是一个可以在<code>kubernetes</code>集群里面切换命名空间的插件。你是否厌烦了每次敲<code>kubectl</code>命令时都要加上<code>-n &lt;namespaces></code>的参数，又不想在<code>config</code>里面维护大量<code>context</code>。那么<code>ns</code>插件就是来解救你的，它会在切换命名空间时修改当前<code>config</code>里面的<code>context</code>到当前命名空间，这样你就不用再加<code>-n</code>参数了。</p>
<blockquote>
<p><code>ns</code>插件仓库与<code>ctx</code>插件源码仓库是同一个。</p>
</blockquote>
<p>项目地址：<a href=https://github.com/ahmetb/kubectx target=_blank rel="noopener noreferrer">https://github.com/ahmetb/kubectx</a></p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> ns</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns volcano-system</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"kind-john"</span><span class="token plain"> modified.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"volcano-system"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k get pod</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NAME                                   READY   STATUS    RESTARTS   AGE</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-admission-5dd7897d96-rwfxn     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     Running   </span><span class="token number" style=color:#ae81ff>0</span><span class="token plain">          9d</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-controllers-7c58d44b88-bbmwm   </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     Running   </span><span class="token number" style=color:#ae81ff>0</span><span class="token plain">          9d</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8      </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     Running   </span><span class="token number" style=color:#ae81ff>0</span><span class="token plain">          8d</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ctx>ctx<a href=#ctx class=hash-link aria-label="Direct link to ctx" title="Direct link to ctx">​</a></h3>
<p><code>ctx</code>是一个可以在<code>kubernetes</code>集群里面切换<code>context</code>的插件。</p>
<blockquote>
<p><code>ns</code>插件仓库与<code>ctx</code>插件源码仓库是同一个。</p>
</blockquote>
<p>项目地址：<a href=https://github.com/ahmetb/kubectx target=_blank rel="noopener noreferrer">https://github.com/ahmetb/kubectx</a></p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> ctx</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token comment" style=color:#8292a2;font-style:italic># switch to another cluster that's in kubeconfig</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ctx minikube</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Switched to context </span><span class="token string" style=color:#a6e22e>"minikube"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># switch back to previous cluster</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ctx -</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Switched to context </span><span class="token string" style=color:#a6e22e>"oregon"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># rename context</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ctx </span><span class="token assign-left variable" style=color:#f8f8f2>dublin</span><span class="token operator" style=color:#66d9ef>=</span><span class="token plain">gke_ahmetb_europe-west1-b_dublin</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"gke_ahmetb_europe-west1-b_dublin"</span><span class="token plain"> renamed to </span><span class="token string" style=color:#a6e22e>"dublin"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># change the active namespace on kubectl</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns kube-system</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"test"</span><span class="token plain"> set.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"kube-system"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># go back to the previous namespace</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns -</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"test"</span><span class="token plain"> set.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"default"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># change the active namespace even if it doesn't exist</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns not-found-namespace </span><span class="token parameter variable" style=color:#f8f8f2>--force</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"test"</span><span class="token plain"> set.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"not-found-namespace"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">---</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns not-found-namespace </span><span class="token parameter variable" style=color:#f8f8f2>-f</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"test"</span><span class="token plain"> set.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"not-found-namespace"</span><span class="token builtin class-name" style=color:#e6db74>.</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=stern>stern<a href=#stern class=hash-link aria-label="Direct link to stern" title="Direct link to stern">​</a></h3>
<p><code>stern</code>是一个可以同时查看多个<code>pod</code>日志的工具。</p>
<blockquote>
<p>另外还有一个与<code>stern</code>类似的<code>tail</code>插件，用于获取最新的流式的日志输出。</p>
</blockquote>
<p>项目地址：<a href=https://github.com/stern/stern target=_blank rel="noopener noreferrer">https://github.com/stern/stern</a></p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> stern</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns volcano-system</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"kind-john"</span><span class="token plain"> modified.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"volcano-system"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k stern </span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-admission-5dd7897d96-rwfxn admission I0821 06:52:39.431924       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> reflector.go:879</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> volcano.sh/apis/pkg/client/informers/externalversions/factory.go:145: Watch close - *v1beta1.Queue total </span><span class="token number" style=color:#ae81ff>11</span><span class="token plain"> items received</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.691380       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> cache.go:1455</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"SnapShot for scheduling"</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#f8f8f2>jobNum</span><span class="token operator" style=color:#66d9ef>=</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#f8f8f2>QueueNum</span><span class="token operator" style=color:#66d9ef>=</span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"> </span><span class="token assign-left variable" style=color:#f8f8f2>NodeNum</span><span class="token operator" style=color:#66d9ef>=</span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.691456       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> session.go:230</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Open Session d1812087-af68-469e-9fbf-d8b53fb7cef6 with </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token operator file-descriptor important" style=color:#66d9ef>1</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> Job and </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token operator file-descriptor important" style=color:#66d9ef>3</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> Queues</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692081       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> enqueue.go:79</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Try to enqueue PodGroup to </span><span class="token number" style=color:#ae81ff>0</span><span class="token plain"> Queues</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692122       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> allocate.go:81</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Try to allocate resource to </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> Queues</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692138       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> proportion.go:307</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Queue </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">default</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain">: deserved </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">cpu </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, memory </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, pods </span><span class="token number" style=color:#ae81ff>1.00</span><span class="token plain">, ephemeral-storage </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, hugepages-1Gi </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, hugepages-2Mi </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, hugepages-32Mi </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, hugepages-64Ki </span><span class="token number" style=color:#ae81ff>0.0</span><span class="token operator file-descriptor important" style=color:#66d9ef>0</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain">, allocated </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">cpu </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, memory </span><span class="token number" style=color:#ae81ff>0.00</span><span class="token plain">, pods </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token operator file-descriptor important" style=color:#66d9ef>0</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain">, share </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token operator file-descriptor important" style=color:#66d9ef>1</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692166       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> allocate.go:142</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Queue </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">default</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> is overused, ignore it.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692598       </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> session.go:364</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"> Close Session d1812087-af68-469e-9fbf-d8b53fb7cef6</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token plain">.</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=view-allocations>view-allocations<a href=#view-allocations class=hash-link aria-label="Direct link to view-allocations" title="Direct link to view-allocations">​</a></h3>
<p><code>kubectl-view-allocations</code>可以非常方便的展示CPU、内存、GPU等资源的分布情况，并可以对<code>namespace</code>、<code>node</code>、<code>pod</code>等维度进行展示。</p>
<p>项目地址：<a href=https://github.com/davidB/kubectl-view-allocations target=_blank rel="noopener noreferrer">https://github.com/davidB/kubectl-view-allocations</a></p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> view-allocations</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k view-allocations</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"> Resource                                              Requested         Limit  Allocatable    Free </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  cpu                                                   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>4</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>1.1</span><span class="token plain">   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>300</span><span class="token plain">.0m         </span><span class="token number" style=color:#ae81ff>30.0</span><span class="token plain">    </span><span class="token number" style=color:#ae81ff>28.9</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-control-plane                             </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>10</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>950</span><span class="token plain">.0m   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m         </span><span class="token number" style=color:#ae81ff>10.0</span><span class="token plain">     </span><span class="token number" style=color:#ae81ff>9.1</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ coredns-668d6bf9bc-9r86n                          </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ coredns-668d6bf9bc-fpk6t                          </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ etcd-john-control-plane                           </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ kindnet-xqhbt                                     </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m        </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ kube-apiserver-john-control-plane                 </span><span class="token number" style=color:#ae81ff>250</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ kube-controller-manager-john-control-plane        </span><span class="token number" style=color:#ae81ff>200</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ kube-scheduler-john-control-plane                 </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-worker                                     </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m         </span><span class="token number" style=color:#ae81ff>10.0</span><span class="token plain">     </span><span class="token number" style=color:#ae81ff>9.9</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ kindnet-978h2                                     </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m        </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  └─ john-worker2                                    </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m         </span><span class="token number" style=color:#ae81ff>10.0</span><span class="token plain">     </span><span class="token number" style=color:#ae81ff>9.9</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">     └─ kindnet-2knqv                                     </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m        </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0m           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ephemeral-storage                                           __            __        </span><span class="token number" style=color:#ae81ff>2</span><span class="token plain">.9Ti      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-control-plane                                       __            __     </span><span class="token number" style=color:#ae81ff>1006</span><span class="token plain">.9Gi      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-worker                                              __            __     </span><span class="token number" style=color:#ae81ff>1006</span><span class="token plain">.9Gi      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  └─ john-worker2                                             __            __     </span><span class="token number" style=color:#ae81ff>1006</span><span class="token plain">.9Gi      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  memory                                            </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>2</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>390</span><span class="token plain">.0Mi  </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>2</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>490</span><span class="token plain">.0Mi       </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain">.0Gi  </span><span class="token number" style=color:#ae81ff>22</span><span class="token plain">.5Gi </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-control-plane                             </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>4</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>290</span><span class="token plain">.0Mi  </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>5</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>390</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.7Gi   </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.3Gi </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ coredns-668d6bf9bc-9r86n                          </span><span class="token number" style=color:#ae81ff>70</span><span class="token plain">.0Mi       </span><span class="token number" style=color:#ae81ff>170</span><span class="token plain">.0Mi           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ coredns-668d6bf9bc-fpk6t                          </span><span class="token number" style=color:#ae81ff>70</span><span class="token plain">.0Mi       </span><span class="token number" style=color:#ae81ff>170</span><span class="token plain">.0Mi           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ etcd-john-control-plane                          </span><span class="token number" style=color:#ae81ff>100</span><span class="token plain">.0Mi            __           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ kindnet-xqhbt                                     </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-worker                                     </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.7Gi   </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.6Gi </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ kindnet-978h2                                     </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  └─ john-worker2                                    </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.7Gi   </span><span class="token number" style=color:#ae81ff>7</span><span class="token plain">.6Gi </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">     └─ kindnet-2knqv                                     </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi        </span><span class="token number" style=color:#ae81ff>50</span><span class="token plain">.0Mi           __      __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  pods                                                 </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>5</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>17.0</span><span class="token plain">     </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>5</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>17.0</span><span class="token plain">        </span><span class="token number" style=color:#ae81ff>330.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>313.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-control-plane                                 </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>9.0</span><span class="token plain">      </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>9.0</span><span class="token plain">        </span><span class="token number" style=color:#ae81ff>110.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>101.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ john-worker                                        </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>5</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">      </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>5</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">        </span><span class="token number" style=color:#ae81ff>110.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>105.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  └─ john-worker2                                       </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>3</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3.0</span><span class="token plain">      </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>3</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3.0</span><span class="token plain">        </span><span class="token number" style=color:#ae81ff>110.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>107.0</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>该命令在智算资源管控场景中，常用来查看智算资源的使用情况，常与<code>-r</code>参数结合使用，例如：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k view-allocations </span><span class="token parameter variable" style=color:#f8f8f2>-r</span><span class="token plain"> nvidia.com/gpu</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"> Resource                                           Requested       Limit  Allocatable  Free </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  nvidia.com/gpu                                   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>28</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>13.0</span><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>28</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>13.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>47.0</span><span class="token plain">  </span><span class="token number" style=color:#ae81ff>34.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ ai-app-2-151-msxf                                     __          __          </span><span class="token number" style=color:#ae81ff>8.0</span><span class="token plain">    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ ai-app-64-40-msxf                              </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>12</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>12</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">          </span><span class="token number" style=color:#ae81ff>8.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>7.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ neal-httpsingleport-0411-7fc454c8fb-bdpfk         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ ai-app-8-1-msxf                                </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>25</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>2.0</span><span class="token plain">   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>25</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>2.0</span><span class="token plain">          </span><span class="token number" style=color:#ae81ff>8.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>6.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ pd-qwen3-8b-decoder-7c6ddcd474-gnj5b              </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ pd-qwen3-8b-prefill-559b45d46b-g4zhv              </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ msxf-app-2-149                                 </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>62</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>62</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">          </span><span class="token number" style=color:#ae81ff>8.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>3.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ ces-6c4f56d6c6-7fcbb                              </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ itsmceshi0806-865568b845-jcn66                    </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ itsmceshi0806-865568b845-zdvs6                    </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ msv91211-dep-7c5ccb6854-gtkcd                     </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ neal-0819-6bb79d4569-bhfp7                        </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  ├─ msxf-hpc-37-2-ai                               </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>62</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">   </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>62</span><span class="token plain">%</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>5.0</span><span class="token plain">          </span><span class="token number" style=color:#ae81ff>8.0</span><span class="token plain">   </span><span class="token number" style=color:#ae81ff>3.0</span><span class="token plain"> </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ pd-qwen3-30b-decoder-d46b576dc-gglfh              </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ pd-qwen3-30b-prefill-746d9fc77f-kb5gw             </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ pd-qwen3-32b-decoder-75c6d96c4-qhkl9              </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  ├─ pd-qwen3-32b-prefill-75d6cd57fd-45vzd             </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  │  └─ qwen25-72b-int4-bz-6d6546b9f7-p2wm9               </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">         </span><span class="token number" style=color:#ae81ff>1.0</span><span class="token plain">           __    __ </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  └─ msxf-hpc-64-5-ai                                      __          __          </span><span class="token number" style=color:#ae81ff>7.0</span><span class="token plain">    __ </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=tree>tree<a href=#tree class=hash-link aria-label="Direct link to tree" title="Direct link to tree">​</a></h3>
<p>该插件是由<code>Google</code>大佬开发，通过<code>ownerReferences</code>来发现<code>kubernetes</code>对象之间的相互关联，并通过树状图来展示，对资源的关系一目了然。</p>
<p>项目地址：<a href=https://github.com/ahmetb/kubectl-tree target=_blank rel="noopener noreferrer">https://github.com/ahmetb/kubectl-tree</a></p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> tree</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k ns volcano-system</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Context </span><span class="token string" style=color:#a6e22e>"kind-john"</span><span class="token plain"> modified.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Active namespace is </span><span class="token string" style=color:#a6e22e>"volcano-system"</span><span class="token builtin class-name" style=color:#e6db74>.</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k get deploy</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NAME                  READY   UP-TO-DATE   AVAILABLE   AGE</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-admission     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">            </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">           9d</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-controllers   </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">            </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">           9d</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-scheduler     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">/1     </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">            </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain">           9d</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k tree deploy volcano-scheduler</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NAMESPACE       NAME                                       READY  REASON  AGE</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-system  Deployment/volcano-scheduler               -              9d </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-system  ├─ReplicaSet/volcano-scheduler-65c58864d   -              8d </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-system  │ └─Pod/volcano-scheduler-65c58864d-5wtd8  True           8d </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-system  ├─ReplicaSet/volcano-scheduler-77cdd888b9  -              8d </span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">volcano-system  └─ReplicaSet/volcano-scheduler-986f77795   -              9d </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=node-shell>node-shell<a href=#node-shell class=hash-link aria-label="Direct link to node-shell" title="Direct link to node-shell">​</a></h3>
<p><code>node-shell</code>插件可以让你直接在<code>node</code>上执行<code>shell</code>命令，而不需要登录到<code>node</code>上。</p>
<p>项目地址：<a href=https://github.com/kvaps/kubectl-node-shell target=_blank rel="noopener noreferrer">https://github.com/kvaps/kubectl-node-shell</a></p>
<p>实现原理：该命令会创建一个<code>nsenter-xxx</code>的<code>Pod</code>，该<code>Pod</code>会带有一个<code>privileged: true</code>的高权限容器，默认使用<code>alpine:latest</code>镜像。</p>
<p>注意事项：由于该命令默认会拉取外网镜像，在某些外网不通的网络环境下会无法执行成功，可以使用<code>--image</code>参数指定需要使用的镜像。</p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> node-shell</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token comment" style=color:#8292a2;font-style:italic># Get standard bash shell</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Use custom image for pod</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>--image</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">image</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Use X-mode (mount /host, and do not enter host namespace)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token parameter variable" style=color:#f8f8f2>-x</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Skip specific namespace types to enter, choose any of ipc, mount, pid, net, uts</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> --no-ipc</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Execute custom command</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> -- </span><span class="token builtin class-name" style=color:#e6db74>echo</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>123</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Use stdin</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token function" style=color:#e6db74>cat</span><span class="token plain"> /etc/passwd </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> -- </span><span class="token function" style=color:#e6db74>sh</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-c</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'cat > /tmp/passwd'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># Run oneliner script</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">kubectl node-shell </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">node</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> -- </span><span class="token function" style=color:#e6db74>sh</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-c</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'cat /tmp/passwd; rm -f /tmp/passwd'</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k get </span><span class="token function" style=color:#e6db74>node</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NAME                 STATUS   ROLES           AGE   VERSION</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">john-control-plane   Ready    control-plane   9d    v1.32.2</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">john-worker          Ready    </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">none</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain">          9d    v1.32.2</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">john-worker2         Ready    </span><span class="token operator" style=color:#66d9ef>&lt;</span><span class="token plain">none</span><span class="token operator" style=color:#66d9ef>></span><span class="token plain">          9d    v1.32.2</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ k node-shell john-worker</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">spawning </span><span class="token string" style=color:#a6e22e>"nsenter-8xhpq5"</span><span class="token plain"> on </span><span class="token string" style=color:#a6e22e>"john-worker"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">If you don't see a </span><span class="token builtin class-name" style=color:#e6db74>command</span><span class="token plain"> prompt, try pressing enter.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">root@john-worker:/</span><span class="token comment" style=color:#8292a2;font-style:italic># </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>其实<code>kubectl</code>工具也提供了<code>debug</code>命令，用于实现类似的功能。该<code>debug</code>命令功能更强大一些，除了支持<code>node</code>，也支持<code>pod</code>的<code>debug</code>，具体可以参考：<a href=https://kubernetes.io/docs/tasks/debug/debug-cluster/kubectl-node-debug/ target=_blank rel="noopener noreferrer">https://kubernetes.io/docs/tasks/debug/debug-cluster/kubectl-node-debug/</a></p>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k debug node/john-worker </span><span class="token parameter variable" style=color:#f8f8f2>-it</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>--image</span><span class="token operator" style=color:#66d9ef>=</span><span class="token plain">ubuntu </span><span class="token parameter variable" style=color:#f8f8f2>--profile</span><span class="token operator" style=color:#66d9ef>=</span><span class="token plain">general</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Creating debugging pod node-debugger-john-worker-hcr2q with container debugger on </span><span class="token function" style=color:#e6db74>node</span><span class="token plain"> john-worker.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">If you don't see a </span><span class="token builtin class-name" style=color:#e6db74>command</span><span class="token plain"> prompt, try pressing enter.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">root@john-worker:/</span><span class="token comment" style=color:#8292a2;font-style:italic># </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=images>images<a href=#images class=hash-link aria-label="Direct link to images" title="Direct link to images">​</a></h3>
<p><code>kubectl-images</code>可以展示集群中正在使用的镜像，并对<code>namespace</code>进行一个简单的统计。使用这个插件可以非常方便的查看<code>namespace</code>中使用了哪些镜像，尤其在排查问题需要查看镜像版本时非常有用。</p>
<p>安装命令：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">k krew </span><span class="token function" style=color:#e6db74>install</span><span class="token plain"> images</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>使用示例：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ k images </span><span class="token parameter variable" style=color:#f8f8f2>-A</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain">Summary</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">: </span><span class="token number" style=color:#ae81ff>4</span><span class="token plain"> namespaces, </span><span class="token number" style=color:#ae81ff>17</span><span class="token plain"> pods, </span><span class="token number" style=color:#ae81ff>17</span><span class="token plain"> containers and </span><span class="token number" style=color:#ae81ff>12</span><span class="token plain"> different images</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                    Pod                     </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">        Container        </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                              Image                              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> example-deployment-9488676d4-ttb6h         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> nginx                   </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> nginx:1.14.2                                                    </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> coredns-668d6bf9bc-9r86n                   </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> coredns                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/coredns/coredns:v1.11.3                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+                         +                                                                 +</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> coredns-668d6bf9bc-fpk6t                   </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                                                                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> etcd-john-control-plane                    </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> etcd                    </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/etcd:3.5.16-0                                   </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kindnet-2knqv                              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kindnet-cni             </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> docker.io/kindest/kindnetd:v20250214-acbabc1a                   </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+                         +                                                                 +</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kindnet-978h2                              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                                                                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+                         +                                                                 +</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kindnet-xqhbt                              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                                                                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-apiserver-john-control-plane          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-apiserver          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/kube-apiserver:v1.32.2                          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-controller-manager-john-control-plane </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-controller-manager </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/kube-controller-manager:v1.32.2                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-proxy-bmff8                           </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-proxy              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/kube-proxy:v1.32.2                              </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+                         +                                                                 +</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-proxy-f2fkv                           </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                                                                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+                         +                                                                 +</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-proxy-nxd7w                           </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain">                                                                 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-scheduler-john-control-plane          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> kube-scheduler          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> registry.k8s.io/kube-scheduler:v1.32.2                          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> local-path-provisioner-7dc846544d-74xnp    </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> local-path-provisioner  </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> docker.io/kindest/local-path-provisioner:v20250214-acbabc1a     </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcano-admission-5dd7897d96-rwfxn         </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> admission               </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> docker.io/volcanosh/vc-webhook-manager:v1.12.1                  </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcano-controllers-7c58d44b88-bbmwm       </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcano-controllers     </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> docker.io/volcanosh/vc-controller-manager:v1.12.1               </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcano-scheduler-65c58864d-5wtd8          </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcano-scheduler       </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"> volcanosh/vc-scheduler:80eea1df4b922773c47ac4f8e483b48a3ccc7090 </span><span class="token operator" style=color:#66d9ef>|</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">+--------------------------------------------+-------------------------+-----------------------------------------------------------------+</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/cloud-native/kubernetes-common-commands><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Kuberntes 常用命令</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/cloud-native/kubernetes-kustomize><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Kubernetes kustomize</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class=tocContainer_PXzm><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#安装krew class="table-of-contents__link toc-highlight">安装krew</a><li><a href=#别名配置 class="table-of-contents__link toc-highlight">别名配置</a><li><a href=#常用插件 class="table-of-contents__link toc-highlight">常用插件</a><ul><li><a href=#ns class="table-of-contents__link toc-highlight">ns</a><li><a href=#ctx class="table-of-contents__link toc-highlight">ctx</a><li><a href=#stern class="table-of-contents__link toc-highlight">stern</a><li><a href=#view-allocations class="table-of-contents__link toc-highlight">view-allocations</a><li><a href=#tree class="table-of-contents__link toc-highlight">tree</a><li><a href=#node-shell class="table-of-contents__link toc-highlight">node-shell</a><li><a href=#images class="table-of-contents__link toc-highlight">images</a></ul></ul></div><div class=tocAdBanner_imxD></div></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2025 johng.cn</div></div></div></footer></div>