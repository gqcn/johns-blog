---
slug: "/goframe/notes-v3"
title: "GoFrame v3开发笔记"
hide_title: true
keywords: ["Go语言", "实战案例", "教程", "GoFrame", "框架"]
description: "Go语言实战案例文章建议清单，包含微服务、高性能、云原生等多个方向的主题"
---

## 主要内容

https://github.com/gogf/gf/issues/4173


## 其他记录

- `ghttp.Request`对象需要暴露创建方法，便于单元测试，例如：

```go
func TestJWTAuth(t *testing.T) {
    gtest.C(t, func(t *gtest.T) {
        httpRequest, err := http.NewRequest("", "", nil)
        t.AssertNil(err)

        var (
            req = &ghttp.Request{
                Request: httpRequest,
            }
        )
        // 需要先运行登录的单元测试获取一个token放到这里做测试
        req.Header.Set(JwtHeaderName, "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiZXhwIjoxNzQ1NDYwOTA5LCJuYmYiOjE3NDUzNzQ1MDksImlhdCI6MTc0NTM3NDUwOX0.CeTIWUBFboHmX_TGEyqnCvSXf8tBZpmouP3ucYYDvic")
        JWTAuth(req)
        t.AssertNil(req.GetError())
    })
}
```