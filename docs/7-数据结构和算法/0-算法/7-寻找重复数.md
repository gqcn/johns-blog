---
slug: "/find-duplicate-number"
title: "å¯»æ‰¾é‡å¤æ•°"
hide_title: true
keywords: ["ç®—æ³•", "æ•°ç»„", "åŒæŒ‡é’ˆ", "äºŒåˆ†æŸ¥æ‰¾", "å¾ªç¯æ£€æµ‹", "æ—¶é—´å¤æ‚åº¦"]
description: "è¯¦ç»†è®²è§£åœ¨æ•°ç»„ä¸­å¯»æ‰¾é‡å¤æ•°å­—çš„å¤šç§è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬åŒæŒ‡é’ˆã€äºŒåˆ†æŸ¥æ‰¾ç­‰ç®—æ³•çš„å®ç°å’Œä¼˜åŒ–"
---

## é¢˜ç›®æè¿°

[https://leetcode.cn/problems/find-the-duplicate-number/description/](https://leetcode.cn/problems/find-the-duplicate-number/description/)

![](/attachments/4d703b75385fa74a4563ffec92dc329e3ae4d1c57eaa562a73f844bffeafccd0-file_1587171752428.png)

#### è§£é¢˜æ€è·¯

**æš´åŠ›æ–¹å¼å¯ä»¥ä½¿ç”¨ä¸¤è¾¹éå†æˆ–è€…å“ˆå¸Œè¡¨æ–¹å¼ï¼Œä½†æ˜¯æ ¹æ®é¢˜ç›®è¦æ±‚ç©ºé—´å¤æ‚åº¦éœ€è¦ä¸ºO(1)ï¼Œå› æ­¤éœ€è¦é‡‡ç”¨å…¶ä»–æ–¹æ¡ˆã€‚**

  

## ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆ

**é¢˜ç›®ä¸­å…³é”®çš„æç¤ºç‚¹æ˜¯ã€å…¶æ•°å­—éƒ½åœ¨1åˆ°nä¹‹é—´ï¼ˆåŒ…å«1å’Œnï¼‰ã€‘ã€‚**

ä½¿ç”¨ç¯å½¢é“¾è¡¨IIçš„æ–¹æ³•è§£é¢˜ï¼ˆ142.ç¯å½¢é“¾è¡¨IIï¼‰ï¼Œä½¿ç”¨ 142 é¢˜çš„æ€æƒ³æ¥è§£å†³æ­¤é¢˜çš„å…³é”®æ˜¯è¦ç†è§£å¦‚ä½•å°†è¾“å…¥çš„æ•°ç»„çœ‹ä½œä¸ºé“¾è¡¨ã€‚  
é¦–å…ˆæ˜ç¡®å‰æï¼Œæ•´æ•°çš„æ•°ç»„ `nums` ä¸­çš„æ•°å­—èŒƒå›´æ˜¯ `[1,n]`ã€‚è€ƒè™‘ä¸€ä¸‹ä¸¤ç§æƒ…å†µï¼š

1.  å¦‚æœæ•°ç»„ä¸­æ²¡æœ‰é‡å¤çš„æ•°ï¼Œä»¥æ•°ç»„ `[1,3,4,2]`ä¸ºä¾‹ï¼Œæˆ‘ä»¬å°†æ•°ç»„ä¸‹æ ‡ `n` å’Œæ•° `nums[n]` å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³» f(n)ï¼Œ  
    å…¶æ˜ å°„å…³ç³» `n->f(n)`ä¸ºï¼š  
    0->1  
    1->3  
    2->4  
    3->2  
    æˆ‘ä»¬ä»ä¸‹æ ‡ä¸º 0 å‡ºå‘ï¼Œæ ¹æ® f(n) è®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œä»¥è¿™ä¸ªå€¼ä¸ºæ–°çš„ä¸‹æ ‡ï¼Œå†ç”¨è¿™ä¸ªå‡½æ•°è®¡ç®—ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°ä¸‹æ ‡è¶…ç•Œã€‚è¿™æ ·å¯ä»¥äº§ç”Ÿä¸€ä¸ªç±»ä¼¼é“¾è¡¨ä¸€æ ·çš„åºåˆ—ã€‚  
    `0->1->3->2->4->null`
    
2.  å¦‚æœæ•°ç»„ä¸­æœ‰é‡å¤çš„æ•°ï¼Œä»¥æ•°ç»„ `[1,3,4,2,2]` ä¸ºä¾‹,æˆ‘ä»¬å°†æ•°ç»„ä¸‹æ ‡ `n` å’Œæ•° `nums[n]` å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³» f(n)ï¼Œ  
    å…¶æ˜ å°„å…³ç³» `n->f(n)` ä¸ºï¼š  
    0->1  
    1->3  
    2->4  
    3->2  
    4->2  
    åŒæ ·çš„ï¼Œæˆ‘ä»¬ä»ä¸‹æ ‡ä¸º 0 å‡ºå‘ï¼Œæ ¹æ® f(n) è®¡ç®—å‡ºä¸€ä¸ªå€¼ï¼Œä»¥è¿™ä¸ªå€¼ä¸ºæ–°çš„ä¸‹æ ‡ï¼Œå†ç”¨è¿™ä¸ªå‡½æ•°è®¡ç®—ï¼Œä»¥æ­¤ç±»æ¨äº§ç”Ÿä¸€ä¸ªç±»ä¼¼é“¾è¡¨ä¸€æ ·çš„åºåˆ—ã€‚  
    0->1->3->2->4->2->4->2->â€¦â€¦  
    è¿™é‡Œ `2->4` æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾è¡¨å¯ä»¥æŠ½è±¡ä¸ºä¸‹å›¾ï¼š  
    ![](/attachments/999e055b41e499d9ac704abada4a1b8e6697374fdfedc17d06b0e8aa10a8f8f6-287.png)
    

ä»ç†è®ºä¸Šè®²ï¼Œæ•°ç»„ä¸­å¦‚æœæœ‰é‡å¤çš„æ•°ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿå¤šå¯¹ä¸€çš„æ˜ å°„ï¼Œè¿™æ ·ï¼Œå½¢æˆçš„é“¾è¡¨å°±ä¸€å®šä¼šæœ‰ç¯è·¯äº†ï¼Œ

ç»¼ä¸Šï¼š  
1.æ•°ç»„ä¸­æœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•° `<==>` é“¾è¡¨ä¸­å­˜åœ¨ç¯  
2.æ‰¾åˆ°æ•°ç»„ä¸­çš„é‡å¤æ•´æ•° `<==>` æ‰¾åˆ°é“¾è¡¨çš„ç¯å…¥å£

è‡³æ­¤ï¼Œé—®é¢˜è½¬æ¢ä¸º 142 é¢˜ã€‚é‚£ä¹ˆé’ˆå¯¹æ­¤é¢˜ï¼Œå¿«ã€æ…¢æŒ‡é’ˆè¯¥å¦‚ä½•èµ°å‘¢ã€‚æ ¹æ®ä¸Šè¿°æ•°ç»„è½¬é“¾è¡¨çš„æ˜ å°„å…³ç³»ï¼Œå¯æ¨å‡º  
142 é¢˜ä¸­æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ slow = slow.next ==> æœ¬é¢˜ slow = nums\[slow\]  
142 é¢˜ä¸­å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ fast = fast.next.next ==> æœ¬é¢˜ fast = nums\[nums\[fast\]\]

  

è¿™åªæ˜¯ä¸€ä¸ªå·§åˆå—, æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹

*   å‡è®¾å…¥ç¯ä¹‹å‰çš„é•¿åº¦ä¸º`L`, å…¥ç¯ä¹‹åå¿«æ…¢æŒ‡é’ˆç¬¬ä¸€ç›¸é‡æ—¶å¿«æŒ‡é’ˆæ¯”æ…¢æŒ‡é’ˆğŸ¢å¤šè·‘äº†`N`åœˆ, æ¯ä¸€åœˆçš„é•¿åº¦ä¸º`C`, æ­¤æ—¶å¿«æŒ‡é’ˆğŸ°åœ¨ç¯å†…ç¦»å…¥ç¯èŠ‚ç‚¹çš„è·ç¦»ä¸º`C'`
*   æ­¤æ—¶æ…¢æŒ‡é’ˆğŸ¢èµ°è¿‡çš„è·ç¦»ä¸º: `L + C'`
*   æ­¤æ—¶å¿«æŒ‡é’ˆğŸ°èµ°è¿‡çš„è·ç¦»ä¸º: `L + C' + N * C`
*   å› ä¸ºå¿«æŒ‡é’ˆğŸ°çš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆğŸ¢çš„ä¸¤å€, æ‰€ä»¥æœ‰: `2 * (L + C') = L + C' + N * C`
*   æ•´ç†åå¾—åˆ°: `(N - 1) * C + (C - C') = L`
*   ç”±æ­¤å¯çŸ¥, è‹¥æ­¤æ—¶æœ‰ä¸¤ä¸ªæ…¢æŒ‡é’ˆğŸ¢åŒæ—¶åˆ†åˆ«ä»é“¾è¡¨å¤´ç»“ç‚¹å’Œå¿«æ…¢æŒ‡é’ˆç¬¬ä¸€æ¬¡ç›¸é‡çš„èŠ‚ç‚¹å‡ºå‘, ä¸¤è€…å¿…ç„¶ä¼šåœ¨å…¥ç¯èŠ‚ç‚¹ç›¸é‡

![](/attachments/9c5b49fc4678549f703bb997a9254e99a4d66f5ec0909f4aa2d88f14261673cc-file_1587171752327.png)

![](/attachments/12c79663dde302f2e43d60ef8659eb275904595818346cd43d3c88ba986e4f47-file_1587171752332.png)

![](/attachments/a9bb17e65ce85ea163b88a2dccbdfa4fe7d39a0c6df2379f4dcc02957a3fc417-file_1587171752345.png)

![](/attachments/1706b831f31f12c5bd21e1cdeabb21b388165f920d778df4fdc84486e500d2e0-file_1587171752335.png)

![](/attachments/1b2f68e5a0a7f78ffae8667a4dcd092018859d0d62b10c7b6a7905fff0528ccb-file_1587171752338.png)

**ä»£ç å®ç°**

```
class Solution {
    public int findDuplicate(int[] nums) {
        int slow = 0;
        int fast = 0;
        slow = nums[slow];
        fast = nums[nums[fast]];
        while(slow != fast){
            slow = nums[slow];
            fast = nums[nums[fast]];
        }
        int pre1 = 0;
        int pre2 = slow;
        while(pre1 != pre2){
            pre1 = nums[pre1];
            pre2 = nums[pre2];
        }
        return pre1;
    }
}
```

## ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾

```
func findDuplicate(nums []int) int {
	lo, hi := 1, len(nums)-1
	for lo < hi {
		mid := (lo + hi) >> 1
		count := 0
		for i := 0; i < len(nums); i++ {
			if nums[i] <= mid {
				count++
			}
		}
		if count > mid {
			hi = mid
		} else {
			lo = mid + 1
		}
	}
	return lo
}
```

  

  

  

  

