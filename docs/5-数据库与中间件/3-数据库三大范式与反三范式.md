---
slug: "/database-normalization"
title: "数据库三大范式与反三范式"
hide_title: true
keywords:
  [
    "数据库",
    "三大范式",
    "反三范式",
    "数据库设计",
    "数据冗余",
    "数据完整性",
    "数据库优化",
  ]
description: "详细介绍数据库三大范式的概念、原则和应用，以及反三范式在实际场景中的优化策略"
---


## 基本介绍

范式其实是指就是规范的意思，英文Normal form，简称NF。目的**：范式可以避免数据冗余，减少数据库的空间，减轻维护数据完整性的麻烦**。

只有**关系型数据库**才存在范式,总共有1NF，2NF，3NF，BCNF，4NF，5NF，DKNF，6NF，用的最多的就是1NF,2NF,3NF.

1.  第一范式(1NF)表中的列**不可分割，**具有**原子性。**
2.  第二范式(2NF)在1NF的基础上**，有主键，**非主键列需要**完全依赖于主键，**不能只依赖于主键的一部分。
3.  第三范式(3NF)咋2NF的基础上，非主键需要**直接依赖**于主键，不能存在依赖传递，即不能存在：非主键列A依赖于非主键列B,非主键B依赖于主键的情况。
4.  反三范式，故名思义，跟范式所要求的正好相反，在反范式的设计模式，我们可以允许适当的数据的冗余，用这个冗余去取操作数据时间的缩短。也就是利用空间来换取时间,把数据冗余在多个表中，当查询时可以减少或者是避免表之间的关联。

## 简要回答

1.  **1NF**：列不可拆分，具有**原子性。**
2.  **2NF**：满足1NF**，有主键，**非主键需要**完全的依赖主键**,**不能依赖部分。**
3.  **3NF**：满足2NF，非主键**需要直接依赖**主键,**不能传递依赖。**
4.  **反三范式**：就是通过该增加冗余，聚合的手段来**提升性能。**

## 辅助理解

#### 第一范式

假如有张表有一列所在地，可分割为省、市，这样就不符合1NF；

![](/attachments/edb57fa28afaf1e7dc04b61796ce3485.png)

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/edb57fa28afaf1e7dc04b61796ce3485.png)


应该拆分为：  
![](/attachments/dfbc9d007084be6f43ff9d523b851a50.png)

#### 第二范式

假如有一张订单表，产品数量、产品折扣、产品价格和订单号、产品号都有依赖，订单金额和订单时间只和订单号有依赖，要完全依赖，这样就不符合第二范式。

![](/attachments/0ddde9d0450f4b38f57383f1a676483e.png)

应该分为订单表和订单详情表，用一对多去解决。  
![](/attachments/1a119aa50bcd364c4984de28b14c7552.png)

#### 第三范式

假如有一张学生表，所有属性都完全依赖于学号，所以满足第二范式，但是“班主任性别”和“班主任年龄”直接依赖的是“班主任姓名”，而不是主键学号，如下：

![](/attachments/47144fe44ab2edfd94ab4d502b57a59b.png)

需要做如下调整：  
![](/attachments/c5303fb25ade50f9f7c3c69869ac6229.png)

#### 反三范式

没有冗余的数据库未必是最好的数据库，有时为了提高运行效率，提高读性能，就必须降低范式标准，适当保留冗余数据。

具体做法是： 在概念数据模型设计时遵守第三范式，降低范式标准的工作放到物理数据模型设计时考虑。降低范式就是增加字段，减少了查询时的关联，提高查询效率，因为在数据库的操作中查询的比例要远远大于DML的比例。但是反范式化一定要适度，并且在原本已满足三范式的基础上再做调整的。

## 参考资料

*   [https://blog.csdn.net/qq\_46138725/article/details/106810421](https://blog.csdn.net/qq_46138725/article/details/106810421)


