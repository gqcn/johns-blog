<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/AI技术/RDMA/InfiniBand vs RoCE" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>InfiniBand vs RoCE | John's Blog</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://johng.cn/ai/rdma-infiniband-vs-roce><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="InfiniBand vs RoCE | John's Blog"><meta data-rh=true name=description content="深入对比InfiniBand与RoCE v2两种主流RDMA网络解决方案的技术特性、性能表现和应用场景。详细解析InfiniBand的子网管理器机制、信用流控、自适应路由等核心特性，以及RoCE v2基于以太网的分布式架构、PFC/ECN流控配置。对比两者在业务性能、扩展规模、运维管理和成本方面的差异，为AI训练集群和数据中心网络选型提供决策参考"><meta data-rh=true property=og:description content="深入对比InfiniBand与RoCE v2两种主流RDMA网络解决方案的技术特性、性能表现和应用场景。详细解析InfiniBand的子网管理器机制、信用流控、自适应路由等核心特性，以及RoCE v2基于以太网的分布式架构、PFC/ECN流控配置。对比两者在业务性能、扩展规模、运维管理和成本方面的差异，为AI训练集群和数据中心网络选型提供决策参考"><meta data-rh=true name=keywords content="InfiniBand,RoCE,RoCE v2,RDMA网络,高性能网络对比,子网管理器,SM,无损网络,信用流控,自适应路由,PFC,ECN,Headroom,NVIDIA ConnectX,Broadcom Tomahawk,HDR,NDR,400Gbps,GPU集群互联,数据中心网络架构,网络延迟,网络吞吐量,成本对比,扩展性,AI训练网络"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://johng.cn/ai/rdma-infiniband-vs-roce><link data-rh=true rel=alternate href=https://johng.cn/ai/rdma-infiniband-vs-roce hreflang=en><link data-rh=true rel=alternate href=https://johng.cn/ai/rdma-infiniband-vs-roce hreflang=x-default><link data-rh=true rel=preconnect href=https://XGS1CPQERK-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="John's Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="John's Blog Atom Feed"><link rel=search type=application/opensearchdescription+xml title="John's Blog" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?6b4ae23dc83ee5efe875b7172af6c7c1 async></script><link rel=stylesheet href=/assets/css/styles.b3f7724c.css><script src=/assets/js/runtime~main.38b121e9.js defer></script><script src=/assets/js/main.5daefaa8.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">John's Blog</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" sidebarid=mainSidebar href=/ai>AI技术</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/cloud-native>云原生</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/notes>日常笔记</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/programming>开发语言</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/architecture>技术架构</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/observability>可观测性</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/database-and-middleware>数据库与中间件</a><a class="navbar__item navbar__link" href=/aboutme>关于我</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/blog>博客</a><a href=https://goframe.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-goframe-link"></a><a href=https://github.com/gqcn target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/ai>AI技术</a><button aria-label="Collapse sidebar category 'AI技术'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/nvidia>NVIDIA</a><button aria-label="Expand sidebar category 'NVIDIA'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/distributed-inference>分布式推理</a><button aria-label="Expand sidebar category '分布式推理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/scheduling>算力资源调度</a><button aria-label="Expand sidebar category '算力资源调度'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/rdma>RDMA</a><button aria-label="Collapse sidebar category 'RDMA'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/rdma-brief>RDMA技术架构深度解析</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/ai/rdma-infiniband-vs-roce>InfiniBand vs RoCE</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/vgpu>vGPU</a><button aria-label="Expand sidebar category 'vGPU'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/ai/common-acceleration-cards>常见智算加速卡汇总</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/ai/general-ai-model-and-reasoning-ai-model-difference>通用大模型和推理大模型区别</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/ai/common-ai-model-training-inference-framework>常见AI模型训练推理框架对比</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/ai/ai-training-inference-scenarios>AI模型训练推理常见业务场景痛点</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/cloud-native>云原生</a><button aria-label="Expand sidebar category '云原生'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/notes>日常笔记</a><button aria-label="Expand sidebar category '日常笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/programming>开发语言</a><button aria-label="Expand sidebar category '开发语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/architecture>技术架构</a><button aria-label="Expand sidebar category '技术架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/management>技术管理</a><button aria-label="Expand sidebar category '技术管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/observability>可观测性</a><button aria-label="Expand sidebar category '可观测性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/database-and-middleware>数据库与中间件</a><button aria-label="Expand sidebar category '数据库与中间件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/operating-systems-and-networks>操作系统和网络</a><button aria-label="Expand sidebar category '操作系统和网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai><span itemprop=name>AI技术</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/rdma><span itemprop=name>RDMA</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>InfiniBand vs RoCE</span><meta itemprop=position content=3></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>在当前人工智能技术飞速发展的背景下，其在包括自然语言处理、计算机视觉、自动驾驶系统、虚拟助手服务、推荐算法以及医疗诊断在内的众多前沿应用中发挥着至关重要的作用。随着AI应用的不断深化与升级，数据中心基础设施必须应对日益严苛的要求，特别是对于低延迟、高吞吐量网络的需求愈发迫切，以确保能够高效处理复杂且数据密集型的工作负载。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=infiniband网络简介>InfiniBand网络简介<a href=#infiniband网络简介 class=hash-link aria-label="Direct link to InfiniBand网络简介" title="Direct link to InfiniBand网络简介">​</a></h2>
<p>在高性能计算数据中心中，<code>InfiniBand</code>网络凭借其卓越的性能和可靠性备受瞩目。该网络通过专门设计的<code>InfiniBand</code>适配器或交换机实现高效的数据传输，并由多个核心组件构成：子网管理器（<code>SM</code>）、<code>InfiniBand</code>网卡、<code>InfiniBand</code>交换设备以及专用的<code>InfiniBand</code>线缆与光模块。</p>
<p>全球知名芯片制造商<code>NVIDIA</code>，在推动高性能计算和高性能计算领域发展的同时，也成为了提供一系列<code>InfiniBand</code>网卡解决方案的主要力量。其中包括正在快速演进的<code>200Gbps HDR</code>技术及已大规模商业部署的<code>400Gbps NDR</code>网卡产品。此处展示的图表即为目前广泛应用的<code>InfiniBand</code>网络接口卡类型。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-5d8b5ac41cbc37ca3e7a6a5a8e44e5b8.png width=1560 height=441 class=img_ev3q></p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-1-b29abe2eba27f92f1458155e672247b8.png width=1560 height=365 class=img_ev3q></p>
<p>值得一提的是，<code>InfiniBand</code>交换机不运行传统路由协议，而是采用集中式管理机制，由子网管理器负责整个网络转发表的计算与分发工作，同时承担着配置<code>InfiniBand</code>子网内部特性的重要任务，例如分区策略和服务质量（<code>QoS</code>）。构建<code>InfiniBand</code>网络时，必须使用专为<code>InfiniBand</code>设计的电缆和光模块来确保交换机之间以及交换机与网卡之间的无缝连接。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=infiniband网络解决方案特性>InfiniBand网络解决方案特性<a href=#infiniband网络解决方案特性 class=hash-link aria-label="Direct link to InfiniBand网络解决方案特性" title="Direct link to InfiniBand网络解决方案特性">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=本征无损传输机制>本征无损传输机制<a href=#本征无损传输机制 class=hash-link aria-label="Direct link to 本征无损传输机制" title="Direct link to 本征无损传输机制">​</a></h3>
<p><code>InfiniBand</code>网络创新性地采用了基于信用的信号控制策略，从底层设计上有效防止了缓冲区溢出和数据包丢失的问题。在数据发送前，发送端会确保接收端拥有充足的信用额度来处理相应数量的数据包。每条链路在<code>InfiniBand</code>架构中均预设了缓冲区，数据传输量严格受限于接收端当前可用的缓冲区容量。一旦接收端完成转发任务，即释放缓冲区，并实时更新并反馈当前剩余的缓冲区大小。这种链路级别的流量控制技术确保了发送端不会向网络中过度填充数据，从而有效地避免了因缓冲区满载而导致的数据包丢失。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-2-97193a04150e422a918c9c5019b41208.png width=1560 height=529 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=网卡扩展及自适应路由能力>网卡扩展及自适应路由能力<a href=#网卡扩展及自适应路由能力 class=hash-link aria-label="Direct link to 网卡扩展及自适应路由能力" title="Direct link to 网卡扩展及自适应路由能力">​</a></h3>
<p><code>InfiniBand</code>网络还采用了先进的自适应路由技术，支持针对每个数据包进行动态路径选择，这使得在网络大规模部署时能充分利用资源，实现最优性能表现。例如，在百度高性能计算云、微软Azure等大型云计算环境中，采用<code>InfiniBand</code>互联的GPU集群得到了广泛应用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=市场主要供应商及其产品优势>市场主要供应商及其产品优势<a href=#市场主要供应商及其产品优势 class=hash-link aria-label="Direct link to 市场主要供应商及其产品优势" title="Direct link to 市场主要供应商及其产品优势">​</a></h3>
<p>目前市场上有多家主流供应商提供具备竞争力的<code>InfiniBand</code>网络解决方案及相关硬件设备，其中<code>NVIDIA</code>凭借超过<code>70%</code>的市场份额成为市场领导者。此外，其他重要的行业参与者包括：</p>
<ul>
<li><strong>英特尔公司</strong>：其供应一系列专为<code>InfiniBand</code>优化设计的网络产品和全套解决方案。</li>
<li><strong>思科系统</strong>：作为全球知名的网络设备制造商，思科提供了功能强大的<code>InfiniBand</code>交换机及相关配套产品。</li>
<li><strong>惠普企业（HPE）</strong>：作为业界权威的IT企业，惠普企业推出了种类丰富的<code>InfiniBand</code>网络解决方案，涵盖了适配器、交换机以及服务器等多种关键组件。</li>
</ul>
<p>这些顶级供应商的产品与解决方案均根据不同的用户需求进行了精细化定制，并能够满足各种规模和应用场景下对<code>InfiniBand</code>网络的部署要求。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=roce-v2网络技术概述>RoCE v2网络技术概述<a href=#roce-v2网络技术概述 class=hash-link aria-label="Direct link to RoCE v2网络技术概述" title="Direct link to RoCE v2网络技术概述">​</a></h2>
<p>不同于依赖于集中式管理架构（如子网管理器<code>SM</code>）的<code>InfiniBand</code>网络，<code>RoCE v2</code>网络采用全分布式架构设计，并由具备<code>RoCEv2</code>功能的<code>NIC</code>（网络接口卡）和交换机共同构建，通常以两层架构部署在数据中心环境中。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-3-174f24fd9be11c314459d6a174375b07.png width=1560 height=767 class=img_ev3q></p>
<p>多家主流制造商已提供支持<code>RoCE</code>技术的网络适配器产品，其中<code>NVIDIA</code>、<code>Intel</code>和<code>Broadcom</code>是主要供应商。作为数据中心服务器网络适配器的主要形态，<code>PCIe</code>卡广泛应用其中。<code>RDMA</code>卡普遍配置有<code>50Gbps</code>起步的端口<code>PHY</code>速率，目前市面上可购买到的商用单端口网络适配器最高速度已达<code>400Gbps</code>级别。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-4-96afadb9f427d40a26978f80bb1b2f74.png width=1560 height=500 class=img_ev3q></p>
<p>当前大部分数据中心交换机均已集成<code>RDMA</code>流控技术，在与<code>RoCE</code>网络适配器协同工作时，能够实现从发送端到接收端的高效<code>RDMA</code>通信。全球顶尖的数据中心交换机厂商，如<code>Cisco</code>、<code>Hewlett Packard Enterprise（HPE）</code>以及<code>Arista</code>等，均提供了高性能且稳定的数据中心解决方案，以满足大规模数据中心对带宽和性能的需求。这些公司在网络技术创新、性能优化及扩展性方面积累了深厚的专业经验，并在全球范围内赢得了广泛的市场认可和应用实践。</p>
<p>高性能交换机的核心竞争力在于其采用的转发芯片。在当前市场中，<code>Broadcom</code>公司的<code>Tomahawk</code>系列芯片被广泛应用于商业交换机的转发层面。其中，<code>Tomahawk3</code>系列芯片在现役交换机市场上占据主导地位，而随着技术迭代升级，越来越多的新型交换机开始支持更先进的<code>Tomahawk4</code>系列芯片。
<code>RoCE v2</code>基于以太网协议运行，因此可以充分利用传统的以太网光纤和光模块资源进行部署。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-5-91795ec3019d64d20a03bb9c67989949.png width=1560 height=1000 class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=roce-v2网络技术特性解析>ROCE v2网络技术特性解析<a href=#roce-v2网络技术特性解析 class=hash-link aria-label="Direct link to ROCE v2网络技术特性解析" title="Direct link to ROCE v2网络技术特性解析">​</a></h2>
<p>相比于<code>InfiniBand</code>，<code>RoCE v2</code>网络解决方案在灵活性和成本效益上展现出更多优势。该技术不仅能够构建高性能的<code>RDMA</code>（远程直接内存访问）网络环境，同时还能无缝融入传统以太网架构中。然而，在实际部署过程中，需要对交换机进行诸如<code>Headroom</code>预留、<code>PFC</code>（优先级流量控制）以及<code>ECN</code>（显式拥塞通知）等参数的精细配置，这可能会增加一定的实施复杂度。尤其是在大规模部署场景下，尤其是当涉及大量网络接口卡时，相较于<code>InfiniBand</code>网络，<code>RoCE v2</code>网络的整体吞吐性能可能略逊一筹。</p>
<p>当前市场上，多家主流交换机供应商均支持<code>RoCE</code>协议，并提供了相应的解决方案。其中，<code>NVIDIA</code>推出的<code>ConnectX</code>系列网络适配器在与<code>RoCE v2</code>兼容性方面表现卓越，已在市场占有率上占据了显著地位。这意味着选择<code>RoCE v2</code>方案的企业能够在保持较高性价比的同时，享受到来自全球领先厂商的技术支持和服务保障。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=infiniband-vs-roce-v2>InfiniBand vs. RoCE v2<a href=#infiniband-vs-roce-v2 class=hash-link aria-label="Direct link to InfiniBand vs. RoCE v2" title="Direct link to InfiniBand vs. RoCE v2">​</a></h2>
<p>从技术层面剖析，<code>InfiniBand</code>通过整合多种创新技术手段，有效提升了网络数据转发效率、缩短了故障恢复时间、增强了网络扩展性，并简化了运维管理的复杂度。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-6-d720e15e3b9ae7c739ac68a1acef5028.png width=1560 height=626 class=img_ev3q></p>
<p>在实际应用中，<code>RoCE v2</code>作为一项高效解决方案，在满足大多数智能计算场景需求的同时，<code>InfiniBand</code>则凭借其在特定领域的卓越性能表现而备受瞩目。</p>
<p><strong>业务性能</strong>：<code>InfiniBand</code>因其较低的端到端延迟特性，在应用层面上能提供更优的业务性能体验。尽管如此，<code>RoCE v2</code>同样能够在大部分智能计算场景下达到用户所需的业务处理效能标准。</p>
<p><img decoding=async loading=lazy alt="alt text" src=/assets/images/image-7-1c1432d06da37938e902514a3290cb72.png width=1560 height=702 class=img_ev3q></p>
<p><strong>业务规模</strong>：<code>InfiniBand</code>具备强大的扩展能力，能够支持数万个GPU卡构建集群，且在大规模部署下仍可保持性能稳定无损，已在业界拥有大量成功商业应用案例。而<code>RoCE v2</code>网络也不甘示弱，它能够支撑数千张卡构成的集群，并且整体网络性能并无显著下滑。</p>
<p><strong>业务运维</strong>：<code>InfiniBand</code>相较于<code>RoCE v2</code>更加成熟，提供了诸如多租户隔离及运维诊断等高级功能，为数据中心的运维管理带来了更高的便捷性和可控性。</p>
<p><strong>成本考量</strong>：<code>InfiniBand</code>的成本相对较高，主要原因在于其交换机设备的价格高于以太网交换机。</p>
<p><strong>关于供应商</strong>：<code>NVIDIA</code>作为<code>InfiniBand</code>的主要供应商，持续为市场提供优质的产品与服务；而在<code>RoCE v2</code>领域，则有多家供应商共同参与并提供支持，为用户提供了更多元化的选择空间。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=总结>总结<a href=#总结 class=hash-link aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2>
<p>近年来，数据中心网络技术发展的一个重要方向是简化网络架构设计、加快部署进程以及优化运维管理。通过采用如无编号<code>BGP</code>等创新技术方案，能够有效减少对复杂IP地址规划的依赖性，从而避免配置错误的发生，提升整体工作效率。与此同时，诸如<code>WJH</code>这类实时故障检测工具为网络运维带来了深度洞察力，极大地助力于快速定位和解决网络问题。</p>
<p>随着数据中心基础设施向分布式和多数据中心互联模式演进，对于更高速率及更高品质网络连接的需求日益增长。为了满足不断提升的整体服务质量要求，市场呼唤更为高效且可靠的网络解决方案。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=参考资料>参考资料<a href=#参考资料 class=hash-link aria-label="Direct link to 参考资料" title="Direct link to 参考资料">​</a></h2>
<ul>
<li><a href=https://mp.weixin.qq.com/s/_iMaOEiBYKalwE1GoLI0bQ target=_blank rel="noopener noreferrer">https://mp.weixin.qq.com/s/_iMaOEiBYKalwE1GoLI0bQ</a></li>
<li><a href=https://mp.weixin.qq.com/s/wO1obFYjA2weoWAHc-xaSg target=_blank rel="noopener noreferrer">https://mp.weixin.qq.com/s/wO1obFYjA2weoWAHc-xaSg</a></li>
<li><a href=https://mp.weixin.qq.com/s/5nvFBWGQZA8WdPTHV_IRwA target=_blank rel="noopener noreferrer">https://mp.weixin.qq.com/s/5nvFBWGQZA8WdPTHV_IRwA</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/ai/rdma-brief><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>RDMA技术架构深度解析</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/ai/vgpu><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>vGPU</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#infiniband网络简介 class="table-of-contents__link toc-highlight">InfiniBand网络简介</a><li><a href=#infiniband网络解决方案特性 class="table-of-contents__link toc-highlight">InfiniBand网络解决方案特性</a><ul><li><a href=#本征无损传输机制 class="table-of-contents__link toc-highlight">本征无损传输机制</a><li><a href=#网卡扩展及自适应路由能力 class="table-of-contents__link toc-highlight">网卡扩展及自适应路由能力</a><li><a href=#市场主要供应商及其产品优势 class="table-of-contents__link toc-highlight">市场主要供应商及其产品优势</a></ul><li><a href=#roce-v2网络技术概述 class="table-of-contents__link toc-highlight">RoCE v2网络技术概述</a><li><a href=#roce-v2网络技术特性解析 class="table-of-contents__link toc-highlight">ROCE v2网络技术特性解析</a><li><a href=#infiniband-vs-roce-v2 class="table-of-contents__link toc-highlight">InfiniBand vs. RoCE v2</a><li><a href=#总结 class="table-of-contents__link toc-highlight">总结</a><li><a href=#参考资料 class="table-of-contents__link toc-highlight">参考资料</a></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2025 johng.cn</div></div></div></footer></div>