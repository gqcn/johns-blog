<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/AI技术/基础架构/NVIDIA/GPU Direct通信技术" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>GPU Direct通信技术 | John's Blog</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://johng.cn/ai/gpu-direct><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=author content="John Guo"><meta data-rh=true property=og:image content=https://johng.cn/img/favicon.png><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="GPU Direct通信技术 | John's Blog"><meta data-rh=true name=description content="全面解析NVIDIA GPU Direct通信技术体系，包括GPU Direct Storage（存储直连）、GPU Direct P2P（GPU间点对点通信）、GPU Direct RDMA（远程直接内存访问）三大核心技术。深入讲解NVLink高速互联和NVSwitch全互联交换架构，阐述如何通过绕过CPU实现GPU与存储、网络、GPU间的直接数据传输，显著降低延迟、提升带宽，为大规模AI训练和高性能计算提供关键的通信加速能力。"><meta data-rh=true property=og:description content="全面解析NVIDIA GPU Direct通信技术体系，包括GPU Direct Storage（存储直连）、GPU Direct P2P（GPU间点对点通信）、GPU Direct RDMA（远程直接内存访问）三大核心技术。深入讲解NVLink高速互联和NVSwitch全互联交换架构，阐述如何通过绕过CPU实现GPU与存储、网络、GPU间的直接数据传输，显著降低延迟、提升带宽，为大规模AI训练和高性能计算提供关键的通信加速能力。"><meta data-rh=true name=keywords content="GPU Direct,GPUDirect,GPU Direct Storage,GPU Direct P2P,GPU Direct RDMA,NVLink,NVSwitch,GPU通信,高性能计算,HPC,AI训练,数据传输,PCIe,RDMA,NVMe,GPU互联,低延迟,高带宽,NVIDIA,异构计算,深度学习,模型训练加速"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://johng.cn/ai/gpu-direct><link data-rh=true rel=alternate href=https://johng.cn/ai/gpu-direct hreflang=en><link data-rh=true rel=alternate href=https://johng.cn/ai/gpu-direct hreflang=x-default><link data-rh=true rel=preconnect href=https://XGS1CPQERK-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="John's Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="John's Blog Atom Feed"><link rel=search type=application/opensearchdescription+xml title="John's Blog" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?6b4ae23dc83ee5efe875b7172af6c7c1 async></script><link rel=stylesheet href=/assets/css/styles.2f56d3c4.css><script src=/assets/js/runtime~main.11a8a766.js defer></script><script src=/assets/js/main.ce81324a.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">John's Blog</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/ai>AI技术</a><a class="navbar__item navbar__link" href=/cloud-native>云原生</a><a class="navbar__item navbar__link" href=/notes>日常笔记</a><a class="navbar__item navbar__link" href=/programming>开发语言</a><a class="navbar__item navbar__link" href=/architecture>技术架构</a><a class="navbar__item navbar__link" href=/observability>可观测性</a><a class="navbar__item navbar__link" href=/life>生活笔记</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/aboutme>关于我</a><a class="navbar__item navbar__link" href=/blog>博客</a><a href=https://goframe.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-goframe-link"></a><a href=https://github.com/gqcn target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/ai>AI技术</a><button aria-label="Collapse sidebar category 'AI技术'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/agents>智能体</a><button aria-label="Expand sidebar category '智能体'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/app>应用开发</a><button aria-label="Expand sidebar category '应用开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/inference>推理服务</a><button aria-label="Expand sidebar category '推理服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/training>训练微调</a><button aria-label="Expand sidebar category '训练微调'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/infra>基础架构</a><button aria-label="Collapse sidebar category '基础架构'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/vgpu>vGPU</a><button aria-label="Expand sidebar category 'vGPU'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/rdma>RDMA</a><button aria-label="Expand sidebar category 'RDMA'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/nvidia>NVIDIA</a><button aria-label="Collapse sidebar category 'NVIDIA'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/nfd-gfd>NFD&GFD</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-operator>GPU Operator</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-dcgm-exporter>GPU 监控方案</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/ai/gpu-direct>GPU Direct通信技术</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-pcie-vs-sxm>GPU PCIe版和SXM版的区别</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-share-solutions>GPU Share 常见技术方案</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-share-mps-mig>GPU Share MPS&MIG具体操作与注意事项</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-mig-docker-specify-subcard>GPU MIG拆卡后使用docker指定子卡执行</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-mig-pod-pending-terminating-troubleshooting>GPU MIG拆卡后Pod偶发Pending/Terminating状态阻塞问题排查</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-environment-setup-guide>GPU环境搭建指南：在裸机、Docker、K8S环境中使用GPU</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/scheduling>算力调度</a><button aria-label="Expand sidebar category '算力调度'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/what-is-llmops-mlops>LLMOps介绍</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/common-acceleration-cards>常见智算加速卡汇总</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/ai-training-inference-scenarios>AI基础架构中常见业务场景痛点</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/cpu-gpu>CPU&GPU架构差异及AI场景中的应用</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/basic>入门知识</a><button aria-label="Expand sidebar category '入门知识'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/cloud-native>云原生</a><button aria-label="Expand sidebar category '云原生'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/notes>日常笔记</a><button aria-label="Expand sidebar category '日常笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/programming>开发语言</a><button aria-label="Expand sidebar category '开发语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/architecture>技术架构</a><button aria-label="Expand sidebar category '技术架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/management>技术管理</a><button aria-label="Expand sidebar category '技术管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/observability>可观测性</a><button aria-label="Expand sidebar category '可观测性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/database-and-middleware>数据库与中间件</a><button aria-label="Expand sidebar category '数据库与中间件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/operating-systems-and-networks>操作系统和网络</a><button aria-label="Expand sidebar category '操作系统和网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/life>生活笔记</a><button aria-label="Expand sidebar category '生活笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai><span itemprop=name>AI技术</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/infra><span itemprop=name>基础架构</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/nvidia><span itemprop=name>NVIDIA</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>GPU Direct通信技术</span><meta itemprop=position content=4></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct技术概述>GPU Direct技术概述<a href=#gpu-direct技术概述 class=hash-link aria-label="Direct link to GPU Direct技术概述" title="Direct link to GPU Direct技术概述">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=什么是gpu-direct>什么是GPU Direct？<a href=#什么是gpu-direct class=hash-link aria-label="Direct link to 什么是GPU Direct？" title="Direct link to 什么是GPU Direct？">​</a></h3>
<p><code>GPU Direct</code>是<code>NVIDIA</code>开发的一系列高性能通信技术，旨在实现<code>GPU</code>与其他设备（网络接口卡<code>NIC</code>、存储设备、其他<code>GPU</code>）之间的<strong>直接数据传输</strong>，绕过<code>CPU</code>和主机内存，从而消除传统数据传输路径中的性能瓶颈。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=传统数据传输的瓶颈>传统数据传输的瓶颈<a href=#传统数据传输的瓶颈 class=hash-link aria-label="Direct link to 传统数据传输的瓶颈" title="Direct link to 传统数据传输的瓶颈">​</a></h3>
<p>在传统架构中，<code>GPU</code>与外部设备之间的数据传输必须经过<code>CPU</code>和主机内存。该架构存在以下问题：</p>
<ul>
<li><strong>CPU成为瓶颈</strong>：所有数据都要经过<code>CPU</code>处理，占用<code>CPU</code>资源</li>
<li><strong>多次内存拷贝</strong>：数据需要在设备内存、主机内存、<code>GPU</code>显存之间多次拷贝</li>
<li><strong>延迟增加</strong>：每次拷贝和<code>CPU</code>介入都增加延迟</li>
<li><strong>带宽受限</strong>：受制于<code>PCIe</code>和<code>CPU</code>内存带宽限制</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct的核心价值>GPU Direct的核心价值<a href=#gpu-direct的核心价值 class=hash-link aria-label="Direct link to GPU Direct的核心价值" title="Direct link to GPU Direct的核心价值">​</a></h3>
<p><code>GPU Direct</code>通过 <strong>直接内存访问（<code>DMA</code>）</strong> 技术，让设备绕过<code>CPU</code>直接与<code>GPU</code>显存通信。主要优势：</p>
<ul>
<li>✅ <strong>消除CPU瓶颈</strong>：<code>CPU</code>不再参与数据搬运，释放<code>CPU</code>资源</li>
<li>✅ <strong>减少内存拷贝</strong>：数据直接在源和目标之间传输，避免中间拷贝</li>
<li>✅ <strong>降低延迟</strong>：减少数据传输路径，大幅降低端到端延迟</li>
<li>✅ <strong>提升带宽</strong>：充分利用设备间的直连带宽，突破<code>CPU</code>和<code>内存</code>限制</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct技术家族>GPU Direct技术家族<a href=#gpu-direct技术家族 class=hash-link aria-label="Direct link to GPU Direct技术家族" title="Direct link to GPU Direct技术家族">​</a></h3>
<p><code>GPU Direct</code>包含多项子技术，分别针对不同场景：</p>
<table><thead><tr><th>技术<th>场景<th>核心功能<tbody><tr><td><code>GPU Direct Storage</code><td><code>GPU ↔ 存储</code><td><code>GPU</code>直接访问<code>NVMe/SSD</code>，绕过<code>CPU</code>加载数据<tr><td><code>GPU Direct P2P</code><td><code>GPU ↔ GPU</code>（同节点）<td>同服务器内<code>GPU</code>间点对点通信，共享<code>PCIe</code>通道<tr><td><code>GPU Direct RDMA</code><td><code>GPU ↔ 网络</code><td><code>GPU</code>直接与网卡通信，实现远程直接内存访问<tr><td><code>GPU Direct Video</code><td><code>GPU ↔ 视频设备</code><td><code>GPU</code>直接处理视频流（本文不涉及）</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct-storage存储直连>GPU Direct Storage（存储直连）<a href=#gpu-direct-storage存储直连 class=hash-link aria-label="Direct link to GPU Direct Storage（存储直连）" title="Direct link to GPU Direct Storage（存储直连）">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术背景>技术背景<a href=#技术背景 class=hash-link aria-label="Direct link to 技术背景" title="Direct link to 技术背景">​</a></h3>
<p>随着<code>AI</code>和<code>HPC</code>数据集规模爆炸式增长（TB到PB级），<strong>I/O性能</strong>逐渐成为系统瓶颈：</p>
<ul>
<li><strong>计算速度提升</strong>：<code>GPU</code>计算能力从<code>TFLOPS</code>到<code>PFLOPS</code>级别</li>
<li><strong>I/O速度停滞</strong>：传统<code>CPU</code>控制的<code>I/O</code>流程成为瓶颈</li>
<li><strong>数据加载时间</strong>：加载训练数据的时间开始主导整体训练时长</li>
</ul>
<p><strong>传统I/O流程的问题：</strong></p>
<ul>
<li>数据需要先拷贝到<code>CPU</code>的内核缓冲区（<code>Bounce Buffer</code>）</li>
<li>再从<code>CPU</code>内存拷贝到<code>GPU</code>显存</li>
<li><strong>两次拷贝 + <code>CPU</code>开销 = 严重的性能损失</strong></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct-storage原理>GPU Direct Storage原理<a href=#gpu-direct-storage原理 class=hash-link aria-label="Direct link to GPU Direct Storage原理" title="Direct link to GPU Direct Storage原理">​</a></h3>
<p><img decoding=async loading=lazy alt="GPU Direct Storage" src=/assets/images/image-a57bb410f1a06c9080adc00d0be1686d.png width=1280 height=641 class=img_ev3q></p>
<p><strong>核心思想</strong>：让存储设备的<code>DMA</code>引擎直接访问<code>GPU</code>显存，完全绕过<code>CPU</code>和主机内存。</p>
<p><strong>技术实现：</strong></p>
<ol>
<li><strong>存储控制器</strong>支持<code>GPU Direct</code>（如<code>NVMe</code>驱动增强）</li>
<li><strong>DMA引擎</strong>直接将数据从存储介质写入<code>GPU</code>显存</li>
<li><strong>驱动协同</strong>：存储驱动、<code>GPU</code>驱动、文件系统协同工作</li>
<li><strong>零拷贝</strong>：数据在物理层面直接从存储到<code>GPU</code>，不经过任何中间缓冲</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=性能提升>性能提升<a href=#性能提升 class=hash-link aria-label="Direct link to 性能提升" title="Direct link to 性能提升">​</a></h3>
<p>以<code>NVIDIA DGX-2</code>系统为例：</p>
<table><thead><tr><th>方式<th>带宽<th>说明<tbody><tr><td><strong>传统方式</strong><td><code>~50 GB/s</code><td>受限于<code>CPU</code>内存到<code>GPU</code>的<code>PCIe</code>带宽<tr><td><strong>GPU Direct Storage</strong><td><code>~200 GB/s</code><td>多路<code>NVMe</code> + 多路网络并行直达<code>GPU</code></table>
<p><strong>提升<code>4</code>倍带宽！</strong> 存储位置无关（本地<code>NVMe</code>、<code>NAS</code>、<code>NVMe-oF</code>远程存储均可）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=主要特点和优势>主要特点和优势<a href=#主要特点和优势 class=hash-link aria-label="Direct link to 主要特点和优势" title="Direct link to 主要特点和优势">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=1-减少cpu参与>1. 减少CPU参与<a href=#1-减少cpu参与 class=hash-link aria-label="Direct link to 1. 减少CPU参与" title="Direct link to 1. 减少CPU参与">​</a></h4>
<ul>
<li><code>CPU</code>不再参与数据搬运，释放<code>CPU</code>资源用于其他任务</li>
<li>提升系统整体效率和响应能力</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=2-低延迟数据访问>2. 低延迟数据访问<a href=#2-低延迟数据访问 class=hash-link aria-label="Direct link to 2. 低延迟数据访问" title="Direct link to 2. 低延迟数据访问">​</a></h4>
<ul>
<li>消除经过<code>CPU</code>的传输路径，最小化端到端延迟</li>
<li>对实时分析、在线推理、<code>HPC</code>模拟等延迟敏感场景至关重要</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=3-提高存储性能>3. 提高存储性能<a href=#3-提高存储性能 class=hash-link aria-label="Direct link to 3. 提高存储性能" title="Direct link to 3. 提高存储性能">​</a></h4>
<ul>
<li>高速数据传输，充分发挥<code>NVMe</code>/<code>NVMe-oF</code>存储性能</li>
<li>加速数据密集型工作负载（如大规模模型训练、数据预处理）</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=4-增强可扩展性>4. 增强可扩展性<a href=#4-增强可扩展性 class=hash-link aria-label="Direct link to 4. 增强可扩展性" title="Direct link to 4. 增强可扩展性">​</a></h4>
<ul>
<li>支持多<code>GPU</code>并发访问存储</li>
<li>适合大规模分布式训练、多任务并行场景</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=5-广泛兼容性>5. 广泛兼容性<a href=#5-广泛兼容性 class=hash-link aria-label="Direct link to 5. 广泛兼容性" title="Direct link to 5. 广泛兼容性">​</a></h4>
<ul>
<li><strong>存储协议</strong>：<code>NVMe</code>、<code>NVMe over Fabrics (NVMe-oF)</code>、<code>NAS</code></li>
<li><strong>软件生态</strong>：集成到<code>CUDA</code>、<code>cuFile API</code>、主流深度学习框架</li>
<li><strong>硬件支持</strong>：主流存储厂商（<code>Dell</code>、<code>NetApp</code>、<code>Pure Storage</code>等）提供支持</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=应用场景>应用场景<a href=#应用场景 class=hash-link aria-label="Direct link to 应用场景" title="Direct link to 应用场景">​</a></h3>
<ul>
<li><strong>大规模模型训练</strong>：加速<code>TB</code>级数据集的加载（如<code>GPT</code>、<code>LLM</code>训练）</li>
<li><strong>实时推理</strong>：快速加载模型参数和输入数据</li>
<li><strong>科学计算</strong>：<code>HPC</code>应用中的海量数据<code>I/O</code>（气候模拟、基因测序）</li>
<li><strong>数据分析</strong>：大数据处理中的高速数据读取</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct-p2p点对点通信>GPU Direct P2P（点对点通信）<a href=#gpu-direct-p2p点对点通信 class=hash-link aria-label="Direct link to GPU Direct P2P（点对点通信）" title="Direct link to GPU Direct P2P（点对点通信）">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术背景-1>技术背景<a href=#技术背景-1 class=hash-link aria-label="Direct link to 技术背景" title="Direct link to 技术背景">​</a></h3>
<p>在多<code>GPU</code>系统中，<code>GPU</code>之间频繁需要交换数据：</p>
<ul>
<li><strong>模型并行</strong>：不同<code>GPU</code>负责模型的不同部分</li>
<li><strong>数据并行</strong>：梯度同步、参数更新需要<code>GPU</code>间通信</li>
<li><strong>流水线并行</strong>：不同阶段间传递中间结果</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=传统方式的低效>传统方式的低效<a href=#传统方式的低效 class=hash-link aria-label="Direct link to 传统方式的低效" title="Direct link to 传统方式的低效">​</a></h3>
<p><strong>没有<code>GPU Direct P2P</code>时的数据传输：</strong></p>
<p><img decoding=async loading=lazy alt="没有GPU Direct P2P时的数据传输" src=/assets/images/2-42bf02ff4d0995311bf9b84e55ff84f3.gif width=700 height=480 class=img_ev3q></p>
<ul>
<li>数据从源<code>GPU</code>通过<code>PCIe</code>拷贝到<code>CPU</code>主机内存（第<code>1</code>次拷贝）</li>
<li>再从<code>CPU</code>内存通过<code>PCIe</code>拷贝到目标<code>GPU</code>（第<code>2</code>次拷贝）</li>
<li><strong>两次拷贝 + <code>CPU</code>介入 = 延迟高、带宽浪费</strong></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=gpu-direct-p2p原理>GPU Direct P2P原理<a href=#gpu-direct-p2p原理 class=hash-link aria-label="Direct link to GPU Direct P2P原理" title="Direct link to GPU Direct P2P原理">​</a></h3>
<p><strong>核心机制</strong>：如果两个<code>GPU</code>连接到同一<code>PCIe</code>总线（或同一<code>PCIe</code>交换机），允许它们直接访问彼此的显存，无需<code>CPU</code>参与。</p>
<p><img decoding=async loading=lazy alt="GPU Direct P2P时的数据传输" src=/assets/images/3-8308c815ec809b1bf0f48750724760e5.gif width=700 height=480 class=img_ev3q></p>
<p><strong>技术要点：</strong></p>
<ol>
<li><strong>PCIe P2P协议</strong>：<code>GPU</code>间通过<code>PCIe</code>的点对点传输能力直接通信</li>
<li><strong>显存映射</strong>：目标<code>GPU</code>的显存地址映射到源<code>GPU</code>的地址空间</li>
<li><strong>DMA引擎</strong>：<code>GPU</code>自带的<code>DMA</code>引擎负责数据搬运</li>
<li><strong>零CPU开销</strong>：<code>CPU</code>仅负责初始化，数据传输无需<code>CPU</code>介入</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=性能提升-1>性能提升<a href=#性能提升-1 class=hash-link aria-label="Direct link to 性能提升" title="Direct link to 性能提升">​</a></h3>
<table><thead><tr><th>方式<th>拷贝次数<th>CPU参与<th>延迟<tbody><tr><td><strong>传统方式</strong><td><code>2</code>次<td>是<td>高<tr><td><strong>GPU Direct P2P</strong><td><code>1</code>次<td>否<td>低（减半）</table>
<ul>
<li><strong>延迟降低50%</strong></li>
<li><strong>带宽提升</strong>：充分利用<code>PCIe</code>带宽（<code>PCIe 4.0</code>约<code>64 GB/s</code>双向）</li>
<li><strong>CPU释放</strong>：<code>CPU</code>不再参与数据搬运</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=应用场景-1>应用场景<a href=#应用场景-1 class=hash-link aria-label="Direct link to 应用场景" title="Direct link to 应用场景">​</a></h3>
<ul>
<li><strong>数据并行训练</strong>：多<code>GPU</code>梯度同步（<code>AllReduce</code>操作）</li>
<li><strong>模型并行</strong>：不同<code>GPU</code>间传递激活值和梯度</li>
<li><strong>流水线并行</strong>：相邻阶段<code>GPU</code>间传递中间结果</li>
<li><strong>多任务推理</strong>：多<code>GPU</code>协同处理不同任务</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=局限性>局限性<a href=#局限性 class=hash-link aria-label="Direct link to 局限性" title="Direct link to 局限性">​</a></h3>
<ul>
<li><strong>拓扑限制</strong>：仅适用于连接到<strong>同一PCIe总线/交换机</strong>的<code>GPU</code></li>
<li><strong>带宽共享</strong>：多<code>GPU</code>共享<code>PCIe</code>带宽，可能产生竞争</li>
<li><strong>可扩展性</strong>：<code>PCIe</code>拓扑限制了全互联规模</li>
</ul>
<p><strong>解决方案</strong>：<code>NVLink</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=nvlink高速gpu互联>NVLink（高速GPU互联）<a href=#nvlink高速gpu互联 class=hash-link aria-label="Direct link to NVLink（高速GPU互联）" title="Direct link to NVLink（高速GPU互联）">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=为什么需要nvlink>为什么需要NVLink？<a href=#为什么需要nvlink class=hash-link aria-label="Direct link to 为什么需要NVLink？" title="Direct link to 为什么需要NVLink？">​</a></h3>
<p><code>GPU Direct P2P</code>虽然绕过了<code>CPU</code>，但仍受限于 <strong><code>PCIe</code>带宽和拓扑</strong>：</p>
<ul>
<li><strong><code>PCIe 4.0</code></strong>：单向<code>64 GB/s</code>（双向<code>128 GB/s</code>）</li>
<li><strong>拓扑限制</strong>：难以实现单机多<code>GPU</code>全互联（例如常见的单机<code>8</code>卡）</li>
<li><strong>带宽瓶颈</strong>：<code>AI</code>训练数据量增长远超<code>PCIe</code>带宽提升速度</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=nvlink技术>NVLink技术<a href=#nvlink技术 class=hash-link aria-label="Direct link to NVLink技术" title="Direct link to NVLink技术">​</a></h3>
<p><strong><code>NVLink</code><strong>是<code>NVIDIA</code>自研的</strong>高速、点对点<code>GPU</code>互联技术</strong>，专为<code>GPU</code>间大规模数据传输优化。</p>
<p><strong>首次亮相（2018）</strong>：</p>
<ul>
<li>应用于美国能源部的两台超级计算机：<!-- -->
<ul>
<li><code>Summit</code>（橡树岭国家实验室）</li>
<li><code>Sierra</code>（劳伦斯利弗莫尔国家实验室）</li>
</ul>
</li>
<li>连接<code>GPU-GPU</code>和<code>GPU-CPU</code>，成为<code>HPC</code>领域焦点</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=核心特性>核心特性<a href=#核心特性 class=hash-link aria-label="Direct link to 核心特性" title="Direct link to 核心特性">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=1-超高带宽>1. 超高带宽<a href=#1-超高带宽 class=hash-link aria-label="Direct link to 1. 超高带宽" title="Direct link to 1. 超高带宽">​</a></h4>
<ul>
<li><strong>第4代NVLink（Hopper架构）</strong>：<!-- -->
<ul>
<li>单<code>GPU</code>配备<code>18</code>条<code>NVLink</code>通道</li>
<li>每条通道双向<code>50 GB/s</code></li>
<li><strong>总带宽：900 GB/s</strong>（<code>18条 × 50 GB/s</code>）</li>
</ul>
</li>
<li><strong>对比PCIe 5.0</strong>：<code>128 GB/s</code>双向</li>
<li><strong>带宽优势：7倍于PCIe！</strong></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=2-超低延迟>2. 超低延迟<a href=#2-超低延迟 class=hash-link aria-label="Direct link to 2. 超低延迟" title="Direct link to 2. 超低延迟">​</a></h4>
<ul>
<li><strong>点对点直连</strong>：无需经过交换机或<code>CPU</code></li>
<li><strong>专用协议</strong>：针对<code>GPU</code>间通信优化，延迟更低</li>
<li><strong>硬件加速</strong>：<code>NVLink</code>控制器集成在<code>GPU</code>芯片内</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=3-内存共享nvlink-memory>3. 内存共享（NVLink Memory）<a href=#3-内存共享nvlink-memory class=hash-link aria-label="Direct link to 3. 内存共享（NVLink Memory）" title="Direct link to 3. 内存共享（NVLink Memory）">​</a></h4>
<ul>
<li><code>GPU</code>间可直接访问彼此的显存</li>
<li>构建<strong>统一内存空间</strong>，多<code>GPU</code>如同一块大显存</li>
<li>支持**<code>Cache</code>一致性协议**，简化编程模型</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=4-灵活扩展>4. 灵活扩展<a href=#4-灵活扩展 class=hash-link aria-label="Direct link to 4. 灵活扩展" title="Direct link to 4. 灵活扩展">​</a></h4>
<ul>
<li>支持<code>2/4/6/8/12/18</code>条通道配置</li>
<li>根据需求灵活分配带宽</li>
<li>支持<code>GPU-GPU</code>、<code>GPU-CPU</code>、<code>GPU-Switch</code>多种连接</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=架构演进>架构演进<a href=#架构演进 class=hash-link aria-label="Direct link to 架构演进" title="Direct link to 架构演进">​</a></h3>
<table><thead><tr><th>代数<th>架构<th>单通道带宽<th>单GPU通道数<th>总带宽<th>代表产品<tbody><tr><td><code>NVLink 1.0</code><td><code>Pascal</code><td><code>20 GB/s</code><td><code>4</code><td><code>160 GB/s</code><td><code>Tesla P100</code><tr><td><code>NVLink 2.0</code><td><code>Volta</code><td><code>25 GB/s</code><td><code>6</code><td><code>300 GB/s</code><td><code>Tesla V100</code><tr><td><code>NVLink 3.0</code><td><code>Ampere</code><td><code>25 GB/s</code><td><code>12</code><td><code>600 GB/s</code><td><code>A100</code><tr><td><code>NVLink 4.0</code><td><code>Hopper</code><td><code>25 GB/s</code><td><code>18</code><td><code>900 GB/s</code><td><code>H100</code></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=应用场景-2>应用场景<a href=#应用场�景-2 class=hash-link aria-label="Direct link to 应用场景" title="Direct link to 应用场景">​</a></h3>
<ul>
<li><strong>大规模AI训练</strong>：多<code>GPU</code>高速梯度同步</li>
<li><strong>超大模型</strong>：模型分片跨<code>GPU</code>，需要高速通信</li>
<li><strong>HPC模拟</strong>：科学计算中的<code>GPU</code>间数据交换</li>
<li><strong>实时推理</strong>：多<code>GPU</code>协同推理，低延迟要求</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=nvlink的局限>NVLink的局限<a href=#nvlink的局限 class=hash-link aria-label="Direct link to NVLink的局限" title="Direct link to NVLink的局限">​</a></h3>
<ul>
<li><strong>仍未全互联</strong>：单服务器<code>8</code>个<code>GPU</code>，无法通过<code>NVLink</code>实现两两直连（拓扑限制）</li>
<li><strong>需要专门设计</strong>：主板和系统架构需要特殊支持</li>
</ul>
<p><strong>解决方案</strong>：<code>NVSwitch</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=nvswitch全互联交换架构>NVSwitch（全互联交换架构）<a href=#nvswitch全互联交换架构 class=hash-link aria-label="Direct link to NVSwitch（全互联交换架构）" title="Direct link to NVSwitch（全互联交换架构）">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术背景-2>技术背景<a href=#技术背景-2 class=hash-link aria-label="Direct link to 技术背景" title="Direct link to 技术背景">​</a></h3>
<p>即使有了NVLink，单服务器中多GPU仍难以实现<strong>全互联</strong>：</p>
<ul>
<li><strong>8个GPU两两直连需要28条链路</strong>（组合数学：C(8,2)=28）</li>
<li><strong>单GPU最多18条NVLink</strong>，无法满足全互联需求</li>
<li><strong>拓扑复杂</strong>：需要特殊布线和路由设计</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=nvswitch解决方案>NVSwitch解决方案<a href=#nvswitch解决方案 class=hash-link aria-label="Direct link to NVSwitch解决方案" title="Direct link to NVSwitch解决方案">​</a></h3>
<p><code>NVSwitch</code>是<code>NVIDIA</code>在2018年推出的**<code>GPU</code>专用高速交换芯片**，实现了单节点内所有<code>GPU</code>的<strong>全互联、无阻塞通信</strong>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=核心特性-1>核心特性<a href=#核心特性-1 class=hash-link aria-label="Direct link to 核心特性" title="Direct link to 核心特性">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=1-全互联架构>1. 全互联架构<a href=#1-全互联架构 class=hash-link aria-label="Direct link to 1. 全互联架构" title="Direct link to 1. 全互联架构">​</a></h4>
<ul>
<li>**单<code>NVSwitch</code>**支持最多<code>18</code>个<code>GPU</code>端口</li>
<li><strong>NVIDIA DGX系统</strong>：<!-- -->
<ul>
<li><strong>DGX A100</strong>：<code>6</code>个<code>NVSwitch</code>，连接<code>8</code>个<code>A100</code> <code>GPU</code></li>
<li><strong>DGX H100</strong>：<code>4</code>个<code>NVSwitch</code>，连接<code>8</code>个<code>H100</code> <code>GPU</code></li>
</ul>
</li>
<li><strong>任意两个<code>GPU</code>间</strong>都有直达路径，无需多跳</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=2-超高带宽>2. 超高带宽<a href=#2-超高带宽 class=hash-link aria-label="Direct link to 2. 超高带宽" title="Direct link to 2. 超高带宽">​</a></h4>
<ul>
<li><strong>NVSwitch 2.0（Ampere）</strong>：<!-- -->
<ul>
<li>每端口双向<code>50 GB/s</code></li>
<li>总交换带宽：<code>600 GB/s</code></li>
</ul>
</li>
<li><strong>NVSwitch 3.0（Hopper）</strong>：<!-- -->
<ul>
<li>每端口双向<code>50 GB/s</code>（支持<code>NVLink 4.0</code>）</li>
<li>总交换带宽：<code>900 GB/s</code></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=3-无阻塞通信>3. 无阻塞通信<a href=#3-无阻塞通信 class=hash-link aria-label="Direct link to 3. 无阻塞通信" title="Direct link to 3. 无阻塞通信">​</a></h4>
<ul>
<li><strong>所有<code>8</code>个<code>GPU</code>可同时通信</strong>，无带宽竞争</li>
<li><strong>非阻塞交换</strong>：任意源-目标对都可全速传输</li>
<li><strong>高效集合通信</strong>：<code>AllReduce</code>、<code>Broadcast</code>等操作极速完成</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=4-低延迟>4. 低延迟<a href=#4-低延迟 class=hash-link aria-label="Direct link to 4. 低延迟" title="Direct link to 4. 低延迟">​</a></h4>
<ul>
<li><strong>硬件交换</strong>：数据直接在<code>NVSwitch</code>芯片内转发，无需软件处理</li>
<li><strong>端到端延迟</strong>：约<code>1-2</code>微秒（<code>GPU</code>间）</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=架构拓扑>架构拓扑<a href=#架构拓扑 class=hash-link aria-label="Direct link to 架构拓扑" title="Direct link to 架构拓扑">​</a></h3>
<p><img decoding=async loading=lazy alt=NVSwitch src=/assets/images/image-1-bae91a482482e824cb816d20097f2bff.png width=1048 height=450 class=img_ev3q></p>
<ul>
<li>每个<code>GPU</code>连接到所有<code>NVSwitch</code></li>
<li>每个<code>NVSwitch</code>连接到所有<code>GPU</code></li>
<li>构成<strong>完全二分图拓扑</strong>，实现全互联</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=性能提升-2>性能提升<a href=#性能提升-2 class=hash-link aria-label="Direct link to 性能提升" title="Direct link to 性能提升">​</a></h3>
<table><thead><tr><th>架构<th>全互联<th>总带宽<th>延迟<th>可扩展性<tbody><tr><td><code>PCIe P2P</code><td>否<td><code>~128 GB/s</code><td>高<td>差<tr><td><code>NVLink</code><td>否<td><code>~900 GB/s</code><td>低<td>中<tr><td><code>NVLink + NVSwitch</code><td><strong>是</strong><td><code>900 GB/s</code><td><strong>极低</strong><td><strong>优</strong></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=应用场景-3>应用场景<a href=#应用场景-3 class=hash-link aria-label="Direct link to 应用场景" title="Direct link to 应用场景">​</a></h3>
<ul>
<li><strong>超大规模AI训练</strong>：<code>GPT-4</code>、<code>LLM</code>等超大模型训练</li>
<li><strong>高性能深度学习</strong>：需要频繁<code>GPU</code>间同步的复杂模型</li>
<li><strong>科学计算</strong>：大规模<code>HPC</code>应用、分子动力学模拟</li>
<li><strong>推荐系统</strong>：海量特征交互的推荐模型训练</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=总结>总结<a href=#总结 class=hash-link aria-label="Direct link to 总结" title="Direct link to 总结">​</a></h2>
<p><code>NVIDIA GPU Direct</code>技术体系是现代AI基础设施的<strong>关键使能技术</strong>：</p>
<table><thead><tr><th>技术<th>连接对象<th>带宽<th>延迟<th>适用场景<tbody><tr><td><code>GPU Direct Storage</code><td><code>GPU ↔ 存储</code><td><code>200+ GB/s</code><td>低<td>数据加载、<code>I/O</code>密集<tr><td><code>GPU Direct P2P</code><td><code>GPU ↔ GPU（PCIe）</code><td><code>128 GB/s</code><td>中<td>小规模多<code>GPU</code><tr><td><code>NVLink</code><td><code>GPU ↔ GPU（直连）</code><td><code>900 GB/s</code><td>极低<td>大规模多<code>GPU</code><tr><td><code>NVSwitch</code><td><code>GPU ↔ GPU（全互联）</code><td><code>900 GB/s</code><td>极低<td>超大规模AI训练</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=核心价值>核心价值<a href=#核心价值 class=hash-link aria-label="Direct link to 核心价值" title="Direct link to 核心价值">​</a></h3>
<ol>
<li><strong>绕过CPU瓶颈</strong>：所有技术都通过<code>DMA</code>绕过<code>CPU</code>，释放<code>CPU</code>资源</li>
<li><strong>减少数据拷贝</strong>：直接路径传输，消除中间缓冲区</li>
<li><strong>降低延迟</strong>：缩短数据传输路径，提升实时性</li>
<li><strong>提升带宽</strong>：充分利用设备间高速互联能力</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术演进路径>技术演进路径<a href=#技术演进路径 class=hash-link aria-label="Direct link to 技术演进路径" title="Direct link to 技术演进路径">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">GPU Direct Storage → 解决I/O瓶颈</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">       ↓</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">GPU Direct P2P → 解决GPU间通信（PCIe限制）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">       ↓</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NVLink → 提供高速点对点互联</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">       ↓</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">NVSwitch → 实现GPU全互联</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=应用价值>应用价值<a href=#应用价值 class=hash-link aria-label="Direct link to 应用价值" title="Direct link to 应用价值">​</a></h3>
<ul>
<li><strong>大规模AI训练</strong>：显著缩短训练时间（<code>10x-100x</code>加速）</li>
<li><strong>实时推理</strong>：降低延迟，提升吞吐量</li>
<li><strong>HPC应用</strong>：加速科学计算、数据分析</li>
<li><strong>成本优化</strong>：更高效利用<code>GPU</code>算力，降低总体拥有成本（<code>TCO</code>）</li>
</ul>
<p>理解<code>GPU Direct</code>技术，是构建高性能AI基础设施、优化AI工作负载的必备知识。</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/ai/gpu-dcgm-exporter><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>GPU 监控方案</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/ai/gpu-pcie-vs-sxm><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>GPU PCIe版和SXM版的区别</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#gpu-direct技术概述 class="table-of-contents__link toc-highlight">GPU Direct技术概述</a><ul><li><a href=#什么是gpu-direct class="table-of-contents__link toc-highlight">什么是GPU Direct？</a><li><a href=#传统数据传输的瓶颈 class="table-of-contents__link toc-highlight">传统数据传输的瓶颈</a><li><a href=#gpu-direct的核心价值 class="table-of-contents__link toc-highlight">GPU Direct的核心价值</a><li><a href=#gpu-direct技术家族 class="table-of-contents__link toc-highlight">GPU Direct技术家族</a></ul><li><a href=#gpu-direct-storage存储直连 class="table-of-contents__link toc-highlight">GPU Direct Storage（存储直连）</a><ul><li><a href=#技术背景 class="table-of-contents__link toc-highlight">技术背景</a><li><a href=#gpu-direct-storage原理 class="table-of-contents__link toc-highlight">GPU Direct Storage原理</a><li><a href=#性能提升 class="table-of-contents__link toc-highlight">性能提升</a><li><a href=#主要特点和优势 class="table-of-contents__link toc-highlight">主要特点和优势</a><li><a href=#应用场景 class="table-of-contents__link toc-highlight">应用场景</a></ul><li><a href=#gpu-direct-p2p点对点通信 class="table-of-contents__link toc-highlight">GPU Direct P2P（点对点通信）</a><ul><li><a href=#技术背景-1 class="table-of-contents__link toc-highlight">技术背景</a><li><a href=#传统方式的低效 class="table-of-contents__link toc-highlight">传统方式的低效</a><li><a href=#gpu-direct-p2p原理 class="table-of-contents__link toc-highlight">GPU Direct P2P原理</a><li><a href=#性能提升-1 class="table-of-contents__link toc-highlight">性能提升</a><li><a href=#应用场景-1 class="table-of-contents__link toc-highlight">应用场景</a><li><a href=#局限性 class="table-of-contents__link toc-highlight">局限性</a></ul><li><a href=#nvlink高速gpu互联 class="table-of-contents__link toc-highlight">NVLink（高速GPU互联）</a><ul><li><a href=#为什么需要nvlink class="table-of-contents__link toc-highlight">为什么需要NVLink？</a><li><a href=#nvlink技术 class="table-of-contents__link toc-highlight">NVLink技术</a><li><a href=#核心特性 class="table-of-contents__link toc-highlight">核心特性</a><li><a href=#架构演进 class="table-of-contents__link toc-highlight">架构演进</a><li><a href=#应用场景-2 class="table-of-contents__link toc-highlight">应用场景</a><li><a href=#nvlink的局限 class="table-of-contents__link toc-highlight">NVLink的局限</a></ul><li><a href=#nvswitch全互联交换架构 class="table-of-contents__link toc-highlight">NVSwitch（全互联交换架构）</a><ul><li><a href=#技术背景-2 class="table-of-contents__link toc-highlight">技术背景</a><li><a href=#nvswitch解决方案 class="table-of-contents__link toc-highlight">NVSwitch解决方案</a><li><a href=#核心特性-1 class="table-of-contents__link toc-highlight">核心特性</a><li><a href=#架构拓扑 class="table-of-contents__link toc-highlight">架构拓扑</a><li><a href=#性能提升-2 class="table-of-contents__link toc-highlight">性能提升</a><li><a href=#应用场景-3 class="table-of-contents__link toc-highlight">应用场景</a></ul><li><a href=#总结 class="table-of-contents__link toc-highlight">总结</a><ul><li><a href=#核心价值 class="table-of-contents__link toc-highlight">核心价值</a><li><a href=#技术演进路径 class="table-of-contents__link toc-highlight">技术演进路径</a><li><a href=#应用价值 class="table-of-contents__link toc-highlight">应用价值</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2026 johng.cn</div></div></div></footer></div>