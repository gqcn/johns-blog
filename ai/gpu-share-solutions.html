<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/AI技术/基础架构/NVIDIA/GPU Share 常见技术方案" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>GPU Share 常见技术方案 | John's Blog</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://johng.cn/ai/gpu-share-solutions><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=author content="John Guo"><meta data-rh=true property=og:image content=https://johng.cn/img/favicon.png><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="GPU Share 常见技术方案 | John's Blog"><meta data-rh=true name=description content="详细介绍GPU Share的五种常见技术方案：Single Process、CUDA MPS、Time-slicing、MIG和vGPU，并从隔离性、性能和适用场景等维度进行全面对比分析。"><meta data-rh=true property=og:description content="详细介绍GPU Share的五种常见技术方案：Single Process、CUDA MPS、Time-slicing、MIG和vGPU，并从隔离性、性能和适用场景等维度进行全面对比分析。"><meta data-rh=true name=keywords content="GPU Share,CUDA MPS,MIG,vGPU,Time-slicing,GPU虚拟化,GPU共享,NVIDIA GPU,算力共享"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://johng.cn/ai/gpu-share-solutions><link data-rh=true rel=alternate href=https://johng.cn/ai/gpu-share-solutions hreflang=en><link data-rh=true rel=alternate href=https://johng.cn/ai/gpu-share-solutions hreflang=x-default><link data-rh=true rel=preconnect href=https://XGS1CPQERK-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="John's Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="John's Blog Atom Feed"><link rel=search type=application/opensearchdescription+xml title="John's Blog" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?6b4ae23dc83ee5efe875b7172af6c7c1 async></script><link rel=stylesheet href=/assets/css/styles.2f56d3c4.css><script src=/assets/js/runtime~main.11a8a766.js defer></script><script src=/assets/js/main.ce81324a.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">John's Blog</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/ai>AI技术</a><a class="navbar__item navbar__link" href=/cloud-native>云原生</a><a class="navbar__item navbar__link" href=/notes>日常笔记</a><a class="navbar__item navbar__link" href=/programming>开发语言</a><a class="navbar__item navbar__link" href=/architecture>技术架构</a><a class="navbar__item navbar__link" href=/observability>可观测性</a><a class="navbar__item navbar__link" href=/life>生活笔记</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/aboutme>关于我</a><a class="navbar__item navbar__link" href=/blog>博客</a><a href=https://goframe.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-goframe-link"></a><a href=https://github.com/gqcn target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/ai>AI技术</a><button aria-label="Collapse sidebar category 'AI技术'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/agents>智能体</a><button aria-label="Expand sidebar category '智能体'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/app>应用开发</a><button aria-label="Expand sidebar category '应用开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/inference>推理服务</a><button aria-label="Expand sidebar category '推理服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/training>训练微调</a><button aria-label="Expand sidebar category '训练微调'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/infra>基础架构</a><button aria-label="Collapse sidebar category '基础架构'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/vgpu>vGPU</a><button aria-label="Expand sidebar category 'vGPU'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/rdma>RDMA</a><button aria-label="Expand sidebar category 'RDMA'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/nvidia>NVIDIA</a><button aria-label="Collapse sidebar category 'NVIDIA'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/nfd-gfd>NFD&GFD</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-operator>GPU Operator</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-dcgm-exporter>GPU 监控方案</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-direct>GPU Direct通信技术</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-pcie-vs-sxm>GPU PCIe版和SXM版的区别</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/ai/gpu-share-solutions>GPU Share 常见技术方案</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-share-mps-mig>GPU Share MPS&MIG具体操作与注意事项</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-mig-docker-specify-subcard>GPU MIG拆卡后使用docker指定子卡执行</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-mig-pod-pending-terminating-troubleshooting>GPU MIG拆卡后Pod偶发Pending/Terminating状态阻塞问题排查</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/gpu-environment-setup-guide>GPU环境搭建指南：在裸机、Docker、K8S环境中使用GPU</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/scheduling>算力调度</a><button aria-label="Expand sidebar category '算力调度'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/what-is-llmops-mlops>LLMOps介绍</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/common-acceleration-cards>常见智算加速卡汇总</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/ai-training-inference-scenarios>AI基础架构中常见业务场景痛点</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/cpu-gpu>CPU&GPU架构差异及AI场景中的应用</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/basic>入门知识</a><button aria-label="Expand sidebar category '入门知识'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/cloud-native>云原生</a><button aria-label="Expand sidebar category '云原生'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/notes>日常笔记</a><button aria-label="Expand sidebar category '日常笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/programming>开发语言</a><button aria-label="Expand sidebar category '开发语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/architecture>技术架构</a><button aria-label="Expand sidebar category '技术架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/management>技术管理</a><button aria-label="Expand sidebar category '技术管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/observability>可观测性</a><button aria-label="Expand sidebar category '可观测性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/database-and-middleware>数据库与中间件</a><button aria-label="Expand sidebar category '数据库与中间件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/operating-systems-and-networks>操作系统和网络</a><button aria-label="Expand sidebar category '操作系统和网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/life>生活笔记</a><button aria-label="Expand sidebar category '生活笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai><span itemprop=name>AI技术</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/infra><span itemprop=name>基础架构</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/nvidia><span itemprop=name>NVIDIA</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>GPU Share 常见技术方案</span><meta itemprop=position content=4></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>在<code>AI</code>算力日益紧张的今天，<code>GPU</code>资源的高效利用成为了关键问题。单个<code>GPU</code>的算力往往超过单个应用的需求，如何实现<code>GPU</code>资源的共享和复用，提高<code>GPU</code>利用率，是每个<code>AI</code>基础设施团队都需要面对的挑战。本文将详细介绍<code>GPU Share</code>的五种常见技术方案，并从多个维度进行对比分析。</p>
<p><img decoding=async loading=lazy alt="GPU Share 常见技术方案" src=/assets/images/image-b91630cc2c2b9aaec1e11f057bbf70cc.png width=1152 height=542 class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=single-process-in-cuda>Single Process In CUDA<a href=#single-process-in-cuda class=hash-link aria-label="Direct link to Single Process In CUDA" title="Direct link to Single Process In CUDA">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术原理>技术原理<a href=#技术原理 class=hash-link aria-label="Direct link to 技术原理" title="Direct link to 技术原理">​</a></h3>
<p><code>Single Process In CUDA</code>是最基础的<code>GPU</code>使用方式，一个<code>CUDA</code>进程独占整个<code>GPU</code>资源。这是<code>CUDA</code>的默认工作模式，也是最简单直接的<code>GPU</code>使用方式。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=特点>特点<a href=#特点 class=hash-link aria-label="Direct link to 特点" title="Direct link to 特点">​</a></h3>
<ul>
<li><strong>独占性</strong>：一个进程独占整个<code>GPU</code>，拥有全部计算资源和显存</li>
<li><strong>简单性</strong>：无需额外配置，<code>CUDA</code>应用默认工作模式</li>
<li><strong>高性能</strong>：无资源竞争，可获得<code>GPU</code>的最佳性能</li>
<li><strong>资源浪费</strong>：如果应用无法充分利用<code>GPU</code>资源，会造成资源浪费</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=适用场景>适用场景<a href=#适用场景 class=hash-link aria-label="Direct link to 适用场景" title="Direct link to 适用场景">​</a></h3>
<ul>
<li>大规模深度学习模型训练</li>
<li>需要充分利用<code>GPU</code>全部资源的高性能计算任务</li>
<li>对性能要求极高，不允许资源竞争的场景</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=time-slicing>Time-slicing<a href=#time-slicing class=hash-link aria-label="Direct link to Time-slicing" title="Direct link to Time-slicing">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术原理-1>技术原理<a href=#技术原理-1 class=hash-link aria-label="Direct link to 技术原理" title="Direct link to 技术原理">​</a></h3>
<p><code>Time-slicing</code>是通过时间片轮转的方式实现<code>GPU</code>共享，多个进程按照时间片轮流使用<code>GPU</code>资源。这种方式类似于<code>CPU</code>的时间片调度机制。</p>
<p><img decoding=async loading=lazy alt=Time-slicing技术原理 src=/assets/images/image-4-6d4b8eabb64b5ed5e60aeeab3516f301.png width=996 height=615 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=特点-1>特点<a href=#特点-1 class=hash-link aria-label="Direct link to 特点" title="Direct link to 特点">​</a></h3>
<ul>
<li><strong>时间复用</strong>：多个进程按时间片轮流使用<code>GPU</code></li>
<li><strong>简单配置</strong>：相对容易配置和部署</li>
<li><strong>性能损失</strong>：频繁的上下文切换会带来性能开销</li>
<li><strong>资源竞争</strong>：多个进程竞争<code>GPU</code>资源，可能出现性能不稳定</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=适用场景-1>适用场景<a href=#适用场景-1 class=hash-link aria-label="Direct link to 适用场景" title="Direct link to 适用场景">​</a></h3>
<ul>
<li>轻量级推理任务</li>
<li>开发测试环境</li>
<li>对性能要求不高的批处理任务</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=multi-process-with-cuda-mps>Multi-Process with CUDA MPS<a href=#multi-process-with-cuda-mps class=hash-link aria-label="Direct link to Multi-Process with CUDA MPS" title="Direct link to Multi-Process with CUDA MPS">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术原理-2>技术原理<a href=#技术原理-2 class=hash-link aria-label="Direct link to 技术原理" title="Direct link to 技术原理">​</a></h3>
<p><code>CUDA Multi-Process Service (MPS)</code>是<code>NVIDIA</code>提供的一种软件级<code>GPU</code>共享技术。<code>MPS</code>允许多个<code>CUDA</code>进程同时访问同一个<code>GPU</code>，通过软件层面的调度和资源管理实现<code>GPU</code>资源的共享。</p>
<p><img decoding=async loading=lazy alt=MPS技术原理 src=/assets/images/image-2-5f94fe38ec97ff56f1200f3d78871114.png width=855 height=424 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术架构>技术架构<a href=#技术架构 class=hash-link aria-label="Direct link to 技术架构" title="Direct link to 技术架构">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     CUDA Applications                   │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     CUDA Runtime                        │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     MPS Client                          │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     MPS Server                          │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     CUDA Driver                         │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                        GPU                              │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=特点-2>特点<a href=#特点-2 class=hash-link aria-label="Direct link to 特点" title="Direct link to 特点">​</a></h3>
<ul>
<li><strong>软件级隔离</strong>：通过软件层面实现进程间的资源隔离</li>
<li><strong>动态资源分配</strong>：可根据负载动态调整资源分配</li>
<li><strong>共享显存</strong>：多个进程共享<code>GPU</code>显存空间</li>
<li><strong>故障传播风险</strong>：一个进程的异常可能影响其他进程</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=适用场景-2>适用场景<a href=#适用场景-2 class=hash-link aria-label="Direct link to 适用场景" title="Direct link to 适用场景">​</a></h3>
<ul>
<li>多副本推理服务部署</li>
<li>小模型并行训练</li>
<li>需要动态资源分配的场景</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=mig-multi-instance-gpu>MIG (Multi-Instance GPU)<a href=#mig-multi-instance-gpu class=hash-link aria-label="Direct link to MIG (Multi-Instance GPU)" title="Direct link to MIG (Multi-Instance GPU)">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术原理-3>技术原理<a href=#技术原理-3 class=hash-link aria-label="Direct link to 技术原理" title="Direct link to 技术原理">​</a></h3>
<p><code>MIG</code>是<code>NVIDIA</code>在<code>Ampere</code>架构<code>GPU</code>上引入的硬件级<code>GPU</code>分区技术。<code>MIG</code>可以将一个物理<code>GPU</code>划分为多个独立的<code>GPU</code>实例，每个实例拥有独立的计算单元、显存和缓存。</p>
<p><img decoding=async loading=lazy alt=MIG技术原理 src=/assets/images/image-1-28f982214d3c57b300d61d35004c5197.png width=1440 height=1080 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术架构-1>技术架构<a href=#技术架构-1 class=hash-link aria-label="Direct link to 技术架构" title="Direct link to 技术架构">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     Physical GPU                        │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────┬─────────────────┬─────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│   MIG Instance  │   MIG Instance  │   MIG Instance      │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│       1         │       2         │       3             │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────┼─────────────────┼─────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│  Compute Units  │  Compute Units  │   Compute Units     │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│  Memory Slice   │  Memory Slice   │   Memory Slice      │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│  Cache Slice    │  Cache Slice    │   Cache Slice       │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">└─────────────────┴─────────────────┴─────────────────────┘</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=mig配置示例>MIG配置示例<a href=#mig配置示例 class=hash-link aria-label="Direct link to MIG配置示例" title="Direct link to MIG配置示例">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token comment" style=color:#8292a2;font-style:italic># 启用MIG模式</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">nvidia-smi </span><span class="token parameter variable" style=color:#f8f8f2>-mig</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># 创建GPU实例</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">nvidia-smi mig </span><span class="token parameter variable" style=color:#f8f8f2>-cgi</span><span class="token plain"> 1g.10gb,2g.20gb,4g.40gb</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># 创建计算实例</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">nvidia-smi mig </span><span class="token parameter variable" style=color:#f8f8f2>-cci</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token comment" style=color:#8292a2;font-style:italic># 查看MIG配置</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">nvidia-smi </span><span class="token parameter variable" style=color:#f8f8f2>-L</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=特点-3>特点<a href=#特点-3 class=hash-link aria-label="Direct link to 特点" title="Direct link to 特点">​</a></h3>
<ul>
<li><strong>硬件级隔离</strong>：完全的硬件级别隔离，无故障传播</li>
<li><strong>静态分配</strong>：需要预先定义分区方案，运行时无法动态调整</li>
<li><strong>独立资源</strong>：每个实例拥有独立的计算单元和显存</li>
<li><strong>配置复杂</strong>：需要完全驱逐业务后才能进行配置</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=适用场景-3>适用场景<a href=#适用场景-3 class=hash-link aria-label="Direct link to 适用场景" title="Direct link to 适用场景">​</a></h3>
<ul>
<li>多租户环境</li>
<li>需要强隔离的生产环境</li>
<li>云服务提供商的<code>GPU</code>资源租赁</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=virtualization-with-vgpu>Virtualization with vGPU<a href=#virtualization-with-vgpu class=hash-link aria-label="Direct link to Virtualization with vGPU" title="Direct link to Virtualization with vGPU">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术原理-4>技术原理<a href=#技术原理-4 class=hash-link aria-label="Direct link to 技术原理" title="Direct link to 技术原理">​</a></h3>
<p><code>vGPU</code>是<code>NVIDIA</code>提供的<code>GPU</code>虚拟化技术，通过虚拟化层将物理<code>GPU</code>资源虚拟化为多个虚拟<code>GPU</code>，每个虚拟机可以获得独立的<code>vGPU</code>资源。</p>
<p><img decoding=async loading=lazy alt="Virtualization with vGPU技术原理" src=/assets/images/image-3-c79b070cac2f38a45cb359adcea7d706.png width=1456 height=1022 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术架构-2>技术架构<a href=#技术架构-2 class=hash-link aria-label="Direct link to 技术架构" title="Direct link to 技术架构">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">┌─────────────────────────────────────────────────────────┐</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                   Virtual Machines                      │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────┬─────────────────┬─────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│      VM 1       │      VM 2       │      VM 3           │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│    vGPU 1       │    vGPU 2       │    vGPU 3           │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────┴─────────────────┴─────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                      Hypervisor                         │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     vGPU Manager                        │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├─────────────────────────────────────────────────────────┤</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">│                     Physical GPU                        │</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">└─────────────────────────────────────────────────────────┘</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=vgpu类型>vGPU类型<a href=#vgpu类型 class=hash-link aria-label="Direct link to vGPU类型" title="Direct link to vGPU类型">​</a></h3>
<ul>
<li><strong>vPC (Virtual PC)</strong>：面向知识工作者的虚拟桌面</li>
<li><strong>vWS (Virtual Workstation)</strong>：面向专业图形工作站</li>
<li><strong>vCS (Virtual Compute Server)</strong>：面向计算密集型工作负载</li>
<li><strong>vApps</strong>：面向应用程序虚拟化</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=特点-4>特点<a href=#特点-4 class=hash-link aria-label="Direct link to 特点" title="Direct link to 特点">​</a></h3>
<ul>
<li><strong>完全虚拟化</strong>：提供完整的<code>GPU</code>虚拟化体验</li>
<li><strong>强隔离性</strong>：虚拟机级别的隔离</li>
<li><strong>管理复杂</strong>：需要专门的虚拟化管理平台</li>
<li><strong>许可成本</strong>：需要购买<code>vGPU</code>许可证</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=适用场景-4>适用场景<a href=#适用场景-4 class=hash-link aria-label="Direct link to 适用场景" title="Direct link to 适用场景">​</a></h3>
<ul>
<li>虚拟桌面基础设施(<code>VDI</code>)</li>
<li>云服务提供商的<code>GPU</code>云服务</li>
<li>需要完全虚拟化的企业环境</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=技术方案对比>技术方案对比<a href=#技术方案对比 class=hash-link aria-label="Direct link to 技术方案对比" title="Direct link to 技术方案对比">​</a></h2>
<table><thead><tr><th>特性<th>Single Process<th>Time-slicing<th>MPS<th>MIG<th>vGPU<tbody><tr><td><strong>隔离级别</strong><td>完全独占<td>时间片隔离<td>软件级隔离<td>硬件级隔离<td>虚拟化隔离<tr><td><strong>资源分配</strong><td>独占全部资源<td>时间片轮转<td>动态分配，共享计算单元<td>静态分配，独立计算单元<td>静态分配，虚拟化资源<tr><td><strong>故障传播</strong><td>无故障传播<td>存在故障传播风险<td>存在故障传播风险<td>完全隔离，无故障传播<td>完全隔离，无故障传播<tr><td><strong>灵活性</strong><td>无共享灵活性<td>中等，可调整时间片<td>高，可动态调整资源分配<td>低，需要预先定义分区方案<td>低，需要预先定义配置<tr><td><strong>部署复杂度</strong><td>最低，无需配置<td>中等，需要配置调度策略<td>较低，软件配置即可<td>较高，需要完全驱逐业务后操作<td>最高，需要虚拟化平台<tr><td><strong>支持的GPU</strong><td>所有<code>CUDA GPU</code><td>所有<code>CUDA GPU</code><td>计算能力 <code>>= 3.5</code> 的<code>GPU</code><td>仅<code>Ampere</code>架构及之后的特定<code>GPU</code><td>支持vGPU的特定<code>GPU</code><tr><td><strong>显存管理</strong><td>独占全部显存<td>共享显存池<td>共享显存池<td>独立显存分片<td>独立虚拟显存<tr><td><strong>最大并发实例数</strong><td><code>1</code><td><code>2-8</code>个逻辑<code>GPU</code><td><code>16-48</code>个进程<td><code>7</code>个实例<td><code>1-16</code>个vGPU<tr><td><strong>性能损耗</strong><td><code>0%</code><td><code>10-30%</code><td><code>5-15%</code><td><code>&lt;5%</code><td><code>10-20%</code><tr><td><strong>成本</strong><td>中等（每卡<code>$5k-8k</code>）<td>中等（每卡<code>$5k-8k</code>）<td>中等（每卡<code>$5k-8k</code>）<td>高（每卡<code>$10k+</code>）<td>高（每卡<code>$8k+</code> + 许可费）<tr><td><strong>适用场景</strong><td>大模型训练<td>轻量级推理、开发测试<td>多副本推理服务、小模型训练<td>多租户环境、需要强隔离的业务<td><code>VDI</code>、云服务、企业虚拟化</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=三维度总结分析>三维度总结分析<a href=#三维度总结分析 class=hash-link aria-label="Direct link to 三维度总结分析" title="Direct link to 三维度总结分析">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=算力隔离维度>算力隔离维度<a href=#算力隔离维度 class=hash-link aria-label="Direct link to 算力隔离维度" title="Direct link to 算力隔离维度">​</a></h3>
<p>从算力隔离的角度来看：</p>
<ol>
<li>
<p><strong>MIG</strong> - ⭐⭐⭐⭐⭐</p>
<ul>
<li>硬件级别的计算单元隔离</li>
<li>每个实例拥有独立的<code>SM（Streaming Multiprocessor）</code></li>
<li>完全无干扰的计算资源分配</li>
</ul>
</li>
<li>
<p><strong>vGPU</strong> - ⭐⭐⭐⭐</p>
<ul>
<li>虚拟化层面的算力隔离</li>
<li>通过时间片和资源调度实现隔离</li>
<li>隔离效果好但有虚拟化开销</li>
</ul>
</li>
<li>
<p><strong>Single Process</strong> - ⭐⭐⭐</p>
<ul>
<li>独占模式，无算力竞争</li>
<li>但无法实现资源共享</li>
</ul>
</li>
<li>
<p><strong>MPS</strong> - ⭐⭐</p>
<ul>
<li>软件级别的算力调度</li>
<li>存在计算资源竞争的可能</li>
</ul>
</li>
<li>
<p><strong>Time-slicing</strong> - ⭐</p>
<ul>
<li>时间片轮转，算力隔离最弱</li>
<li>频繁的上下文切换影响性能</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=显存隔离维度>显存隔离维度<a href=#显存隔离维度 class=hash-link aria-label="Direct link to 显存隔离维度" title="Direct link to 显存隔离维度">​</a></h3>
<p>从显存隔离的角度来看：</p>
<ol>
<li>
<p><strong>MIG</strong> - ⭐⭐⭐⭐⭐</p>
<ul>
<li>硬件级别的显存分片</li>
<li>每个实例拥有独立的显存空间</li>
<li>完全的显存隔离，无泄露风险</li>
</ul>
</li>
<li>
<p><strong>vGPU</strong> - ⭐⭐⭐⭐</p>
<ul>
<li>虚拟化层面的显存管理</li>
<li>提供独立的虚拟显存空间</li>
<li>隔离效果好</li>
</ul>
</li>
<li>
<p><strong>Single Process</strong> - ⭐⭐⭐</p>
<ul>
<li>独占全部显存</li>
<li>无显存竞争但无法共享</li>
</ul>
</li>
<li>
<p><strong>Time-slicing</strong> - ⭐⭐</p>
<ul>
<li>共享显存池</li>
<li>存在显存竞争和碎片化问题</li>
</ul>
</li>
<li>
<p><strong>MPS</strong> - ⭐</p>
<ul>
<li>共享显存池，隔离最弱</li>
<li>进程间可能存在显存访问冲突</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=故障隔离维度>故障隔离维度<a href=#故障隔离维度 class=hash-link aria-label="Direct link to 故障隔离维度" title="Direct link to 故障隔离维度">​</a></h3>
<p>从故障隔离的角度来看：</p>
<ol>
<li>
<p><strong>MIG</strong> - ⭐⭐⭐⭐⭐</p>
<ul>
<li>硬件级别的完全隔离</li>
<li>一个实例的故障不会影响其他实例</li>
<li>最高级别的故障隔离</li>
</ul>
</li>
<li>
<p><strong>vGPU</strong> - ⭐⭐⭐⭐⭐</p>
<ul>
<li>虚拟机级别的完全隔离</li>
<li>虚拟化层提供强故障隔离</li>
<li>与<code>MIG</code>并列最佳</li>
</ul>
</li>
<li>
<p><strong>Single Process</strong> - ⭐⭐⭐⭐</p>
<ul>
<li>独占模式，无进程间干扰</li>
<li>但<code>GPU</code>硬件故障会影响整个应用</li>
</ul>
</li>
<li>
<p><strong>Time-slicing</strong> - ⭐⭐</p>
<ul>
<li>进程级别隔离</li>
<li>存在故障传播的风险</li>
</ul>
</li>
<li>
<p><strong>MPS</strong> - ⭐</p>
<ul>
<li>软件级别隔离最弱</li>
<li>一个进程的异常可能影响其他进程</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=最佳方案推荐>最佳方案推荐<a href=#最佳方案推荐 class=hash-link aria-label="Direct link to 最佳方案推荐" title="Direct link to 最佳方案推荐">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=综合评估>综合评估<a href=#综合评估 class=hash-link aria-label="Direct link to 综合评估" title="Direct link to 综合评估">​</a></h3>
<p>基于算力隔离、显存隔离、故障隔离三个关键维度的分析，<code>MIG (Multi-Instance GPU)</code>在所有三个维度都表现最优，是<code>GPU Share</code>的最佳技术方案。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=推荐理由>推荐理由<a href=#推荐理由 class=hash-link aria-label="Direct link to 推荐理由" title="Direct link to 推荐理由">​</a></h3>
<ol>
<li><strong>硬件级隔离</strong>：<code>MIG</code>提供了最强的隔离能力，从硬件层面确保资源隔离</li>
<li><strong>无故障传播</strong>：完全独立的<code>GPU</code>实例，一个实例的故障不会影响其他实例</li>
<li><strong>性能保证</strong>：每个实例拥有独立的计算单元和显存，性能可预测</li>
<li><strong>安全可靠</strong>：适合生产环境和多租户场景</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=场景化选择建议>场景化选择建议<a href=#场景化选择建议 class=hash-link aria-label="Direct link to 场景化选择建议" title="Direct link to 场景化选择建议">​</a></h3>
<p>虽然<code>MIG</code>是综合最佳方案，但在实际应用中应根据具体场景选择：</p>
<ul>
<li><strong>生产环境多租户</strong>：选择 <code>MIG</code></li>
<li><strong>推理服务集群</strong>：选择 <code>MPS</code></li>
<li><strong>开发测试环境</strong>：选择 <code>Time-slicing</code></li>
<li><strong>虚拟化环境</strong>：选择 <code>vGPU</code></li>
<li><strong>大模型训练</strong>：选择 <code>Single Process</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=技术演进趋势>技术演进趋势<a href=#技术演进趋势 class=hash-link aria-label="Direct link to 技术演进趋势" title="Direct link to 技术演进趋势">​</a></h3>
<p>随着<code>GPU</code>硬件技术的发展，硬件级别的资源隔离将成为主流趋势。<code>MIG</code>技术代表了<code>GPU</code>共享技术的发展方向，未来会有更多<code>GPU</code>型号支持<code>MIG</code>功能，分区粒度也会更加灵活。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=参考资料>参考资料<a href=#参考资料 class=hash-link aria-label="Direct link to 参考资料" title="Direct link to 参考资料">​</a></h2>
<ul>
<li><a href=https://docs.nvidia.com/deploy/mps/index.html target=_blank rel="noopener noreferrer">NVIDIA CUDA Multi-Process Service (MPS) 官方文档</a></li>
<li><a href=https://docs.nvidia.com/datacenter/tesla/mig-user-guide/index.html target=_blank rel="noopener noreferrer">NVIDIA Multi-Instance GPU (MIG) 用户指南</a></li>
<li><a href=https://docs.nvidia.com/grid/latest/grid-vgpu-user-guide/index.html target=_blank rel="noopener noreferrer">NVIDIA Virtual GPU (vGPU) 软件文档</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/ai/gpu-pcie-vs-sxm><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>GPU PCIe版和SXM版的区别</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/ai/gpu-share-mps-mig><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>GPU Share MPS&MIG具体操作与注意事项</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#single-process-in-cuda class="table-of-contents__link toc-highlight">Single Process In CUDA</a><ul><li><a href=#�技术原理 class="table-of-contents__link toc-highlight">技术原理</a><li><a href=#特点 class="table-of-contents__link toc-highlight">特点</a><li><a href=#适用场景 class="table-of-contents__link toc-highlight">适用场景</a></ul><li><a href=#time-slicing class="table-of-contents__link toc-highlight">Time-slicing</a><ul><li><a href=#技术原理-1 class="table-of-contents__link toc-highlight">技术原理</a><li><a href=#特点-1 class="table-of-contents__link toc-highlight">特点</a><li><a href=#适用场景-1 class="table-of-contents__link toc-highlight">适用场景</a></ul><li><a href=#multi-process-with-cuda-mps class="table-of-contents__link toc-highlight">Multi-Process with CUDA MPS</a><ul><li><a href=#技术原理-2 class="table-of-contents__link toc-highlight">技术原理</a><li><a href=#技术架构 class="table-of-contents__link toc-highlight">技术架构</a><li><a href=#特点-2 class="table-of-contents__link toc-highlight">特点</a><li><a href=#适用场景-2 class="table-of-contents__link toc-highlight">适用场景</a></ul><li><a href=#mig-multi-instance-gpu class="table-of-contents__link toc-highlight">MIG (Multi-Instance GPU)</a><ul><li><a href=#技术原理-3 class="table-of-contents__link toc-highlight">技术原理</a><li><a href=#技术架构-1 class="table-of-contents__link toc-highlight">技术架构</a><li><a href=#mig配置示例 class="table-of-contents__link toc-highlight">MIG配置示例</a><li><a href=#特点-3 class="table-of-contents__link toc-highlight">特点</a><li><a href=#适用场景-3 class="table-of-contents__link toc-highlight">适用场景</a></ul><li><a href=#virtualization-with-vgpu class="table-of-contents__link toc-highlight">Virtualization with vGPU</a><ul><li><a href=#技术原理-4 class="table-of-contents__link toc-highlight">技术原理</a><li><a href=#技术架构-2 class="table-of-contents__link toc-highlight">技术架构</a><li><a href=#vgpu类型 class="table-of-contents__link toc-highlight">vGPU类型</a><li><a href=#特点-4 class="table-of-contents__link toc-highlight">特点</a><li><a href=#适用场景-4 class="table-of-contents__link toc-highlight">适用场景</a></ul><li><a href=#技术方案对比 class="table-of-contents__link toc-highlight">技术方案对比</a><li><a href=#三维度总结分析 class="table-of-contents__link toc-highlight">三维度总结分析</a><ul><li><a href=#算力隔离维度 class="table-of-contents__link toc-highlight">算力隔离维度</a><li><a href=#显存隔离维度 class="table-of-contents__link toc-highlight">显存隔离维度</a><li><a href=#故障隔离维度 class="table-of-contents__link toc-highlight">故障隔离维度</a></ul><li><a href=#最佳方案推荐 class="table-of-contents__link toc-highlight">最佳方案推荐</a><ul><li><a href=#综合评估 class="table-of-contents__link toc-highlight">综合评估</a><li><a href=#推荐理由 class="table-of-contents__link toc-highlight">推荐理由</a><li><a href=#场景化选择建议 class="table-of-contents__link toc-highlight">场景化选择建议</a><li><a href=#技术演进趋势 class="table-of-contents__link toc-highlight">技术演进趋势</a></ul><li><a href=#参考资料 class="table-of-contents__link toc-highlight">参考资料</a></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2026 johng.cn</div></div></div></footer></div>