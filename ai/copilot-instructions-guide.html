<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/AI技术/应用开发/Copilot-VSCode/Copilot-Instructions使用指南" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Copilot Instructions使用指南 | John's Blog</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://johng.cn/ai/copilot-instructions-guide><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=author content="John Guo"><meta data-rh=true property=og:image content=https://johng.cn/img/favicon.png><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Copilot Instructions使用指南 | John's Blog"><meta data-rh=true name=description content="Copilot Instructions是VS Code中用于定制GitHub Copilot行为的强大功能，允许开发者通过自定义指令文件来规范AI生成代码的风格、遵循项目规范、实现一致性的开发体验。本文全面介绍Copilot Instructions的核心功能、使用方法、配置管理、应用场景和最佳实践，帮助开发者充分利用这一功能提升开发效率和代码质量。"><meta data-rh=true property=og:description content="Copilot Instructions是VS Code中用于定制GitHub Copilot行为的强大功能，允许开发者通过自定义指令文件来规范AI生成代码的风格、遵循项目规范、实现一致性的开发体验。本文全面介绍Copilot Instructions的核心功能、使用方法、配置管理、应用场景和最佳实践，帮助开发者充分利用这一功能提升开发效率和代码质量。"><meta data-rh=true name=keywords content="Copilot Instructions,VS Code,GitHub Copilot,自定义指令,AI编程,代码生成,编程规范,最佳实践,Instructions文件,AGENTS.md,copilot-instructions.md,AI辅助开发,代码规范,项目配置,开发工具"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://johng.cn/ai/copilot-instructions-guide><link data-rh=true rel=alternate href=https://johng.cn/ai/copilot-instructions-guide hreflang=en><link data-rh=true rel=alternate href=https://johng.cn/ai/copilot-instructions-guide hreflang=x-default><link data-rh=true rel=preconnect href=https://XGS1CPQERK-dsn.algolia.net crossorigin><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="John's Blog RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="John's Blog Atom Feed"><link rel=search type=application/opensearchdescription+xml title="John's Blog" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?6b4ae23dc83ee5efe875b7172af6c7c1 async></script><link rel=stylesheet href=/assets/css/styles.2f56d3c4.css><script src=/assets/js/runtime~main.dbc767bc.js defer></script><script src=/assets/js/main.78e0d490.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><b class="navbar__title text--truncate">John's Blog</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/ai>AI技术</a><a class="navbar__item navbar__link" href=/cloud-native>云原生</a><a class="navbar__item navbar__link" href=/notes>日常笔记</a><a class="navbar__item navbar__link" href=/programming>开发语言</a><a class="navbar__item navbar__link" href=/architecture>技术架构</a><a class="navbar__item navbar__link" href=/observability>可观测性</a><a class="navbar__item navbar__link" href=/life>生活笔记</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/aboutme>关于我</a><a class="navbar__item navbar__link" href=/blog>博客</a><a href=https://goframe.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-goframe-link"></a><a href=https://github.com/gqcn target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/ai>AI技术</a><button aria-label="Collapse sidebar category 'AI技术'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/agents>智能体</a><button aria-label="Expand sidebar category '智能体'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/app>应用开发</a><button aria-label="Collapse sidebar category '应用开发'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/ai/copilot-vscode>Copilot/VSCode</a><button aria-label="Collapse sidebar category 'Copilot/VSCode'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/copilot-skills-guide>Copilot Skills使用指南</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/copilot-prompts-guide>Copilot Prompts使用指南</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/ai/copilot-instructions-guide>Copilot Instructions使用指南</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/ai/copilot-custom-agents-guide>Copilot Custom Agents使用指南</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/ai/ai-code-editor-comparison>AI代码开发工具选型指南</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/inference>推理服务</a><button aria-label="Expand sidebar category '推理服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/training-fine-tuning>训练微调</a><button aria-label="Expand sidebar category '训练微调'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/model-development>模型开发</a><button aria-label="Expand sidebar category '模型开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/infra>基础架构</a><button aria-label="Expand sidebar category '基础架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/ai/basic>入门知识</a><button aria-label="Expand sidebar category '入门知识'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/cloud-native>云原生</a><button aria-label="Expand sidebar category '云原生'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/notes>日常笔记</a><button aria-label="Expand sidebar category '日常笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/programming>开发语言</a><button aria-label="Expand sidebar category '开发语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/architecture>技术架构</a><button aria-label="Expand sidebar category '技术架构'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/management>技术管理</a><button aria-label="Expand sidebar category '技术管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/observability>可观测性</a><button aria-label="Expand sidebar category '可�观测性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/database-and-middleware>数据库与中间件</a><button aria-label="Expand sidebar category '数据库与中间件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/operating-systems-and-networks>操作系统和网络</a><button aria-label="Expand sidebar category '操作系统和网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/life>生活笔记</a><button aria-label="Expand sidebar category '生活笔记'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai><span itemprop=name>AI技术</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/app><span itemprop=name>应用开发</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/ai/copilot-vscode><span itemprop=name>Copilot/VSCode</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Copilot Instructions使用指南</span><meta itemprop=position content=4></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=前言>前言<a href=#前言 class=hash-link aria-label="Direct link to 前言" title="Direct link to 前言">​</a></h2>
<p>在使用<code>GitHub Copilot</code>等<code>AI</code>编程助手时，我们经常遇到这样的问题：<code>AI</code>生成的代码风格不统一、不符合项目规范、缺少必要的注释，或者需要反复提醒<code>AI</code>遵循某些开发准则。每次都要在聊天中重复相同的要求，既耗时又容易遗漏。</p>
<p><code>Copilot Instructions</code>正是为了解决这些问题而设计的功能。它允许开发者通过<code>Markdown</code>文件定义自定义指令，自动影响<code>AI</code>如何生成代码和处理开发任务，确保<code>AI</code>的响应始终符合你的编码规范和项目需求。</p>
<p>本文将全面介绍<code>Copilot Instructions</code>的功能特性、使用方法、应用场景和最佳实践，帮助你充分利用这一强大功能。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=copilot-instructions是什么>Copilot Instructions是什么<a href=#copilot-instructions是什么 class=hash-link aria-label="Direct link to Copilot Instructions是什么" title="Direct link to Copilot Instructions是什么">​</a></h2>
<p><code>Copilot Instructions</code>是<code>VS Code</code>中<code>GitHub Copilot</code>的一项自定义功能，它允许开发者通过<code>Markdown</code>格式的指令文件来定义通用的开发准则和规范。这些指令会自动添加到<code>AI</code>的上下文中，影响<code>AI</code>生成代码、回答问题和处理任务的方式。</p>
<p>简单来说，<code>Copilot Instructions</code>让你能够"教导"<code>AI</code>如何按照你的方式工作，而不需要在每次对话中重复说明。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=核心特点>核心特点<a href=#核心特点 class=hash-link aria-label="Direct link to 核心特点" title="Direct link to 核心特点">​</a></h3>
<ul>
<li><strong>持久化配置</strong>：指令保存在文件中，团队可以共享，确保一致性</li>
<li><strong>自动应用</strong>：符合条件的指令会自动添加到聊天上下文，无需手动指定</li>
<li><strong>灵活配置</strong>：支持全局指令、工作区指令、文件类型特定指令等多种粒度</li>
<li><strong>多种文件类型</strong>：支持<code>.github/copilot-instructions.md</code>、<code>*.instructions.md</code>、<code>AGENTS.md</code>等多种格式</li>
<li><strong>版本控制友好</strong>：指令文件可以纳入<code>Git</code>管理，便于团队协作</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=关键概念>关键概念<a href=#关键概念 class=hash-link aria-label="Direct link to 关键概念" title="Direct link to 关键概念">​</a></h3>
<table><thead><tr><th>概念<th>说明<tbody><tr><td><code>Instructions</code>文件<td>包含自定义指令的<code>Markdown</code>文件<tr><td>自动应用（<code>Auto-apply</code>）<td>根据<code>applyTo</code>模式自动将指令添加到上下文<tr><td>手动附加（<code>Manual attach</code>）<td>通过聊天界面的"<code>Add Context</code>"手动选择指令<tr><td>作用域（<code>Scope</code>）<td>指令可以作用于工作区级别或用户级别<tr><td>优先级<td>多个指令文件可以同时生效，<code>VS Code</code>会合并它们</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=解决什么问题>解决什么问题<a href=#解决什么问题 class=hash-link aria-label="Direct link to 解决什么问题" title="Direct link to 解决什么问题">​</a></h2>
<p><code>Copilot Instructions</code>主要解决以下几类问题：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=代码风格不一致>代码风格不一致<a href=#代码风格不一致 class=hash-link aria-label="Direct link to 代码风格不一致" title="Direct link to 代码风格不一致">​</a></h3>
<p>不同团队成员或<code>AI</code>生成的代码风格可能不一致。通过定义统一的编码规范指令，可以确保所有<code>AI</code>生成的代码都遵循相同的风格。</p>
<p><strong>场景示例</strong>：</p>
<ul>
<li>统一缩进方式（空格 vs 制表符）</li>
<li>统一命名规范（驼峰 vs 下划线）</li>
<li>统一注释风格</li>
<li>统一导入顺序</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=项目规范遵循困难>项目规范遵循困难<a href=#项目规范遵循困难 class=hash-link aria-label="Direct link to 项目规范遵循困难" title="Direct link to 项目规范遵循困难">​</a></h3>
<p>每个项目都有自己的技术栈、架构模式和最佳实践。手动向<code>AI</code>说明这些规范既繁琐又容易遗漏。</p>
<p><strong>场景示例</strong>：</p>
<ul>
<li>特定框架的使用规范（如<code>React Hooks</code>使用规则）</li>
<li>项目特定的目录结构约定</li>
<li>安全规范（如禁止使用某些危险函数）</li>
<li>性能优化准则</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=重复性说明浪费时间>重复性说明浪费时间<a href=#重复性说明浪费时间 class=hash-link aria-label="Direct link to 重复性说明浪费时间" title="Direct link to 重复性说明浪费时间">​</a></h3>
<p>如果每次都要向<code>AI</code>重复说明相同的要求，会严重影响开发效率。</p>
<p><strong>场景示例</strong>：</p>
<ul>
<li>每次都要求添加错误处理</li>
<li>每次都要求添加单元测试</li>
<li>每次都要求添加类型注解</li>
<li>每次都要求使用特定的日志格式</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=团队协作缺乏一致性>团队协作缺乏一致性<a href=#团队协作缺乏一致性 class=hash-link aria-label="Direct link to 团队协作缺乏一致性" title="Direct link to 团队协作缺乏一致性">​</a></h3>
<p>团队成员使用<code>AI</code>时如果没有统一的指导，生成的代码质量和风格会有较大差异。</p>
<p><strong>场景示例</strong>：</p>
<ul>
<li>新成员不了解项目规范</li>
<li>不同成员对<code>AI</code>的使用方式不同</li>
<li>代码审查时发现大量不符合规范的代码</li>
<li>难以维护代码的一致性</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=上下文信息传递不便>上下文信息传递不便<a href=#上下文信息传递不便 class=hash-link aria-label="Direct link to 上下文信息传递不便" title="Direct link to 上下文信息传递不便">​</a></h3>
<p>某些项目特定的背景信息需要反复向<code>AI</code>说明。</p>
<p><strong>场景示例</strong>：</p>
<ul>
<li>项目依赖的特殊库的使用方法</li>
<li>自定义工具函数的用途</li>
<li>项目特定的术语和概念</li>
<li>外部<code>API</code>的调用规范</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=核心功能>核心功能<a href=#核心功能 class=hash-link aria-label="Direct link to 核心功能" title="Direct link to 核心功能">​</a></h2>
<p><code>Copilot Instructions</code>提供了以下核心功能：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=多种指令文件类型>多种指令文件类型<a href=#多种指令文件类型 class=hash-link aria-label="Direct link to 多种指令文件类型" title="Direct link to 多种指令文件类型">​</a></h3>
<p><code>VS Code</code>支持三种主要的指令文件类型，每种都有其特定用途：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=githubcopilot-instructionsmd>.github/copilot-instructions.md<a href=#githubcopilot-instructionsmd class=hash-link aria-label="Direct link to .github/copilot-instructions.md" title="Direct link to .github/copilot-instructions.md">​</a></h4>
<ul>
<li><strong>位置</strong>：工作区根目录的<code>.github/</code>文件夹下</li>
<li><strong>作用范围</strong>：自动应用于工作区内的所有聊天请求</li>
<li><strong>适用场景</strong>：定义整个项目的通用开发准则</li>
<li><strong>兼容性</strong>：也被<code>Visual Studio</code>和<code>GitHub.com</code>的<code>Copilot</code>识别</li>
<li><strong>启用方式</strong>：需要启用<code>github.copilot.chat.codeGeneration.useInstructionFiles</code>设置</li>
</ul>
<p><strong>示例结构</strong>：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 项目编码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循Go官方编码风格指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循项目中定义的gofmt和golint规则</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有导出函数添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用context进行超时和取消控制</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=instructionsmd>*.instructions.md<a href=#instructionsmd class=hash-link aria-label="Direct link to *.instructions.md" title="Direct link to *.instructions.md">​</a></h4>
<ul>
<li><strong>位置</strong>：默认在<code>.github/instructions/</code>文件夹下，也可配置到用户配置文件夹</li>
<li><strong>作用范围</strong>：可通过<code>applyTo</code>属性指定特定文件类型或路径</li>
<li><strong>适用场景</strong>：针对特定文件类型、语言或任务的定制化指令</li>
<li><strong>灵活性</strong>：可以创建多个指令文件，每个针对不同场景</li>
</ul>
<p><strong>示例结构</strong>：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">name</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"Go编码规范"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">description</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"Go文件的编码规范"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go编码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循Go官方编码风格指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用gofmt格式化代码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有导出的函数和类型添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用testing包编写单元测试</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=agentsmd>AGENTS.md<a href=#agentsmd class=hash-link aria-label="Direct link to AGENTS.md" title="Direct link to AGENTS.md">​</a></h4>
<ul>
<li><strong>位置</strong>：工作区根目录或子目录</li>
<li><strong>作用范围</strong>：自动应用于所有聊天请求</li>
<li><strong>适用场景</strong>：为多<code>AI Agent</code>环境定义指令</li>
<li><strong>实验性功能</strong>：支持嵌套的<code>AGENTS.md</code>文件（需启用<code>chat.useNestedAgentsMdFiles</code>）</li>
<li><strong>启用方式</strong>：需要启用<code>chat.useAgentsMdFile</code>设置</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=灵活的应用方式>灵活的应用方式<a href=#灵活的应用方式 class=hash-link aria-label="Direct link to 灵活的应用方式" title="Direct link to 灵活�的应用方式">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=自动应用>自动应用<a href=#自动应用 class=hash-link aria-label="Direct link to 自动应用" title="Direct link to 自动应用">​</a></h4>
<p>通过在指令文件头部定义<code>applyTo</code>属性，可以指定指令自动应用的条件：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go编码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">...</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>支持的模式包括：</p>
<ul>
<li><code>**/*.py</code> - 所有<code>Python</code>文件</li>
<li><code>src/**</code> - <code>src</code>目录下的所有文件</li>
<li><code>**/test/**</code> - 所有测试目录</li>
<li><code>**</code> - 所有文件</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=手动附加>手动附加<a href=#手动附加 class=hash-link aria-label="Direct link to 手动附加" title="Direct link to 手动附加">​</a></h4>
<p>在聊天界面中，可以通过"<code>Add Context</code>"菜单手动选择要应用的指令文件。这适用于：</p>
<ul>
<li>临时需要某个指令</li>
<li>指令没有定义<code>applyTo</code>属性</li>
<li>需要明确控制指令的应用</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=作用域管理>作用域管理<a href=#作用域管理 class=hash-link aria-label="Direct link to 作用域管理" title="Direct link to 作用域管理">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=工作区级别workspace-level>工作区级别（Workspace Level）<a href=#工作区级别workspace-level class=hash-link aria-label="Direct link to 工作区级别（Workspace Level）" title="Direct link to 工作区级别（Workspace Level）">​</a></h4>
<ul>
<li><strong>存储位置</strong>：<code>.github/instructions/</code>或其他配置的工作区路径</li>
<li><strong>作用范围</strong>：仅在当前工作区生效</li>
<li><strong>适用场景</strong>：项目特定的规范和准则</li>
<li><strong>版本控制</strong>：通常应该纳入<code>Git</code>管理，供团队共享</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=用户级别user-level>用户级别（User Level）<a href=#用户级别user-level class=hash-link aria-label="Direct link to 用户级别（User Level）" title="Direct link to 用户级别（User Level）">​</a></h4>
<ul>
<li><strong>存储位置</strong>：用户配置文件目录</li>
<li><strong>作用范围</strong>：在所有工作区生效</li>
<li><strong>适用场景</strong>：个人偏好的编码风格</li>
<li><strong>跨设备同步</strong>：可以通过<code>Settings Sync</code>在多台设备间同步</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=指令文件格式>指令文件格式<a href=#指令文件格式 class=hash-link aria-label="Direct link to 指令文件格式" title="Direct link to 指令文件格式">​</a></h3>
<p>指令文件使用<code>Markdown</code>格式，包含可选的<code>YAML</code>头部和指令正文：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">name</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"后端代码审查指南"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">description</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"后端代码审查指导原则"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"backend/**"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 后端代码审查清单</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 安全性</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 检查SQL注入漏洞</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证所有用户输入</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用参数化查询</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 性能</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为需要的字段添加数据库索引</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 优化N+1查询</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 缓存频繁访问的数据</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 测试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 单元测试覆盖率 > 80%</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为API接口添加集成测试</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=引用上下文>引用上下文<a href=#引用上下文 class=hash-link aria-label="Direct link to 引用上下文" title="Direct link to 引用上下文">​</a></h3>
<p>在指令中可以使用<code>Markdown</code>链接来引用特定的文件、文档或<code>URL</code>：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 项目指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循 </span><span class="token url" style=color:#a6e22e>[</span><span class="token url content" style=color:#a6e22e>style-guide.md</span><span class="token url" style=color:#a6e22e>](</span><span class="token url" style=color:#a6e22e>docs/style-guide.md</span><span class="token url" style=color:#a6e22e>)</span><span class="token plain"> 中的代码风格指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> API文档：</span><span class="token url" style=color:#a6e22e>[</span><span class="token url content" style=color:#a6e22e>API文档</span><span class="token url" style=color:#a6e22e>](</span><span class="token url" style=color:#a6e22e>https://api.example.com/docs</span><span class="token url" style=color:#a6e22e>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用 </span><span class="token url" style=color:#a6e22e>[</span><span class="token url content" style=color:#a6e22e>utils.go</span><span class="token url" style=color:#a6e22e>](</span><span class="token url" style=color:#a6e22e>src/utils.go</span><span class="token url" style=color:#a6e22e>)</span><span class="token plain"> 中的工具函数</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=工具引用>工具引用<a href=#工具引用 class=hash-link aria-label="Direct link to 工具引用" title="Direct link to 工具引用">​</a></h3>
<p>可以在指令中引用特定的<code>Agent</code>工具：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 指令说明</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">搜索代码示例时，使用 #tool:githubRepo 工具搜索GitHub仓库。</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=设置集成>设置集成<a href=#设置集成 class=hash-link aria-label="Direct link to 设置集成" title="Direct link to 设置集成">​</a></h3>
<p>除了文件形式，还可以通过<code>VS Code</code>设置定义特定场景的指令：</p>
<table><thead><tr><th>设置项<th>用途<tbody><tr><td><code>github.copilot.chat.reviewSelection.instructions</code><td>代码审查指令<tr><td><code>github.copilot.chat.commitMessageGeneration.instructions</code><td>提交消息生成指令<tr><td><code>github.copilot.chat.pullRequestDescriptionGeneration.instructions</code><td><code>PR</code>描述生成指令</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=使用配置>使用配置<a href=#使用配置 class=hash-link aria-label="Direct link to 使用配置" title="Direct link to 使用配置">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=frontmatter配置>frontmatter配置<a href=#frontmatter配置 class=hash-link aria-label="Direct link to frontmatter配置" title="Direct link to frontmatter配置">​</a></h3>
<p>指令文件（<code>*.instructions.md</code>）顶部的<code>YAML</code>前置配置（<code>frontmatter</code>）支持以下字段：</p>
<table><thead><tr><th>配置项<th>必填<th>说明<tbody><tr><td><code>name</code><td>否<td>指令文件的显示名称，在<code>UI</code>中展示。如果未指定，使用文件名<tr><td><code>description</code><td>否<td>指令文件的简短描述，说明其用途<tr><td><code>applyTo</code><td>否<td><code>Glob</code>模式，定义指令自动应用的文件范围。相对于工作区根目录。如果未指定，需要手动附加</table>
<p><strong>配置示例</strong>：</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token key atrule">name</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"Go服务层规范"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token key atrule">description</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"Go服务层代码最佳实践"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token key atrule">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"service/**/*.go"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>---</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>配置提示</strong>：</p>
<ul>
<li><code>applyTo</code>支持标准的<code>glob</code>模式，如<code>**/*.ts</code>（所有<code>TypeScript</code>文件）、<code>src/**</code>（<code>src</code>目录下所有文件）</li>
<li>如果不设置<code>applyTo</code>，指令不会自动应用，只能通过聊天界面手动附加</li>
<li>多个指令文件可以匹配同一个文件，<code>VS Code</code>会合并所有匹配的指令</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=注意事项>注意事项<a href=#注意事项 class=hash-link aria-label="Direct link to 注意事项" title="Direct link to 注意事项">​</a></h3>
<p>作用范围是工作区（<code>workspace</code>）级别的指令文件，必须放置于工作区的<code>.github/instructions/</code>目录下，否则无法被编辑器自动识别和应用。如果工作区下包含多个项目，且项目下有独立的<code>.github/instructions/</code>指令配置，这些指令无法被编辑器自动识别和应用，需要手动<code>Add Context...</code>才行。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=如何使用>如何使用<a href=#如何使用 class=hash-link aria-label="Direct link to 如何使用" title="Direct link to 如何使用">​</a></h2>
<p>下面详细介绍如何配置和使用<code>Copilot Instructions</code>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=启用instructions功能>启用Instructions功能<a href=#启用instructions功能 class=hash-link aria-label="Direct link to 启用Instructions功能" title="Direct link to 启用Instructions功能">​</a></h3>
<p>首先需要在<code>VS Code</code>设置中启用相关功能：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=启用-githubcopilot-instructionsmd>启用 .github/copilot-instructions.md<a href=#启用-githubcopilot-instructionsmd class=hash-link aria-label="Direct link to 启用 .github/copilot-instructions.md" title="Direct link to 启用 .github/copilot-instructions.md">​</a></h4>
<p>打开设置（<code>Cmd/Ctrl + ,</code>），搜索并启用（默认已启用）：</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">github</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">copilot</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">chat</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">codeGeneration</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">useInstructionFiles</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=启用-agentsmd>启用 AGENTS.md<a href=#启用-agentsmd class=hash-link aria-label="Direct link to 启用 AGENTS.md" title="Direct link to 启用 AGENTS.md">​</a></h4>
<p>搜索并启用（默认已启用）：</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">chat</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">useAgentsMdFile</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>如果需要支持嵌套的<code>AGENTS.md</code>文件（实验性，需要手动启用）：</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">chat</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">useNestedAgentsMdFiles</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=创建-githubcopilot-instructionsmd>创建 .github/copilot-instructions.md<a href=#创建-githubcopilot-instructionsmd class=hash-link aria-label="Direct link to 创建 .github/copilot-instructions.md" title="Direct link to 创建 .github/copilot-instructions.md">​</a></h3>
<p>这是最简单的开始方式，适合定义整个项目的通用规范。</p>
<p><strong>步骤</strong>：</p>
<ol>
<li>在工作区根目录创建<code>.github</code>文件夹（如果不存在）</li>
<li>在<code>.github</code>文件夹下创建<code>copilot-instructions.md</code>文件</li>
<li>使用<code>Markdown</code>格式编写指令</li>
</ol>
<p><strong>示例</strong>：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 项目开发指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码风格</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用gofmt进行代码格式化</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用tab进行缩进</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每行最大长度：120字符</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> Go语言规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循Effective Go指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用接口定义抽象</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 避免使用interface{}类型，优先使用具体类型</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 错误处理</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 明确处理所有错误</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用自定义错误类型提供更多上下文</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 不要忽略或panic错误</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 测试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有业务逻辑编写单元测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用testing包和testify断言库</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 目标测试覆盖率 >80%</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 注释</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为导出的函数和类型添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 用行内注释解释复杂算法</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持注释简洁并及时更新</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=创建-instructionsmd-文件>创建 *.instructions.md 文件<a href=#创建-instructionsmd-文件 class=hash-link aria-label="Direct link to 创建 *.instructions.md 文件" title="Direct link to 创建 *.instructions.md 文件">​</a></h3>
<p>使用<code>*.instructions.md</code>可以创建更灵活、针对特定场景的指令。</p>
<p><strong>方法一：通过UI创建</strong></p>
<ol>
<li>打开聊天视图（<code>Chat View</code>）</li>
<li>点击配置按钮（齿轮图标）> "<code>Chat Instructions</code>"</li>
<li>选择"<code>New instruction file</code>"</li>
<li>选择存储位置：<!-- -->
<ul>
<li><strong>Workspace</strong>：存储在工作区的<code>.github/instructions/</code></li>
<li><strong>User Profile</strong>：存储在用户配置文件夹</li>
</ul>
</li>
<li>输入文件名</li>
<li>编写指令内容</li>
</ol>
<p><strong>方法二：通过命令面板创建</strong></p>
<ol>
<li>打开命令面板（<code>Cmd/Ctrl + Shift + P</code>）</li>
<li>运行命令：<code>Chat: New Instructions File</code></li>
<li>按提示选择位置和输入文件名</li>
</ol>
<p><strong>方法三：手动创建</strong></p>
<p>在<code>.github/instructions/</code>目录下直接创建<code>.instructions.md</code>文件。</p>
<p><strong>示例：Go特定指令</strong></p>
<p>文件：<code>.github/instructions/go-standards.instructions.md</code></p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">name</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"Go编码规范"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">description</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"Go语言特定的编码指南"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go编码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码风格</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 严格遵循Effective Go指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用gofmt格式化代码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用goimports管理导入</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每行最大长度：120字符</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 类型定义</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为复杂的数据结构定义类型</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用结构体组合而非继承</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为接口使用最小化定义</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 文档注释</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有导出的包、类型、函数添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 注释以声明的名称开头</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 在注释中包含使用示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 错误处理</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 明确处理每个错误，不要使用_忽略</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用errors包包装错误以添加上下文</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用defer进行资源清理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 测试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用testing包编写单元测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用表驱动测试处理多个测试用例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用testify/mock模拟外部依赖</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 目标测试覆盖率 >90%</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>示例：API服务特定指令</strong></p>
<p>文件：<code>.github/instructions/api-service-standards.instructions.md</code></p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">name</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"API服务编码规范"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">description</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"API服务Go代码规范"</span><span class="token front-matter-block front-matter yaml language-yaml"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block front-matter yaml language-yaml"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"api/**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> API服务开发规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 目录结构</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个服务一个包</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用内部包隔离实现细节</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> handler、service、repository分层</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持文件在500行以内</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> API最佳实践</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用RESTful API设计原则</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 统一使用JSON格式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现标准的HTTP状态码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用中间件处理通用逻辑</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 请求处理</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证所有输入参数</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用context传递请求上下文</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现请求超时控制</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录请求和响应日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 性能</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用连接池管理数据库连接</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现合理的缓存策略</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 对慢查询添加索引</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用goroutine处理异步任务</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 安全性</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证用户身份和权限</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 防止SQL注入攻击</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现请求限流</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 敏感信息不记录日志</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=创建-agentsmd-文件>创建 AGENTS.md 文件<a href=#创建-agentsmd-文件 class=hash-link aria-label="Direct link to 创建 AGENTS.md 文件" title="Direct link to 创建 AGENTS.md 文件">​</a></h3>
<p><code>AGENTS.md</code>文件适合为多<code>Agent</code>环境或整个工作区定义通用指令。</p>
<p><strong>步骤</strong>：</p>
<ol>
<li>在工作区根目录创建<code>AGENTS.md</code>文件</li>
<li>使用<code>Markdown</code>格式编写指令</li>
<li>（可选）在子目录创建额外的<code>AGENTS.md</code>文件用于特定模块</li>
</ol>
<p><strong>示例</strong>：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 开发代理指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码生成</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 始终包含错误处理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为重要操作添加日志记录</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用环境变量进行配置</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 永远不要提交密钥或凭证</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码审查</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 检查安全漏洞</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证测试覆盖率</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 评审性能影响</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 确保文档已更新</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 调试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 添加描述性日志消息</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 有效使用断点</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 检查边界情况</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证错误处理路径</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 文档</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 添加功能时更新README</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录API变更</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为复杂功能添加示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持架构图更新</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=在设置中定义指令>在设置中定义指令<a href=#在设置中定义指令 class=hash-link aria-label="Direct link to 在设置中定义指令" title="Direct link to 在设置中定义指令">​</a></h3>
<p>对于特定任务，可以在<code>VS Code</code>设置中直接定义指令。</p>
<p><strong>打开设置JSON</strong>：</p>
<ol>
<li>命令面板 > <code>Preferences: Open User Settings (JSON)</code></li>
<li>或者打开<code>.vscode/settings.json</code>（工作区级别）</li>
</ol>
<p><strong>示例配置</strong>：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token property" style=color:#f92672>"github.copilot.chat.reviewSelection.instructions"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"检查安全漏洞和数据验证"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"验证错误处理和边界情况"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"file"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"guidelines/code-review-checklist.md"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token property" style=color:#f92672>"github.copilot.chat.commitMessageGeneration.instructions"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"遵循Conventional Commits格式"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"包含工单号，格式：[PROJ-123]"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"保持主题行在50字符以内"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token property" style=color:#f92672>"github.copilot.chat.pullRequestDescriptionGeneration.instructions"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"包含：做什么、为什么、怎么做"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"列出所有破坏性变更"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"添加测试说明"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"引用相关问题"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=手动附加指令到聊天>手动附加指令到聊天<a href=#手动附加指令到聊天 class=hash-link aria-label="Direct link to 手动附加指令到聊天" title="Direct link to 手动附加指令到聊天">​</a></h3>
<p>除了自动应用，还可以手动选择要使用的指令：</p>
<p><strong>步骤</strong>：</p>
<ol>
<li>在聊天界面输入提示</li>
<li>点击"<code>Add Context</code>"按钮（<code>@</code>图标旁边）</li>
<li>选择"<code>Instructions</code>"</li>
<li>从列表中选择要附加的指令文件</li>
<li>发送聊天请求</li>
</ol>
<p>这种方式适合：</p>
<ul>
<li>临时使用某个指令</li>
<li>指令没有配置<code>applyTo</code>自动应用</li>
<li>需要明确控制使用哪些指令</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=管理和编辑指令>管理和编辑指令<a href=#管理和编辑指令 class=hash-link aria-label="Direct link to 管理和编辑指令" title="Direct link to 管理和编辑指令">​</a></h3>
<p><strong>查看现有指令</strong>：</p>
<ol>
<li>打开聊天视图</li>
<li>点击配置按钮 > "<code>Chat Instructions</code>"</li>
<li>查看所有可用的指令文件列表</li>
</ol>
<p>或者使用命令：<code>Chat: Configure Instructions</code></p>
<p><strong>编辑指令</strong>：</p>
<ol>
<li>从指令列表中选择要编辑的文件</li>
<li>在编辑器中修改内容</li>
<li>保存文件，更改立即生效</li>
</ol>
<p><strong>查看指令来源</strong>：</p>
<p>将鼠标悬停在指令列表中的文件名上，工具提示会显示文件的完整路径，帮助你识别指令的来源：</p>
<ul>
<li>内置指令</li>
<li>用户配置文件夹</li>
<li>当前工作区</li>
<li>扩展提供的指令</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=配置指令文件位置>配置指令文件位置<a href=#配置指令文件位置 class=hash-link aria-label="Direct link to 配置指令文件位置" title="Direct link to 配置指令文件位置">​</a></h3>
<p>默认情况下，工作区级别的指令文件存储在<code>.github/instructions/</code>，但可以自定义：</p>
<p><strong>设置</strong>：<code>chat.instructionsFilesLocations</code></p>
<p><strong>示例</strong>：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token property" style=color:#f92672>"chat.instructionsFilesLocations"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>".github/instructions"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>".copilot/instructions"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"docs/ai-instructions"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><code>VS Code</code>会在这些目录中搜索<code>.instructions.md</code>文件。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=生成指令文件>生成指令文件<a href=#生成指令文件 class=hash-link aria-label="Direct link to 生成指令文件" title="Direct link to 生成指令文件">​</a></h3>
<p><code>VS Code</code>可以分析你的工作区并自动生成匹配项目的指令文件。</p>
<p><strong>步骤</strong>：</p>
<ol>
<li>打开聊天视图</li>
<li>点击配置按钮 > "<code>Generate Chat Instructions</code>"</li>
<li><code>VS Code</code>会分析项目结构、代码风格等</li>
<li>生成一个<code>.github/copilot-instructions.md</code>文件</li>
<li>审查并根据需要调整内容</li>
</ol>
<p>这是快速开始的好方法，特别是对于已有的项目。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=跨设备同步指令>跨设备同步指令<a href=#跨设备同步指令 class=hash-link aria-label="Direct link to 跨设备同步指令" title="Direct link to 跨设备同步指令">​</a></h3>
<p>用户级别的指令文件可以通过<code>Settings Sync</code>在多台设备间同步。</p>
<p><strong>启用同步</strong>：</p>
<ol>
<li>确保已启用<code>Settings Sync</code></li>
<li>命令面板 > <code>Settings Sync: Configure</code></li>
<li>确保选中"<code>Prompts and Instructions</code>"</li>
<li>用户指令文件会自动同步到其他设备</li>
</ol>
<p>注意：工作区级别的指令不会通过<code>Settings Sync</code>同步，而是通过版本控制系统（如<code>Git</code>）共享。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=应用场景>应用场景<a href=#应用场景 class=hash-link aria-label="Direct link to 应用场景" title="Direct link to 应用场景">​</a></h2>
<p><code>Copilot Instructions</code>在各种开发场景中都非常有用，以下是一些典型的应用场景。为简化示例，指令内容没有写太多，仅供参考。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=统一团队编码规范>统一团队编码规范<a href=#统一团队编码规范 class=hash-link aria-label="Direct link to 统一团队编码规范" title="Direct link to 统一团队编码规范">​</a></h3>
<p><strong>场景描述</strong>：
团队有多名开发者，每个人的编码风格不同，导致代码库风格混乱，难以维护。</p>
<p><strong>解决方案</strong>：
创建<code>.github/copilot-instructions.md</code>定义团队统一的编码规范：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 团队编码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 命名规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 变量：驼峰命名法（camelCase）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 常量：全大写下划线命名法（UPPER_SNAKE_CASE）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 类型：大驼峰命名法（PascalCase）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 文件：小写下划线命名法（snake_case）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码结构</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 函数最大长度：50行</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 文件最大长度：500行</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 将复杂逻辑提取到独立函数</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个函数只负责一个功能</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 文档</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有导出函数添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为复杂逻辑添加行内注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个模块包含README说明</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> Git工作流</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 功能分支命名：feature/TICKET-123-description</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 提交信息格式：type(scope): message</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 合并前压缩提交</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>效果</strong>：
所有团队成员使用<code>Copilot</code>生成代码时都会遵循相同的规范，确保代码一致性。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=语言和框架特定规范>语言和框架特定规范<a href=#语言和框架特定规范 class=hash-link aria-label="Direct link to 语言和框架特定规范" title="Direct link to 语言和框架特定规范">​</a></h3>
<p><strong>场景描述</strong>：
项目使用多种编程语言和框架，每种都有其最佳实践。</p>
<p><strong>解决方案</strong>：
为不同语言创建专门的指令文件：</p>
<p><strong>Go API服务</strong>（<code>.github/instructions/go-api.instructions.md</code>）：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"api/**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go API服务规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循RESTful API设计原则</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用GoFrame开发框架</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现统一的错误响应格式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用中间件处理认证和日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 对所有接口添加限流保护</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现优雅关闭</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Go数据层</strong>（<code>.github/instructions/go-data.instructions.md</code>）：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"dao/**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go数据层规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用GoFrame ORM进行数据库操作</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 禁止使用原始SQL语句进行数据库操作，避免SQL注入</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现数据库事务管理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为频繁查询的字段添加索引</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用连接池管理连接</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现软删除而非物理删除</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><strong>Go业务层</strong>（<code>.github/instructions/go-service.instructions.md</code>）：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style=color:#f8f8f2>:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style=color:#a6e22e>"service/**/*.go"</span><span class="token front-matter-block"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style=color:#f8f8f2>---</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> Go业务层规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循领域驱动设计原则</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用接口定义服务契约</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 明确处理所有错误</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用context进行超时控制</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用表驱动测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为导出函数添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用有意义的变量名</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=安全和合规要求>安全和合规要求<a href=#安全和合规要求 class=hash-link aria-label="Direct link to 安全和合规要求" title="Direct link to 安全和合规要求">​</a></h3>
<p><strong>场景描述</strong>：
项目有严格的安全和合规要求，需要确保<code>AI</code>生成的代码符合这些要求。</p>
<p><strong>解决方案</strong>：
创建安全相关的指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 安全指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 认证与授权</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 永远不要硬编码凭证</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用环境变量存储密钥</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现合适的会话管理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每次请求都验证用户权限</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 输入验证</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证所有用户输入</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 数据库操作前清理数据</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用参数化查询</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 转义输出以防止XSS攻击</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 数据保护</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 加密静态敏感数据</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 所有通信使用HTTPS</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现请求限流</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录安全事件日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码安全</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 不使用eval()或exec()等危险函数</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 验证文件路径防止目录遍历</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用安全的随机数生成器</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持依赖库更新</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 合规性</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循GDPR要求</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现数据保留策略</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为敏感操作添加审计日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录数据处理活动</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=测试驱动开发tdd>测试驱动开发（TDD）<a href=#测试驱动开发tdd class=hash-link aria-label="Direct link to 测试驱动开发（TDD）" title="Direct link to 测试驱动开发（TDD）">​</a></h3>
<p><strong>场景描述</strong>：
团队实施<code>TDD</code>，需要确保每个功能都有对应的测试。</p>
<p><strong>解决方案</strong>：
创建测试相关的指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 测试规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 单元测试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 在实现前编写测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用AAA模式（Arrange-Act-Assert）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 尽可能每个测试一个断言</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 测试边界情况和错误场景</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 模拟外部依赖</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 测试覆盖率</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 最低80%代码覆盖率</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 关键路径100%覆盖</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 测试正常流程和错误情况</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 测试组织</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 镜像源代码结构</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用描述性的测试名称</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用表驱动测试组织相关测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用setup和teardown进行测试准备和清理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 集成测试</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 端到端测试API接口</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用测试数据库</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个测试后清理数据</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 测试认证和授权</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 最佳实践</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持测试快速和隔离</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用固定数据进行测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 避免测试实现细节</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 在CI/CD流水线中运行测试</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=文档自动生成>文档自动生成<a href=#文档自动生成 class=hash-link aria-label="Direct link to 文档自动生成" title="Direct link to 文档自动生成">​</a></h3>
<p><strong>场景描述</strong>：
项目需要详细的文档，但手动维护文档很费时。</p>
<p><strong>解决方案</strong>：
创建文档生成指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 文档编写指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码文档</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为所有公开API添加文档注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含参数类型和描述</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录返回值和可能的错误</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 提供使用示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> API文档</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录所有接口端点</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含请求/响应示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 列出所有可能的状态码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录认证要求</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> README更新</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 添加功能时更新README</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含安装说明</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 提供快速开始指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 列出配置选项</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 架构文档</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录设计决策</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 创建架构图</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 解释数据流</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录集成点</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 格式要求</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用Markdown格式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含代码示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 链接到相关文档</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持文档更新</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=性能优化指导>性能优化指导<a href=#性能优化指导 class=hash-link aria-label="Direct link to 性能优化指导" title="Direct link to 性能优化指导">​</a></h3>
<p><strong>场景描述</strong>：
应用有性能要求，需要确保生成的代码性能良好。</p>
<p><strong>解决方案</strong>：
创建性能优化指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 性能优化指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 数据库操作</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为频繁查询的列添加索引</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 避免N+1查询问题</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用批量操作</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为大数据集实现分页</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用连接池</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> Go性能优化</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用sync.Pool复用对象</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 合理使用goroutine</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 避免不必要的内存分配</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用buffer池处理I/O</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用pprof进行性能分析</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 缓存策略</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 缓存频繁访问的数据</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用Redis存储会话</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现HTTP缓存头</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 缓存数据库查询结果</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 算法优化</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用合适的数据结构</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 尽可能避免嵌套循环</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现高效算法</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 优化前先进行性能分析</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 监控</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 添加性能指标</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录慢操作日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为性能问题设置告警</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用APM监控工具</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=微服务架构规范>微服务架构规范<a href=#微服务架构规范 class=hash-link aria-label="Direct link to 微服务架构规范" title="Direct link to 微服务架构规范">​</a></h3>
<p><strong>场景描述</strong>：
项目采用微服务架构，需要统一服务间的交互规范。</p>
<p><strong>解决方案</strong>：
创建微服务相关指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 微服务架构指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 服务设计</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个服务单一职责</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 服务无状态化</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用API网关进行路由</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现熔断器模式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 服务通信</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 同步通信使用REST或gRPC</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 异步通信使用消息队列</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现指数退避的重试逻辑</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用关联ID进行链路追踪</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 数据管理</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个服务独立数据库</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 复杂工作流使用事件溯源</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现最终一致性</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 谨慎处理分布式事务</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 可观测性</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 结构化日志</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 分布式链路追踪</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 健康检查接口</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 每个服务的指标监控</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 部署</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用容器（Docker）</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 实现蓝绿部署</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用服务网格管理网络</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用CI/CD自动化部署</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=代码审查自动化>代码审查自动化<a href=#代码审查自动化 class=hash-link aria-label="Direct link to 代码审查自动化" title="Direct link to 代码审查自动化">​</a></h3>
<p><strong>场景描述</strong>：
代码审查耗时，需要<code>AI</code>帮助进行初步审查。</p>
<p><strong>解决方案</strong>：
配置代码审查指令：</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token property" style=color:#f92672>"github.copilot.chat.reviewSelection.instructions"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"检查潜在的bug和逻辑错误"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"验证错误处理是否全面"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"确保代码遵循团队规范"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"检查安全漏洞"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"验证变更的测试覆盖率"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"查找性能问题"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"text"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"确保文档已更新"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"> </span><span class="token property" style=color:#f92672>"file"</span><span class="token operator" style=color:#66d9ef>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>".github/instructions/review-checklist.md"</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">  </span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=多语言项目管理>多语言项目管理<a href=#多语言项目管理 class=hash-link aria-label="Direct link to 多语言项目管理" title="Direct link to 多语言项目管理">​</a></h3>
<p><strong>场景描述</strong>：
项目包含前端、后端、移动端等多个技术栈。</p>
<p><strong>解决方案</strong>：
为不同部分创建独立的指令文件：</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">github</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">instructions</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├── api</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">service</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">instructions</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md     </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"api/**"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├── data</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">layer</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">instructions</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md      </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"dao/**"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├── business</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">logic</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">instructions</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md  </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"service/**"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">├── shared</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">testing</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">instructions</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md  </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"**/*_test.go"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">└── shared</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">docs</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">instructions</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md     </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">applyTo</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"docs/**"</span><span class="token punctuation" style=color:#f8f8f2>)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>或使用嵌套的<code>AGENTS.md</code>：</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">api</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">AGENTS</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md        # API服务特定指令</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">service</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">AGENTS</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md    # 业务层特定指令</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">dao</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">AGENTS</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">md        # 数据层特定指令</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=遗留代码重构>遗留代码重构<a href=#遗留代码重构 class=hash-link aria-label="Direct link to 遗留代码重构" title="Direct link to 遗留代码重构">​</a></h3>
<p><strong>场景描述</strong>：
项目有大量遗留代码需要重构，但要保持兼容性。</p>
<p><strong>解决方案</strong>：
创建重构指导指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 遗留代码重构指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 兼容性</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持向后兼容</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 移除API前添加废弃警告</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 提供迁移指南</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持旧测试通过</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 渐进式重构</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 以小的、可测试的增量进行重构</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 重构前先添加测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 使用绞杀者模式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 始终保持系统可运行</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码现代化</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 更新到现代语言特性</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 替换废弃的库</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 改进错误处理</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 添加类型注解</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 文档记录</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录重构决策</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 解释破坏性变更</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 更新架构图</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 创建重构前后对比</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 质量保证</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 运行完整测试套件</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 执行手动测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 检查性能影响</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 合并前团队评审</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=开源项目贡献>开源项目贡献<a href=#开源项目贡献 class=hash-link aria-label="Direct link to 开源项目贡献" title="Direct link to 开源项目贡献">​</a></h3>
<p><strong>场景描述</strong>：
参与开源项目，需要遵循项目的贡献指南。</p>
<p><strong>解决方案</strong>：
为开源项目创建专门的指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 开源贡献指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循项目现有风格</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 开始前阅读CONTRIBUTING.md</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 检查现有的issues和PR</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 重大变更先在issue中讨论</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 提交规范</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 编写清晰、描述性的提交信息</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 在提交中引用issue编号</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持提交原子化和聚焦</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 如需要则签名提交</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> Pull Request</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 完整填写PR模板</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 为新功能添加测试</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 更新文档</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 及时回应评审意见</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 沟通交流</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 保持尊重和专业</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 遵循行为准则</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 不清楚时提问</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 感谢评审者的时间</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 许可证</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 确保代码与项目许可证兼容</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 如需要添加版权头</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 不包含专有代码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 记录第三方依赖</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ai辅助学习>AI辅助学习<a href=#ai辅助学习 class=hash-link aria-label="Direct link to AI辅助学习" title="Direct link to AI辅助学习">​</a></h3>
<p><strong>场景描述</strong>：
学习新技术或框架，希望<code>AI</code>在学习过程中提供指导。</p>
<p><strong>解决方案</strong>：
创建学习辅助指令：</p>
<div class="language-markdown codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-markdown codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token title important punctuation" style=color:#f8f8f2>#</span><span class="token title important"> 学习模式指南</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 教学风格</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 展示代码前先解释概念</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 提供循序渐进的解释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含解释每个部分的注释</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 引用官方文档</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 建议额外的学习资源</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 代码示例</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 从简单示例开始</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 逐步增加复杂度</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 展示多种方法</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 解释每种方法的优缺点</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 包含需要避免的常见陷阱</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 最佳实践</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 解释为什么使用某些模式</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 展示好的和坏的示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 讨论设计权衡</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 建议改进我的代码</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 指出学习机会</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token title important punctuation" style=color:#f8f8f2>##</span><span class="token title important"> 资源推荐</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 链接到官方文档</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 建议相关教程</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 推荐书籍和课程</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 指向GitHub示例</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token list punctuation" style=color:#f8f8f2>-</span><span class="token plain"> 分享社区最佳实践</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=参考资料>参考资料<a href=#参考资料 class=hash-link aria-label="Direct link to 参考资料" title="Direct link to 参考资料">​</a></h2>
<ul>
<li><a href=https://code.visualstudio.com/docs/copilot/customization/custom-instructions target=_blank rel="noopener noreferrer">VS Code官方文档：Custom Instructions</a></li>
<li><a href=https://docs.github.com/en/copilot target=_blank rel="noopener noreferrer">GitHub Copilot文档</a></li>
<li><a href=https://github.com/github/awesome-copilot target=_blank rel="noopener noreferrer">Awesome Copilot社区示例</a></li>
<li><a href=https://code.visualstudio.com/docs/copilot/copilot-settings target=_blank rel="noopener noreferrer">VS Code Copilot设置参考</a></li>
<li><a href=https://modelcontextprotocol.io/ target=_blank rel="noopener noreferrer">Model Context Protocol (MCP)</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/ai/copilot-prompts-guide><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Copilot Prompts使用指南</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/ai/copilot-custom-agents-guide><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Copilot Custom Agents使用指南</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#前言 class="table-of-contents__link toc-highlight">前言</a><li><a href=#copilot-instructions是什么 class="table-of-contents__link toc-highlight">Copilot Instructions是什么</a><ul><li><a href=#核心特点 class="table-of-contents__link toc-highlight">核心特点</a><li><a href=#关键概念 class="table-of-contents__link toc-highlight">关键概念</a></ul><li><a href=#解决什么问题 class="table-of-contents__link toc-highlight">解决什么问题</a><ul><li><a href=#代码风格不一致 class="table-of-contents__link toc-highlight">代码风格不一致</a><li><a href=#项目规范遵循困难 class="table-of-contents__link toc-highlight">项目规范遵循困难</a><li><a href=#重复性说明浪费时间 class="table-of-contents__link toc-highlight">重复性说明浪费时间</a><li><a href=#团队协作缺乏一致性 class="table-of-contents__link toc-highlight">团队协作缺乏一致性</a><li><a href=#上下文信息传递不便 class="table-of-contents__link toc-highlight">上下文信息传递不便</a></ul><li><a href=#核心功能 class="table-of-contents__link toc-highlight">核心功能</a><ul><li><a href=#多种指令文件类型 class="table-of-contents__link toc-highlight">多种指令文件类型</a><li><a href=#灵活的应用方式 class="table-of-contents__link toc-highlight">灵活的应用方式</a><li><a href=#作用域管理 class="table-of-contents__link toc-highlight">作用域管理</a><li><a href=#指令文件格式 class="table-of-contents__link toc-highlight">指令文件格式</a><li><a href=#引用上下文 class="table-of-contents__link toc-highlight">引用上下文</a><li><a href=#工具引用 class="table-of-contents__link toc-highlight">工具引用</a><li><a href=#设置集成 class="table-of-contents__link toc-highlight">设置集成</a></ul><li><a href=#使用配置 class="table-of-contents__link toc-highlight">使用配置</a><ul><li><a href=#frontmatter配置 class="table-of-contents__link toc-highlight">frontmatter配置</a><li><a href=#注意事项 class="table-of-contents__link toc-highlight">注意事项</a></ul><li><a href=#如何使用 class="table-of-contents__link toc-highlight">如何使用</a><ul><li><a href=#启用instructions功能 class="table-of-contents__link toc-highlight">启用Instructions功能</a><li><a href=#创建-githubcopilot-instructionsmd class="table-of-contents__link toc-highlight">创建 .github/copilot-instructions.md</a><li><a href=#创建-instructionsmd-文件 class="table-of-contents__link toc-highlight">创建 *.instructions.md 文件</a><li><a href=#创建-agentsmd-文件 class="table-of-contents__link toc-highlight">创建 AGENTS.md 文件</a><li><a href=#在设置中定义指令 class="table-of-contents__link toc-highlight">在设置中定义指令</a><li><a href=#手动附加指令到聊天 class="table-of-contents__link toc-highlight">手动附加指令到聊天</a><li><a href=#管理和编辑指令 class="table-of-contents__link toc-highlight">管理和编辑指令</a><li><a href=#配置指令文件位置 class="table-of-contents__link toc-highlight">配置指令文件位置</a><li><a href=#生成指令文件 class="table-of-contents__link toc-highlight">生成指令文件</a><li><a href=#跨设备同步指令 class="table-of-contents__link toc-highlight">跨设备同步指令</a></ul><li><a href=#应用场景 class="table-of-contents__link toc-highlight">应用场景</a><ul><li><a href=#统一团队编码规范 class="table-of-contents__link toc-highlight">统一团队编码规范</a><li><a href=#语言和框架特定规范 class="table-of-contents__link toc-highlight">语言和框架特定规范</a><li><a href=#安全和合规要求 class="table-of-contents__link toc-highlight">安全和合规要求</a><li><a href=#测试驱动开发tdd class="table-of-contents__link toc-highlight">测试驱动开发（TDD）</a><li><a href=#文档自动生成 class="table-of-contents__link toc-highlight">文档自动生成</a><li><a href=#性能优化指导 class="table-of-contents__link toc-highlight">性能优化指导</a><li><a href=#微服务架构规范 class="table-of-contents__link toc-highlight">微服务架构规范</a><li><a href=#代码审查自动化 class="table-of-contents__link toc-highlight">代码审查自动化</a><li><a href=#多语言项目管理 class="table-of-contents__link toc-highlight">多语言项目管理</a><li><a href=#遗留代码重构 class="table-of-contents__link toc-highlight">遗留代码重构</a><li><a href=#开源项目贡献 class="table-of-contents__link toc-highlight">开源项目贡献</a><li><a href=#ai辅助学习 class="table-of-contents__link toc-highlight">AI辅助学习</a></ul><li><a href=#参考资料 class="table-of-contents__link toc-highlight">参考资料</a></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright 2026 johng.cn</div></div></div></footer></div>