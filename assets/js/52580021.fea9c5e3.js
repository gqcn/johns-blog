"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["7625"],{65534:function(e,n,a){a.r(n),a.d(n,{metadata:()=>o,contentTitle:()=>c,default:()=>p,assets:()=>i,toc:()=>r,frontMatter:()=>s});var o=JSON.parse('{"id":"docs/\u4E91\u539F\u751F/Volcano/Volcano\u4F7F\u7528\u793A\u4F8B","title":"Volcano\u4F7F\u7528\u793A\u4F8B","description":"\u672C\u6587\u63D0\u4F9B\u4E86Volcano\u5728Kubernetes\u4E2D\u7684\u5B9E\u9645\u4F7F\u7528\u793A\u4F8B\uFF0C\u5305\u62ECPod\u548CDeployment\u5982\u4F55\u4F7F\u7528\u961F\u5217\u8FDB\u884C\u8C03\u5EA6\uFF0C\u4EE5\u53CAGang\u8C03\u5EA6\u7684\u914D\u7F6E\u548C\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5E2E\u52A9\u7528\u6237\u5FEB\u901F\u4E0A\u624BVolcano\u8C03\u5EA6\u5668\u3002","source":"@site/docs/docs/2000-\u4E91\u539F\u751F/400-Volcano/2000-Volcano\u4F7F\u7528\u793A\u4F8B.md","sourceDirName":"docs/2000-\u4E91\u539F\u751F/400-Volcano","slug":"/cloud-native/volcano-examples","permalink":"/cloud-native/volcano-examples","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2000,"frontMatter":{"slug":"/cloud-native/volcano-examples","title":"Volcano\u4F7F\u7528\u793A\u4F8B","hide_title":true,"keywords":["Volcano","Kubernetes","\u4F7F\u7528\u793A\u4F8B","Queue","Gang\u8C03\u5EA6","Pod","Deployment","Job","\u8C03\u5EA6\u5668","\u961F\u5217\u7BA1\u7406","\u8D44\u6E90\u5206\u914D","\u6279\u5904\u7406","\u5206\u5E03\u5F0F\u8BAD\u7EC3"],"description":"\u672C\u6587\u63D0\u4F9B\u4E86Volcano\u5728Kubernetes\u4E2D\u7684\u5B9E\u9645\u4F7F\u7528\u793A\u4F8B\uFF0C\u5305\u62ECPod\u548CDeployment\u5982\u4F55\u4F7F\u7528\u961F\u5217\u8FDB\u884C\u8C03\u5EA6\uFF0C\u4EE5\u53CAGang\u8C03\u5EA6\u7684\u914D\u7F6E\u548C\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5E2E\u52A9\u7528\u6237\u5FEB\u901F\u4E0A\u624BVolcano\u8C03\u5EA6\u5668\u3002"},"sidebar":"mainSidebar","previous":{"title":"Volcano\u542F\u52A8\u53C2\u6570","permalink":"/cloud-native/volcano-startup-parameters"},"next":{"title":"Volcano\u5E38\u7528\u6CE8\u89E3","permalink":"/cloud-native/volcano-annotations"}}'),t=a("85893"),l=a("50065");let s={slug:"/cloud-native/volcano-examples",title:"Volcano\u4F7F\u7528\u793A\u4F8B",hide_title:!0,keywords:["Volcano","Kubernetes","\u4F7F\u7528\u793A\u4F8B","Queue","Gang\u8C03\u5EA6","Pod","Deployment","Job","\u8C03\u5EA6\u5668","\u961F\u5217\u7BA1\u7406","\u8D44\u6E90\u5206\u914D","\u6279\u5904\u7406","\u5206\u5E03\u5F0F\u8BAD\u7EC3"],description:"\u672C\u6587\u63D0\u4F9B\u4E86Volcano\u5728Kubernetes\u4E2D\u7684\u5B9E\u9645\u4F7F\u7528\u793A\u4F8B\uFF0C\u5305\u62ECPod\u548CDeployment\u5982\u4F55\u4F7F\u7528\u961F\u5217\u8FDB\u884C\u8C03\u5EA6\uFF0C\u4EE5\u53CAGang\u8C03\u5EA6\u7684\u914D\u7F6E\u548C\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5E2E\u52A9\u7528\u6237\u5FEB\u901F\u4E0A\u624BVolcano\u8C03\u5EA6\u5668\u3002"},c=void 0,i={},r=[{value:"pod/deployment\u4F7F\u7528\u961F\u5217",id:"poddeployment\u4F7F\u7528\u961F\u5217",level:2},{value:"gang\u8C03\u5EA6",id:"gang\u8C03\u5EA6",level:2}];function d(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"poddeployment\u4F7F\u7528\u961F\u5217",children:"pod/deployment\u4F7F\u7528\u961F\u5217"}),"\n",(0,t.jsx)(n.p,{children:"\u521B\u5EFA\u6D4B\u8BD5\u961F\u5217\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="test-queue.yaml"',children:"apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: test-queue\nspec:\n  capability:\n    cpu: 10\n    memory: 10Gi\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7",(0,t.jsx)(n.code,{children:"Pod"}),"\u6D4B\u8BD5\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="example-pod.yaml"',children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: example-pod\n  annotations:\n    # \u9700\u8981\u6CE8\u610F\uFF0C\u53EA\u80FD\u4F7F\u7528annotations\uFF0C\u4E0D\u80FD\u4F7F\u7528labels\u6307\u5B9A\u961F\u5217\uFF0C\n    # \u5426\u5219\u65E0\u6CD5\u8BBE\u7F6E\u961F\u5217\uFF0C\u751F\u6210\u7684PodGroup\u7684\u961F\u5217\u540D\u79F0\u4E3A\u9ED8\u8BA4\u7684default\n    scheduling.volcano.sh/queue-name: "test-queue"\nspec:\n  schedulerName: volcano\n  containers:\n  - name: example-container\n    image: nginx\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u901A\u8FC7",(0,t.jsx)(n.code,{children:"Deployment"}),"\u6D4B\u8BD5\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="example-deployment.yaml"',children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: example-deployment\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n      annotations:\n        # \u53EA\u80FD\u5728annotations\u4E2D\u8BBE\u7F6E\u961F\u5217\u540D\u79F0\uFF0C\u4E0D\u80FD\u5728labels\u4E2D\u8BBE\u7F6E\n        # \u53EA\u80FD\u8FD9\u91CC\u8BBE\u7F6E\u961F\u5217\u540D\u79F0\uFF0C\u4E0D\u80FD\u5728Deployment\u7684annotations\u4E2D\u8BBE\u7F6E\n        scheduling.volcano.sh/queue-name: "test-queue"\n    spec:\n      schedulerName: volcano\n      containers:\n      - name: nginx\n        image: nginx:1.14.2\n'})}),"\n",(0,t.jsx)(n.h2,{id:"gang\u8C03\u5EA6",children:"gang\u8C03\u5EA6"}),"\n",(0,t.jsx)(n.p,{children:"\u521B\u5EFA\u4E00\u4E2A\u9650\u5236\u8D44\u6E90\u4E0A\u9650\u7684\u961F\u5217\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="test-gang-queue.yaml"',children:"apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: test-gang-queue\nspec:\n  capability:\n    cpu: 2\n    memory: 2Gi\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u521B\u5EFA\u4E00\u4E2A",(0,t.jsx)(n.code,{children:"gang"}),"\u8C03\u5EA6\u7684",(0,t.jsx)(n.code,{children:"Job"}),"\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title="test-gang-job.yaml"',children:'apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: test-gang-job\nspec:\n  minAvailable: 5\n  schedulerName: volcano\n  queue: test-gang-queue\n  policies:\n  - action: CompleteJob\n    event: TaskCompleted\n  tasks:\n  - replicas: 5\n    name: worker\n    template:\n      spec:\n        restartPolicy: Never\n        containers:\n        - image: alpine:latest\n          imagePullPolicy: IfNotPresent\n          name: worker\n          command: ["sh", "-c", "sleep 1d"]\n          resources:\n            requests:\n              cpu: 1\n              memory: 100Mi\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"Job"}),"\u4E2D\u7684\u6240\u6709",(0,t.jsx)(n.code,{children:"Pod"}),"\u90FD\u4E0D\u4F1A\u521B\u5EFA\u51FA\u6765\uFF0C\u56E0\u4E3A\u961F\u5217\u7684",(0,t.jsx)(n.code,{children:"CPU"}),"\u8D44\u6E90\u4E0A\u9650\u4E3A",(0,t.jsx)(n.code,{children:"2"}),"\uFF0C\u800C",(0,t.jsx)(n.code,{children:"Job"}),"\u4E2D\u7684",(0,t.jsx)(n.code,{children:"Pod"}),"\u9700\u8981",(0,t.jsx)(n.code,{children:"5"}),"\u4E2A",(0,t.jsx)(n.code,{children:"CPU"}),"\u3002"]})]})}function p(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},50065:function(e,n,a){a.d(n,{Z:function(){return c},a:function(){return s}});var o=a(67294);let t={},l=o.createContext(t);function s(e){let n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);