"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["5578"],{10194:function(e,r,n){n.r(r),n.d(r,{metadata:()=>t,contentTitle:()=>d,default:()=>p,assets:()=>c,toc:()=>i,frontMatter:()=>u});var t=JSON.parse('{"id":"docs/AI\u6280\u672F/\u8BAD\u7EC3\u5FAE\u8C03/Notebook/Jupyter/JupyterHub/JupyterHub\u5B89\u88C5\u90E8\u7F72","title":"JupyterHub\u5B89\u88C5\u90E8\u7F72","description":"\u5728Kubernetes\u96C6\u7FA4\u4E0A\u4F7F\u7528Helm\u90E8\u7F72JupyterHub\u7684\u5B8C\u6574\u6B65\u9AA4\u6307\u5357\uFF0C\u5305\u62EC\u524D\u7F6E\u6761\u4EF6\u68C0\u67E5\u3001Helm\u4ED3\u5E93\u914D\u7F6E\u3001\u5B89\u88C5\u6D41\u7A0B\u3001\u90E8\u7F72\u9A8C\u8BC1\u3001\u8BBF\u95EE\u65B9\u6CD5\u548C\u5378\u8F7D\u64CD\u4F5C\uFF0C\u9002\u7528\u4E8E\u591A\u7528\u6237Jupyter\u73AF\u5883\u7684\u751F\u4EA7\u7EA7\u90E8\u7F72\u3002","source":"@site/docs/docs/1000-AI\u6280\u672F/600-\u8BAD\u7EC3\u5FAE\u8C03/150-Notebook/100-Jupyter/100-JupyterHub/2000-JupyterHub\u5B89\u88C5\u90E8\u7F72.md","sourceDirName":"docs/1000-AI\u6280\u672F/600-\u8BAD\u7EC3\u5FAE\u8C03/150-Notebook/100-Jupyter/100-JupyterHub","slug":"/ai/jupyterhub-deployment","permalink":"/ai/jupyterhub-deployment","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2000,"frontMatter":{"slug":"/ai/jupyterhub-deployment","title":"JupyterHub\u5B89\u88C5\u90E8\u7F72","hide_title":true,"keywords":["JupyterHub\u5B89\u88C5","Kubernetes\u90E8\u7F72","Helm\u5B89\u88C5","\u591A\u7528\u6237Jupyter","\u96C6\u7FA4\u90E8\u7F72","\u5BB9\u5668\u7F16\u6392","\u6301\u4E45\u5316\u5B58\u50A8","\u670D\u52A1\u66B4\u9732","\u7AEF\u53E3\u8F6C\u53D1","\u751F\u4EA7\u73AF\u5883\u90E8\u7F72","K8S\u96C6\u7FA4","Chart\u5B89\u88C5"],"description":"\u5728Kubernetes\u96C6\u7FA4\u4E0A\u4F7F\u7528Helm\u90E8\u7F72JupyterHub\u7684\u5B8C\u6574\u6B65\u9AA4\u6307\u5357\uFF0C\u5305\u62EC\u524D\u7F6E\u6761\u4EF6\u68C0\u67E5\u3001Helm\u4ED3\u5E93\u914D\u7F6E\u3001\u5B89\u88C5\u6D41\u7A0B\u3001\u90E8\u7F72\u9A8C\u8BC1\u3001\u8BBF\u95EE\u65B9\u6CD5\u548C\u5378\u8F7D\u64CD\u4F5C\uFF0C\u9002\u7528\u4E8E\u591A\u7528\u6237Jupyter\u73AF\u5883\u7684\u751F\u4EA7\u7EA7\u90E8\u7F72\u3002"},"sidebar":"mainSidebar","previous":{"title":"JupyterHub\u57FA\u672C\u4ECB\u7ECD","permalink":"/ai/jupyterhub-intro"},"next":{"title":"JupyterHub\u914D\u7F6E\u7BA1\u7406","permalink":"/ai/jupyterhub-configuration"}}'),l=n("85893"),s=n("50065");let u={slug:"/ai/jupyterhub-deployment",title:"JupyterHub\u5B89\u88C5\u90E8\u7F72",hide_title:!0,keywords:["JupyterHub\u5B89\u88C5","Kubernetes\u90E8\u7F72","Helm\u5B89\u88C5","\u591A\u7528\u6237Jupyter","\u96C6\u7FA4\u90E8\u7F72","\u5BB9\u5668\u7F16\u6392","\u6301\u4E45\u5316\u5B58\u50A8","\u670D\u52A1\u66B4\u9732","\u7AEF\u53E3\u8F6C\u53D1","\u751F\u4EA7\u73AF\u5883\u90E8\u7F72","K8S\u96C6\u7FA4","Chart\u5B89\u88C5"],description:"\u5728Kubernetes\u96C6\u7FA4\u4E0A\u4F7F\u7528Helm\u90E8\u7F72JupyterHub\u7684\u5B8C\u6574\u6B65\u9AA4\u6307\u5357\uFF0C\u5305\u62EC\u524D\u7F6E\u6761\u4EF6\u68C0\u67E5\u3001Helm\u4ED3\u5E93\u914D\u7F6E\u3001\u5B89\u88C5\u6D41\u7A0B\u3001\u90E8\u7F72\u9A8C\u8BC1\u3001\u8BBF\u95EE\u65B9\u6CD5\u548C\u5378\u8F7D\u64CD\u4F5C\uFF0C\u9002\u7528\u4E8E\u591A\u7528\u6237Jupyter\u73AF\u5883\u7684\u751F\u4EA7\u7EA7\u90E8\u7F72\u3002"},d=void 0,c={},i=[{value:"\u524D\u7F6E\u6761\u4EF6",id:"\u524D\u7F6E\u6761\u4EF6",level:2},{value:"\u90E8\u7F72JupyterHub",id:"\u90E8\u7F72jupyterhub",level:2},{value:"\u6DFB\u52A0JupyterHub Helm\u4ED3\u5E93",id:"\u6DFB\u52A0jupyterhub-helm\u4ED3\u5E93",level:3},{value:"\u5B89\u88C5JupyterHub",id:"\u5B89\u88C5jupyterhub",level:3},{value:"\u9A8C\u8BC1\u90E8\u7F72",id:"\u9A8C\u8BC1\u90E8\u7F72",level:3},{value:"\u8BBF\u95EEJupyterHub",id:"\u8BBF\u95EEjupyterhub",level:3},{value:"\u5378\u8F7DJupyterHub",id:"\u5378\u8F7Djupyterhub",level:3},{value:"\u53C2\u8003\u8D44\u6599",id:"\u53C2\u8003\u8D44\u6599",level:2}];function h(e){let r={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.h2,{id:"\u524D\u7F6E\u6761\u4EF6",children:"\u524D\u7F6E\u6761\u4EF6"}),"\n",(0,l.jsx)(r.p,{children:"\u5728\u5F00\u59CB\u4E4B\u524D\uFF0C\u786E\u4FDD\u4F60\u5DF2\u7ECF\u5177\u5907\u4EE5\u4E0B\u6761\u4EF6\uFF1A"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"\u7EC4\u4EF6"}),(0,l.jsx)(r.th,{children:"\u7248\u672C\u8981\u6C42"}),(0,l.jsx)(r.th,{children:"\u8BF4\u660E"})]})}),(0,l.jsxs)(r.tbody,{children:[(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"Kubernetes"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:">= 1.23"})}),(0,l.jsxs)(r.td,{children:["\u9700\u8981\u6709\u53EF\u7528\u7684",(0,l.jsx)(r.code,{children:"K8S"}),"\u96C6\u7FA4\uFF0C\u652F\u6301\u52A8\u6001\u5B58\u50A8\u5377"]})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"Helm"})}),(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:">= 3.5"})}),(0,l.jsxs)(r.td,{children:[(0,l.jsx)(r.code,{children:"Kubernetes"}),"\u5305\u7BA1\u7406\u5DE5\u5177"]})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:(0,l.jsx)(r.code,{children:"kubectl"})}),(0,l.jsx)(r.td,{children:"\u4E0E\u96C6\u7FA4\u7248\u672C\u5339\u914D"}),(0,l.jsxs)(r.td,{children:["\u5DF2\u914D\u7F6E\u5E76\u53EF\u4EE5\u8BBF\u95EE\u4F60\u7684",(0,l.jsx)(r.code,{children:"K8S"}),"\u96C6\u7FA4"]})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"\u96C6\u7FA4\u8D44\u6E90"}),(0,l.jsxs)(r.td,{children:["\u81F3\u5C11",(0,l.jsx)(r.code,{children:"2"}),"\u4E2A",(0,l.jsx)(r.code,{children:"worker"}),"\u8282\u70B9"]}),(0,l.jsxs)(r.td,{children:["\u6BCF\u4E2A\u8282\u70B9\u5EFA\u8BAE",(0,l.jsx)(r.code,{children:"4GB+"}),"\u5185\u5B58\uFF0C",(0,l.jsx)(r.code,{children:"2C"}),"+",(0,l.jsx)(r.code,{children:"CPU"})]})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsxs)(r.td,{children:["\u5B58\u50A8\u7C7B(",(0,l.jsx)(r.code,{children:"StorageClass"}),")"]}),(0,l.jsx)(r.td,{children:"\u652F\u6301\u52A8\u6001\u4F9B\u7ED9"}),(0,l.jsx)(r.td,{children:"\u7528\u4E8E\u7528\u6237\u6570\u636E\u6301\u4E45\u5316\u5B58\u50A8"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"\u955C\u50CF\u4ED3\u5E93"}),(0,l.jsx)(r.td,{children:"\u53EF\u9009"}),(0,l.jsx)(r.td,{children:"\u5982\u9700\u4F7F\u7528\u81EA\u5B9A\u4E49\u955C\u50CF\uFF0C\u9700\u8981\u53EF\u8BBF\u95EE\u7684\u955C\u50CF\u4ED3\u5E93"})]})]})]}),"\n",(0,l.jsx)(r.h2,{id:"\u90E8\u7F72jupyterhub",children:"\u90E8\u7F72JupyterHub"}),"\n",(0,l.jsx)(r.h3,{id:"\u6DFB\u52A0jupyterhub-helm\u4ED3\u5E93",children:"\u6DFB\u52A0JupyterHub Helm\u4ED3\u5E93"}),"\n",(0,l.jsxs)(r.p,{children:["\u9996\u5148\uFF0C\u5C06",(0,l.jsx)(r.code,{children:"JupyterHub"}),"\u7684",(0,l.jsx)(r.code,{children:"Helm Chart"}),"\u4ED3\u5E93\u6DFB\u52A0\u5230\u672C\u5730\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"helm repo add jupyterhub https://hub.jupyter.org/helm-chart/\nhelm repo update\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u5B89\u88C5jupyterhub",children:"\u5B89\u88C5JupyterHub"}),"\n",(0,l.jsxs)(r.p,{children:["\u4F7F\u7528",(0,l.jsx)(r.code,{children:"Helm"}),"\u62C9\u53D6",(0,l.jsx)(r.code,{children:"JupyterHub"}),"\u5B89\u88C5\u5305\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"helm pull jupyterhub/jupyterhub --version=4.3.2 --untar\n"})}),"\n",(0,l.jsxs)(r.p,{children:["\u4F7F\u7528\u4EE5\u4E0B\u6307\u4EE4\u5B89\u88C5",(0,l.jsx)(r.code,{children:"JupyterHub"}),"\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"helm install jupyterhub ./jupyterhub -n jupyterhub-system --create-namespace\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u9A8C\u8BC1\u90E8\u7F72",children:"\u9A8C\u8BC1\u90E8\u7F72"}),"\n",(0,l.jsxs)(r.p,{children:["\u67E5\u770B",(0,l.jsx)(r.code,{children:"Pod"}),"\u72B6\u6001\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"kubectl get pod --namespace jupyterhub-system\n"})}),"\n",(0,l.jsxs)(r.p,{children:["\u7B49\u5F85\u6240\u6709",(0,l.jsx)(r.code,{children:"Pod"}),"\u8FDB\u5165",(0,l.jsx)(r.code,{children:"Running"}),"\u72B6\u6001\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-text",children:"NAME                              READY   STATUS    RESTARTS   AGE\ncontinuous-image-puller-7f49d     1/1     Running   0          1m\ncontinuous-image-puller-7j4jg     1/1     Running   0          1m\ncontinuous-image-puller-hrj2c     1/1     Running   0          1m\ncontinuous-image-puller-qkgb6     1/1     Running   0          1m\nhub-5c5d9f7678-vkjpc              1/1     Running   0          1m\nproxy-6496d4dff4-b9fts            1/1     Running   0          1m\nuser-scheduler-6fcfff9557-k55c6   1/1     Running   0          1m\nuser-scheduler-6fcfff9557-pgpnx   1/1     Running   0          1m\n"})}),"\n",(0,l.jsx)(r.h3,{id:"\u8BBF\u95EEjupyterhub",children:"\u8BBF\u95EEJupyterHub"}),"\n",(0,l.jsxs)(r.p,{children:["\u901A\u8FC7",(0,l.jsx)(r.code,{children:"kubectl port-forward"}),"\u83B7\u53D6\u8BBF\u95EE\u5730\u5740\uFF1A"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"kubectl port-forward --namespace=jupyterhub-system service/proxy-public 8080:http\n"})}),"\n",(0,l.jsxs)(r.p,{children:["\u5728\u6D4F\u89C8\u5668\u4E2D\u8BBF\u95EE ",(0,l.jsx)(r.a,{href:"http://localhost:8080",children:"http://localhost:8080"})," \u5730\u5740\u5373\u53EF\u6253\u5F00",(0,l.jsx)(r.code,{children:"JupyterHub"}),"\u767B\u5F55\u9875\u9762\u3002"]}),"\n",(0,l.jsx)(r.h3,{id:"\u5378\u8F7Djupyterhub",children:"\u5378\u8F7DJupyterHub"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"helm uninstall jupyterhub -n jupyterhub-system\n"})}),"\n",(0,l.jsx)(r.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://z2jh.jupyter.org/en/stable/index.html",children:"https://z2jh.jupyter.org/en/stable/index.html"})}),"\n"]})]})}function p(e={}){let{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},50065:function(e,r,n){n.d(r,{Z:function(){return d},a:function(){return u}});var t=n(67294);let l={},s=t.createContext(l);function u(e){let r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:u(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);