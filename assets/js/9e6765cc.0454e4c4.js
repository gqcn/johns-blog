"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["51"],{17122:function(e,n,s){s.r(n),s.d(n,{metadata:()=>d,contentTitle:()=>i,default:()=>x,assets:()=>t,toc:()=>h,frontMatter:()=>l});var d=JSON.parse('{"id":"docs/\u4E91\u539F\u751F/Kubernetes/NodeFeatureRule\u914D\u7F6E\u4F7F\u7528","title":"NodeFeatureRule\u914D\u7F6E\u4F7F\u7528","description":"\u6DF1\u5165\u5256\u6790Kubernetes Node Feature Discovery\u4E2D\u7684NodeFeatureRule\u81EA\u5B9A\u4E49\u8D44\u6E90\uFF0C\u8BE6\u7EC6\u4ECB\u7ECD\u5176\u5DE5\u4F5C\u539F\u7406\u3001\u914D\u7F6E\u7ED3\u6784\u548C\u4F7F\u7528\u65B9\u6CD5\u3002\u672C\u6587\u6DB5\u76D6NodeFeatureRule\u7684\u6838\u5FC3\u5B57\u6BB5\u8BF4\u660E\u3001\u6240\u6709\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B\u3001\u5339\u914D\u64CD\u4F5C\u7B26\u3001\u6A21\u677F\u8BED\u6CD5\u4EE5\u53CA\u4E30\u5BCC\u7684\u5B9E\u6218\u793A\u4F8B\uFF0C\u5E2E\u52A9\u7528\u6237\u638C\u63E1\u5982\u4F55\u901A\u8FC7\u89C4\u5219\u5F15\u64CE\u5B9E\u73B0\u7075\u6D3B\u7684\u8282\u70B9\u6807\u7B7E\u7BA1\u7406\u548C\u786C\u4EF6\u611F\u77E5\u8C03\u5EA6\u3002","source":"@site/docs/docs/2000-\u4E91\u539F\u751F/200-Kubernetes/6100-NodeFeatureRule\u914D\u7F6E\u4F7F\u7528.md","sourceDirName":"docs/2000-\u4E91\u539F\u751F/200-Kubernetes","slug":"/cloud-native/kubernetes-node-feature-discovery-nodefeaturerule","permalink":"/cloud-native/kubernetes-node-feature-discovery-nodefeaturerule","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6100,"frontMatter":{"slug":"/cloud-native/kubernetes-node-feature-discovery-nodefeaturerule","title":"NodeFeatureRule\u914D\u7F6E\u4F7F\u7528","hide_title":true,"keywords":["Kubernetes","Node Feature Discovery","NFD","NodeFeatureRule","CRD","\u81EA\u5B9A\u4E49\u8D44\u6E90","\u8282\u70B9\u6807\u7B7E\u89C4\u5219","\u7279\u6027\u5339\u914D","\u6807\u7B7E\u6A21\u677F","matchFeatures","CPU\u7279\u6027","GPU\u68C0\u6D4B","\u786C\u4EF6\u7279\u6027","\u52A8\u6001\u6807\u7B7E","\u89C4\u5219\u5F15\u64CE"],"description":"\u6DF1\u5165\u5256\u6790Kubernetes Node Feature Discovery\u4E2D\u7684NodeFeatureRule\u81EA\u5B9A\u4E49\u8D44\u6E90\uFF0C\u8BE6\u7EC6\u4ECB\u7ECD\u5176\u5DE5\u4F5C\u539F\u7406\u3001\u914D\u7F6E\u7ED3\u6784\u548C\u4F7F\u7528\u65B9\u6CD5\u3002\u672C\u6587\u6DB5\u76D6NodeFeatureRule\u7684\u6838\u5FC3\u5B57\u6BB5\u8BF4\u660E\u3001\u6240\u6709\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B\u3001\u5339\u914D\u64CD\u4F5C\u7B26\u3001\u6A21\u677F\u8BED\u6CD5\u4EE5\u53CA\u4E30\u5BCC\u7684\u5B9E\u6218\u793A\u4F8B\uFF0C\u5E2E\u52A9\u7528\u6237\u638C\u63E1\u5982\u4F55\u901A\u8FC7\u89C4\u5219\u5F15\u64CE\u5B9E\u73B0\u7075\u6D3B\u7684\u8282\u70B9\u6807\u7B7E\u7BA1\u7406\u548C\u786C\u4EF6\u611F\u77E5\u8C03\u5EA6\u3002"},"sidebar":"mainSidebar","previous":{"title":"Node Feature Discovery","permalink":"/cloud-native/kubernetes-node-feature-discovery"},"next":{"title":"Argo Workflow","permalink":"/cloud-native/argo-workflow"}}'),r=s("85893"),c=s("50065");let l={slug:"/cloud-native/kubernetes-node-feature-discovery-nodefeaturerule",title:"NodeFeatureRule\u914D\u7F6E\u4F7F\u7528",hide_title:!0,keywords:["Kubernetes","Node Feature Discovery","NFD","NodeFeatureRule","CRD","\u81EA\u5B9A\u4E49\u8D44\u6E90","\u8282\u70B9\u6807\u7B7E\u89C4\u5219","\u7279\u6027\u5339\u914D","\u6807\u7B7E\u6A21\u677F","matchFeatures","CPU\u7279\u6027","GPU\u68C0\u6D4B","\u786C\u4EF6\u7279\u6027","\u52A8\u6001\u6807\u7B7E","\u89C4\u5219\u5F15\u64CE"],description:"\u6DF1\u5165\u5256\u6790Kubernetes Node Feature Discovery\u4E2D\u7684NodeFeatureRule\u81EA\u5B9A\u4E49\u8D44\u6E90\uFF0C\u8BE6\u7EC6\u4ECB\u7ECD\u5176\u5DE5\u4F5C\u539F\u7406\u3001\u914D\u7F6E\u7ED3\u6784\u548C\u4F7F\u7528\u65B9\u6CD5\u3002\u672C\u6587\u6DB5\u76D6NodeFeatureRule\u7684\u6838\u5FC3\u5B57\u6BB5\u8BF4\u660E\u3001\u6240\u6709\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B\u3001\u5339\u914D\u64CD\u4F5C\u7B26\u3001\u6A21\u677F\u8BED\u6CD5\u4EE5\u53CA\u4E30\u5BCC\u7684\u5B9E\u6218\u793A\u4F8B\uFF0C\u5E2E\u52A9\u7528\u6237\u638C\u63E1\u5982\u4F55\u901A\u8FC7\u89C4\u5219\u5F15\u64CE\u5B9E\u73B0\u7075\u6D3B\u7684\u8282\u70B9\u6807\u7B7E\u7BA1\u7406\u548C\u786C\u4EF6\u611F\u77E5\u8C03\u5EA6\u3002"},i=void 0,t={},h=[{value:"\u524D\u8A00",id:"\u524D\u8A00",level:2},{value:"NodeFeatureRule\u5DE5\u4F5C\u539F\u7406",id:"nodefeaturerule\u5DE5\u4F5C\u539F\u7406",level:2},{value:"\u5DE5\u4F5C\u6D41\u7A0B",id:"\u5DE5\u4F5C\u6D41\u7A0B",level:3},{value:"\u57FA\u672C\u7ED3\u6784",id:"\u57FA\u672C\u7ED3\u6784",level:2},{value:"\u6838\u5FC3\u5B57\u6BB5\u8BE6\u89E3",id:"\u6838\u5FC3\u5B57\u6BB5\u8BE6\u89E3",level:2},{value:"name\u5B57\u6BB5",id:"name\u5B57\u6BB5",level:3},{value:"labels\u5B57\u6BB5",id:"labels\u5B57\u6BB5",level:3},{value:"labelsTemplate\u5B57\u6BB5",id:"labelstemplate\u5B57\u6BB5",level:3},{value:"annotations\u5B57\u6BB5",id:"annotations\u5B57\u6BB5",level:3},{value:"extendedResources\u5B57\u6BB5",id:"extendedresources\u5B57\u6BB5",level:3},{value:"taints\u5B57\u6BB5",id:"taints\u5B57\u6BB5",level:3},{value:"vars\u5B57\u6BB5",id:"vars\u5B57\u6BB5",level:3},{value:"varsTemplate\u5B57\u6BB5",id:"varstemplate\u5B57\u6BB5",level:3},{value:"matchFeatures\u5B57\u6BB5",id:"matchfeatures\u5B57\u6BB5",level:3},{value:"matchAny\u5B57\u6BB5",id:"matchany\u5B57\u6BB5",level:3},{value:"\u5339\u914D\u64CD\u4F5C\u7B26",id:"\u5339\u914D\u64CD\u4F5C\u7B26",level:2},{value:"\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B",id:"\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B",level:2},{value:"CPU\u76F8\u5173\u7279\u6027",id:"cpu\u76F8\u5173\u7279\u6027",level:3},{value:"cpu.cpuid",id:"cpucpuid",level:4},{value:"cpu.model",id:"cpumodel",level:4},{value:"cpu.topology",id:"cputopology",level:4},{value:"cpu.cstate",id:"cpucstate",level:4},{value:"cpu.pstate",id:"cpupstate",level:4},{value:"cpu.rdt",id:"cpurdt",level:4},{value:"cpu.security",id:"cpusecurity",level:4},{value:"cpu.sst",id:"cpusst",level:4},{value:"cpu.coprocessor",id:"cpucoprocessor",level:4},{value:"\u5185\u6838\u76F8\u5173\u7279\u6027",id:"\u5185\u6838\u76F8\u5173\u7279\u6027",level:3},{value:"kernel.config",id:"kernelconfig",level:4},{value:"kernel.loadedmodule",id:"kernelloadedmodule",level:4},{value:"kernel.enabledmodule",id:"kernelenabledmodule",level:4},{value:"kernel.selinux",id:"kernelselinux",level:4},{value:"kernel.version",id:"kernelversion",level:4},{value:"\u5185\u5B58\u76F8\u5173\u7279\u6027",id:"\u5185\u5B58\u76F8\u5173\u7279\u6027",level:3},{value:"memory.numa",id:"memorynuma",level:4},{value:"memory.nv",id:"memorynv",level:4},{value:"memory.swap",id:"memoryswap",level:4},{value:"memory.hugepages",id:"memoryhugepages",level:4},{value:"\u7F51\u7EDC\u76F8\u5173\u7279\u6027",id:"\u7F51\u7EDC\u76F8\u5173\u7279\u6027",level:3},{value:"network.device",id:"networkdevice",level:4},{value:"network.virtual",id:"networkvirtual",level:4},{value:"PCI\u8BBE\u5907\u7279\u6027",id:"pci\u8BBE\u5907\u7279\u6027",level:3},{value:"pci.device",id:"pcidevice",level:4},{value:"\u5B58\u50A8\u76F8\u5173\u7279\u6027",id:"\u5B58\u50A8\u76F8\u5173\u7279\u6027",level:3},{value:"storage.block",id:"storageblock",level:4},{value:"USB\u8BBE\u5907\u7279\u6027",id:"usb\u8BBE\u5907\u7279\u6027",level:3},{value:"usb.device",id:"usbdevice",level:4},{value:"\u7CFB\u7EDF\u76F8\u5173\u7279\u6027",id:"\u7CFB\u7EDF\u76F8\u5173\u7279\u6027",level:3},{value:"system.osrelease",id:"systemosrelease",level:4},{value:"system.dmiid",id:"systemdmiid",level:4},{value:"system.name",id:"systemname",level:4},{value:"Local\u7279\u6027",id:"local\u7279\u6027",level:3},{value:"local.label",id:"locallabel",level:4},{value:"local.feature",id:"localfeature",level:4},{value:"Rule\u7279\u6027",id:"rule\u7279\u6027",level:3},{value:"rule.matched",id:"rulematched",level:4},{value:"\u5B9E\u6218\u793A\u4F8B",id:"\u5B9E\u6218\u793A\u4F8B",level:2},{value:"\u793A\u4F8B1\uFF1AGPU\u578B\u53F7\u7CBE\u786E\u68C0\u6D4B",id:"\u793A\u4F8B1gpu\u578B\u53F7\u7CBE\u786E\u68C0\u6D4B",level:3},{value:"\u793A\u4F8B2\uFF1ACPU\u6027\u80FD\u5206\u7EA7",id:"\u793A\u4F8B2cpu\u6027\u80FD\u5206\u7EA7",level:3},{value:"\u793A\u4F8B3\uFF1A\u9AD8\u901F\u7F51\u7EDC\u8BBE\u5907\u68C0\u6D4B",id:"\u793A\u4F8B3\u9AD8\u901F\u7F51\u7EDC\u8BBE\u5907\u68C0\u6D4B",level:3},{value:"\u793A\u4F8B4\uFF1A\u5B58\u50A8\u7C7B\u578B\u5206\u7C7B",id:"\u793A\u4F8B4\u5B58\u50A8\u7C7B\u578B\u5206\u7C7B",level:3},{value:"\u793A\u4F8B5\uFF1A\u5185\u6838\u7248\u672C\u548C\u6A21\u5757\u68C0\u6D4B",id:"\u793A\u4F8B5\u5185\u6838\u7248\u672C\u548C\u6A21\u5757\u68C0\u6D4B",level:3},{value:"\u793A\u4F8B6\uFF1A\u5B89\u5168\u5408\u89C4\u68C0\u6D4B",id:"\u793A\u4F8B6\u5B89\u5168\u5408\u89C4\u68C0\u6D4B",level:3},{value:"\u793A\u4F8B7\uFF1A\u4F7F\u7528\u6A21\u677F\u52A8\u6001\u751F\u6210\u6807\u7B7E",id:"\u793A\u4F8B7\u4F7F\u7528\u6A21\u677F\u52A8\u6001\u751F\u6210\u6807\u7B7E",level:3},{value:"\u793A\u4F8B8\uFF1A\u590D\u6742\u89C4\u5219\u7EC4\u5408\u548C\u53D8\u91CF\u4F20\u9012",id:"\u793A\u4F8B8\u590D\u6742\u89C4\u5219\u7EC4\u5408\u548C\u53D8\u91CF\u4F20\u9012",level:3},{value:"\u53C2\u8003\u8D44\u6599",id:"\u53C2\u8003\u8D44\u6599",level:2}];function a(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u524D\u8A00",children:"\u524D\u8A00"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u662F",(0,r.jsx)(n.code,{children:"Node Feature Discovery"}),"\uFF08",(0,r.jsx)(n.code,{children:"NFD"}),"\uFF09\u6700\u5F3A\u5927\u7684\u529F\u80FD\u4E4B\u4E00\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u4E2A\u7075\u6D3B\u7684\u89C4\u5219\u5F15\u64CE\uFF0C\u5141\u8BB8\u7528\u6237\u57FA\u4E8E\u8282\u70B9\u7684\u786C\u4EF6\u7279\u6027\u548C\u7CFB\u7EDF\u914D\u7F6E\u5B9A\u4E49\u81EA\u5B9A\u4E49\u7684\u6807\u7B7E\u89C4\u5219\u3002\u901A\u8FC7",(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\uFF0C\u53EF\u4EE5\u5C06\u5E95\u5C42\u7684\u786C\u4EF6\u7279\u6027\u8F6C\u6362\u4E3A\u9AD8\u5C42\u6B21\u7684\u8BED\u4E49\u5316\u6807\u7B7E\uFF0C\u4ECE\u800C\u7B80\u5316\u5E94\u7528\u7684\u8C03\u5EA6\u914D\u7F6E\u3002\u672C\u6587\u5C06\u6DF1\u5165\u4ECB\u7ECD",(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u7684\u914D\u7F6E\u548C\u4F7F\u7528\u65B9\u6CD5\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"nodefeaturerule\u5DE5\u4F5C\u539F\u7406",children:"NodeFeatureRule\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u662F\u4E00\u4E2A\u81EA\u5B9A\u4E49\u8D44\u6E90\uFF08",(0,r.jsx)(n.code,{children:"CRD"}),"\uFF09\uFF0C\u7528\u4E8E\u5B9A\u4E49\u57FA\u4E8E\u8282\u70B9\u7279\u6027\u7684\u6807\u7B7E\u89C4\u5219\u3002",(0,r.jsx)(n.code,{children:"nfd-master"}),"\u4F1A\u76D1\u542C",(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u5BF9\u8C61\u7684\u53D8\u5316\uFF0C\u5E76\u6839\u636E\u89C4\u5219\u5904\u7406",(0,r.jsx)(n.code,{children:"nfd-worker"}),"\u4E0A\u62A5\u7684\u7279\u6027\u6570\u636E\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5DE5\u4F5C\u6D41\u7A0B",children:"\u5DE5\u4F5C\u6D41\u7A0B"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant K8s API\n    participant NFD Master\n    participant NFD Worker\n    participant Node\n\n    User->>K8s API: \u521B\u5EFA NodeFeatureRule\n    K8s API->>NFD Master: \u901A\u77E5\u89C4\u5219\u53D8\u66F4\n    NFD Master->>NFD Master: \u52A0\u8F7D\u5E76\u89E3\u6790\u89C4\u5219\n    NFD Worker->>NFD Worker: \u626B\u63CF\u8282\u70B9\u7279\u6027\n    NFD Worker->>NFD Master: \u4E0A\u62A5\u7279\u6027\u6570\u636E\n    NFD Master->>NFD Master: \u5E94\u7528\u89C4\u5219\u5339\u914D\u7279\u6027\n    NFD Master->>NFD Master: \u751F\u6210\u6807\u7B7E/\u6CE8\u89E3/\u6C61\u70B9\n    NFD Master->>K8s API: \u66F4\u65B0\u8282\u70B9\u5BF9\u8C61\n    K8s API->>Node: \u5E94\u7528\u6807\u7B7E\u53D8\u66F4"}),"\n",(0,r.jsx)(n.p,{children:"\u5DE5\u4F5C\u6B65\u9AA4\uFF1A"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u7528\u6237\u521B\u5EFA",(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u5BF9\u8C61"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nfd-master"}),"\u76D1\u542C\u5230\u65B0\u7684\u89C4\u5219"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nfd-worker"}),"\u5B9A\u671F\u626B\u63CF\u5E76\u4E0A\u62A5\u8282\u70B9\u7279\u6027"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"nfd-master"}),"\u6839\u636E\u89C4\u5219\u5339\u914D\u7279\u6027"]}),"\n",(0,r.jsx)(n.li,{children:"\u5982\u679C\u5339\u914D\u6210\u529F\uFF0C\u5E94\u7528\u89C4\u5219\u5B9A\u4E49\u7684\u6807\u7B7E\u3001\u6CE8\u89E3\u3001\u6269\u5C55\u8D44\u6E90\u6216\u6C61\u70B9"}),"\n",(0,r.jsx)(n.li,{children:"\u66F4\u65B0\u8282\u70B9\u5BF9\u8C61"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u57FA\u672C\u7ED3\u6784",children:"\u57FA\u672C\u7ED3\u6784"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u7684\u5B8C\u6574\u7ED3\u6784\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: my-sample-rule\nspec:\n  rules:\n    - name: "rule description"\n      # \u8F93\u51FA\u914D\u7F6E\n      labels:\n        "label-key": "label-value"\n      labelsTemplate: |\n        {{ range .feature }}...{{ end }}\n      annotations:\n        "annotation-key": "annotation-value"\n      extendedResources:\n        "resource-name": "resource-quantity"\n      taints:\n        - key: "taint-key"\n          value: "taint-value"\n          effect: NoSchedule\n      vars:\n        "var-name": "var-value"\n      varsTemplate: |\n        {{ range .feature }}...{{ end }}\n      \n      # \u5339\u914D\u6761\u4EF6\n      matchFeatures:\n        - feature: <feature-name>\n          matchExpressions:\n            <attribute>: {op: <operator>, value: [<values>]}\n          matchName:\n            op: <operator>\n            value: [<values>]\n      \n      # \u6216\u6761\u4EF6\n      matchAny:\n        - matchFeatures:\n            - feature: <feature-name>\n              matchExpressions:\n                <attribute>: {op: <operator>, value: [<values>]}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u6838\u5FC3\u5B57\u6BB5\u8BE6\u89E3",children:"\u6838\u5FC3\u5B57\u6BB5\u8BE6\u89E3"}),"\n",(0,r.jsx)(n.h3,{id:"name\u5B57\u6BB5",children:"name\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u89C4\u5219\u7684\u540D\u79F0\uFF0C\u7528\u4E8E\u6807\u8BC6\u548C\u8C03\u8BD5\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'- name: "GPU vendor detection"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6700\u4F73\u5B9E\u8DF5"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4F7F\u7528\u63CF\u8FF0\u6027\u7684\u540D\u79F0"}),"\n",(0,r.jsx)(n.li,{children:"\u540D\u79F0\u5E94\u8BE5\u6E05\u6670\u8BF4\u660E\u89C4\u5219\u7684\u7528\u9014"}),"\n",(0,r.jsx)(n.li,{children:"\u907F\u514D\u4F7F\u7528\u7279\u6B8A\u5B57\u7B26"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"labels\u5B57\u6BB5",children:"labels\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u5B9A\u4E49\u8981\u521B\u5EFA\u7684\u8282\u70B9\u6807\u7B7E\uFF0C\u652F\u6301\u9759\u6001\u503C\u548C\u52A8\u6001\u503C\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'labels:\n  # \u9759\u6001\u6807\u7B7E\n  "vendor.io/gpu": "true"\n  "hardware.type": "accelerated"\n  \n  # \u52A8\u6001\u6807\u7B7E\uFF0C\u4F7F\u7528 @ \u5F15\u7528\u7279\u6027\u503C\n  "vendor.io/gpu-model": "@pci.device.device"\n  "kernel.version": "@kernel.version.full"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u52A8\u6001\u503C\u8BED\u6CD5"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u683C\u5F0F\uFF1A",(0,r.jsx)(n.code,{children:"@<feature-name>.<attribute-name>"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A",(0,r.jsx)(n.code,{children:"@cpu.model.vendor_id"}),"\u3001",(0,r.jsx)(n.code,{children:"@kernel.version.major"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u9650\u5236"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6807\u7B7E\u952E\u6700\u957F",(0,r.jsx)(n.code,{children:"63"}),"\u5B57\u7B26"]}),"\n",(0,r.jsxs)(n.li,{children:["\u6807\u7B7E\u503C\u6700\u957F",(0,r.jsx)(n.code,{children:"63"}),"\u5B57\u7B26"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5FC5\u987B\u7B26\u5408",(0,r.jsx)(n.code,{children:"Kubernetes"}),"\u6807\u7B7E\u547D\u540D\u89C4\u8303"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"labelstemplate\u5B57\u6BB5",children:"labelsTemplate\u5B57\u6BB5"}),"\n",(0,r.jsxs)(n.p,{children:["\u4F7F\u7528",(0,r.jsx)(n.code,{children:"Go template"}),"\u8BED\u6CD5\u52A8\u6001\u751F\u6210\u591A\u4E2A\u6807\u7B7E\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"labelsTemplate: |\n  {{ range .pci.device }}\n  pci-{{ .vendor }}-{{ .device }}.present=true\n  {{ end }}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5E38\u7528\u6A21\u677F\u51FD\u6570"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u51FD\u6570"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,r.jsx)(n.th,{children:"\u793A\u4F8B"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"range"})}),(0,r.jsx)(n.td,{children:"\u904D\u5386\u96C6\u5408"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ range .feature }}...{{ end }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"if"})}),(0,r.jsx)(n.td,{children:"\u6761\u4EF6\u5224\u65AD"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ if .attribute }}...{{ end }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"len"})}),(0,r.jsx)(n.td,{children:"\u83B7\u53D6\u957F\u5EA6"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ .feature | len }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"first"})}),(0,r.jsx)(n.td,{children:"\u83B7\u53D6\u7B2C\u4E00\u4E2A\u5143\u7D20"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ .feature | first }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"trim"})}),(0,r.jsx)(n.td,{children:"\u53BB\u9664\u7A7A\u767D"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ .value | trim }}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"substr"})}),(0,r.jsx)(n.td,{children:"\u622A\u53D6\u5B50\u4E32"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{{ .value | substr 0 10 }}"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6A21\u677F\u6570\u636E\u7ED3\u6784"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Flag\u7279\u6027\uFF08\u53EA\u6709\u540D\u79F0\uFF09\n.<feature-name>:\n  - Name: <flag-name>\n\n# Attribute\u7279\u6027\uFF08\u540D\u79F0+\u503C\uFF09\n.<feature-name>:\n  - Name: <attribute-name>\n    Value: <attribute-value>\n\n# Instance\u7279\u6027\uFF08\u591A\u4E2A\u5C5E\u6027\uFF09\n.<feature-name>:\n  - <attribute-1>: <value-1>\n    <attribute-2>: <value-2>\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"labelsTemplate: |\n  {{ range .cpu.cpuid }}cpu-{{ .Name }}=true\n  {{ end }}\n  cpu-count={{ .cpu.topology | len }}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"annotations\u5B57\u6BB5",children:"annotations\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u5B9A\u4E49\u8981\u521B\u5EFA\u7684\u8282\u70B9\u6CE8\u89E3\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'annotations:\n  "vendor.io/gpu-driver-version": "@pci.device.driver"\n  "hardware.info/detailed-spec": "Custom hardware configuration"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7528\u9014"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5B58\u50A8\u8BE6\u7EC6\u7684\u786C\u4EF6\u4FE1\u606F"}),"\n",(0,r.jsx)(n.li,{children:"\u8BB0\u5F55\u68C0\u6D4B\u65F6\u95F4\u6233"}),"\n",(0,r.jsx)(n.li,{children:"\u4FDD\u5B58\u4E0D\u9002\u5408\u7528\u4F5C\u6807\u7B7E\u7684\u957F\u6587\u672C"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"extendedresources\u5B57\u6BB5",children:"extendedResources\u5B57\u6BB5"}),"\n",(0,r.jsxs)(n.p,{children:["\u5B9A\u4E49\u6269\u5C55\u8D44\u6E90\uFF0C\u53EF\u4EE5\u88AB",(0,r.jsx)(n.code,{children:"Pod"}),"\u8BF7\u6C42\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'extendedResources:\n  # \u9759\u6001\u6570\u91CF\n  vendor.io/fpga: "4"\n  \n  # \u52A8\u6001\u6570\u91CF\uFF0C\u5F15\u7528\u7279\u6027\u503C\n  vendor.io/gpu-memory: "@pci.device.memory"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u4F7F\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u81EA\u5B9A\u4E49\u786C\u4EF6\u8D44\u6E90\uFF08",(0,r.jsx)(n.code,{children:"FPGA"}),"\u3001\u4E13\u7528\u52A0\u901F\u5668\u7B49\uFF09"]}),"\n",(0,r.jsx)(n.li,{children:"\u57FA\u4E8E\u786C\u4EF6\u7279\u6027\u8BA1\u7B97\u7684\u8D44\u6E90\u914D\u989D"}),"\n",(0,r.jsxs)(n.li,{children:["\u9700\u8981\u88AB",(0,r.jsx)(n.code,{children:"Kubernetes"}),"\u8C03\u5EA6\u5668\u611F\u77E5\u7684\u8D44\u6E90"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"taints\u5B57\u6BB5",children:"taints\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u5B9A\u4E49\u8282\u70B9\u6C61\u70B9\uFF0C\u7528\u4E8E\u9694\u79BB\u7279\u6B8A\u8282\u70B9\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'taints:\n  - key: "nvidia.com/gpu"\n    value: "true"\n    effect: NoSchedule\n  - key: "special-hardware"\n    value: "fpga"\n    effect: NoExecute\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Effect\u7C7B\u578B"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NoSchedule"}),"\uFF1A\u65B0",(0,r.jsx)(n.code,{children:"Pod"}),"\u4E0D\u4F1A\u8C03\u5EA6\u5230\u8BE5\u8282\u70B9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"PreferNoSchedule"}),"\uFF1A\u5C3D\u91CF\u907F\u514D\u8C03\u5EA6\u65B0",(0,r.jsx)(n.code,{children:"Pod"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"NoExecute"}),"\uFF1A\u9A71\u9010\u5DF2\u6709",(0,r.jsx)(n.code,{children:"Pod"}),"\uFF08\u9664\u975E\u6709\u5BB9\u5FCD\uFF09"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u542F\u7528\u6C61\u70B9\u529F\u80FD"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# nfd-master ConfigMap\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: nfd-master-conf\n  namespace: node-feature-discovery\ndata:\n  nfd-master.conf: |\n    enableTaints: true\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u6CE8\u610F\u4E8B\u9879"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4F7F\u7528\u6C61\u70B9\u524D\u786E\u4FDD",(0,r.jsx)(n.code,{children:"nfd-worker"}),"\u80FD\u5BB9\u5FCD\u8BE5\u6C61\u70B9"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5426\u5219",(0,r.jsx)(n.code,{children:"nfd-worker Pod"}),"\u4F1A\u88AB\u9A71\u9010"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vars\u5B57\u6BB5",children:"vars\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u5B9A\u4E49\u53D8\u91CF\uFF0C\u7528\u4E8E\u89C4\u5219\u95F4\u4F20\u9012\u4FE1\u606F\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'- name: "detect gpu"\n  vars:\n    gpu_present: "true"\n    gpu_vendor: "nvidia"\n  matchFeatures:\n    - feature: pci.device\n      matchExpressions:\n        vendor: {op: In, value: ["10de"]}\n\n- name: "use gpu variable"\n  labels:\n    "workload.suitable": "gpu-computing"\n  matchFeatures:\n    - feature: rule.matched\n      matchExpressions:\n        gpu_present: {op: IsTrue}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7528\u9014"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5728\u89C4\u5219\u95F4\u4F20\u9012\u68C0\u6D4B\u7ED3\u679C"}),"\n",(0,r.jsx)(n.li,{children:"\u6784\u5EFA\u590D\u6742\u7684\u89C4\u5219\u5C42\u6B21"}),"\n",(0,r.jsx)(n.li,{children:"\u907F\u514D\u91CD\u590D\u5339\u914D\u903B\u8F91"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"varstemplate\u5B57\u6BB5",children:"varsTemplate\u5B57\u6BB5"}),"\n",(0,r.jsx)(n.p,{children:"\u4F7F\u7528\u6A21\u677F\u52A8\u6001\u751F\u6210\u591A\u4E2A\u53D8\u91CF\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"varsTemplate: |\n  {{ range .pci.device }}\n  device-{{ .vendor }}-{{ .device }}=found\n  {{ end }}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"matchfeatures\u5B57\u6BB5",children:"matchFeatures\u5B57\u6BB5"}),"\n",(0,r.jsxs)(n.p,{children:["\u5B9A\u4E49\u5339\u914D\u6761\u4EF6\uFF0C\u6240\u6709\u6761\u4EF6\u5FC5\u987B\u6EE1\u8DB3\uFF08\u903B\u8F91",(0,r.jsx)(n.code,{children:"AND"}),"\uFF09\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: kernel.loadedmodule\n    matchExpressions:\n      dummy: {op: Exists}\n  - feature: kernel.config\n    matchExpressions:\n      X86: {op: In, value: ["y"]}\n  - feature: cpu.cpuid\n    matchExpressions:\n      AVX512F: {op: Exists}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7ED3\u6784\u8BF4\u660E"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6BCF\u4E2A",(0,r.jsx)(n.code,{children:"feature"}),"\u9879\u662F\u4E00\u4E2A\u7279\u6027\u5339\u914D\u5668"]}),"\n",(0,r.jsxs)(n.li,{children:["\u591A\u4E2A\u7279\u6027\u5339\u914D\u5668\u4E4B\u95F4\u662F",(0,r.jsx)(n.code,{children:"AND"}),"\u5173\u7CFB"]}),"\n",(0,r.jsxs)(n.li,{children:["\u540C\u4E00\u7279\u6027\u5339\u914D\u5668\u5185\u7684\u591A\u4E2A\u8868\u8FBE\u5F0F\u4E5F\u662F",(0,r.jsx)(n.code,{children:"AND"}),"\u5173\u7CFB"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"matchExpressions\u8BED\u6CD5"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"matchExpressions:\n  <attribute-name>: {op: <operator>, value: [<values>]}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"matchName\u8BED\u6CD5"}),"\uFF08\u5339\u914D\u7279\u6027\u540D\u79F0\uFF09\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"matchName:\n  op: <operator>\n  value: [<values>]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"matchany\u5B57\u6BB5",children:"matchAny\u5B57\u6BB5"}),"\n",(0,r.jsxs)(n.p,{children:["\u5B9A\u4E49\u6216\u6761\u4EF6\uFF0C\u53EA\u9700\u6EE1\u8DB3\u4E00\u4E2A\uFF08\u903B\u8F91",(0,r.jsx)(n.code,{children:"OR"}),"\uFF09\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"matchAny:\n  - matchFeatures:\n      - feature: cpu.cpuid\n        matchExpressions:\n          AVX512F: {op: Exists}\n  - matchFeatures:\n      - feature: cpu.cpuid\n        matchExpressions:\n          AVX2: {op: Exists}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u903B\u8F91\u5173\u7CFB"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"matchAny"}),"\u5217\u8868\u4E2D\u7684\u6BCF\u4E2A\u5143\u7D20\u662F",(0,r.jsx)(n.code,{children:"OR"}),"\u5173\u7CFB"]}),"\n",(0,r.jsxs)(n.li,{children:["\u6BCF\u4E2A\u5143\u7D20\u5185\u7684",(0,r.jsx)(n.code,{children:"matchFeatures"}),"\u4ECD\u7136\u662F",(0,r.jsx)(n.code,{children:"AND"}),"\u5173\u7CFB"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5339\u914D\u64CD\u4F5C\u7B26",children:"\u5339\u914D\u64CD\u4F5C\u7B26"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NodeFeatureRule"}),"\u652F\u6301\u4E30\u5BCC\u7684\u5339\u914D\u64CD\u4F5C\u7B26\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u64CD\u4F5C\u7B26"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,r.jsx)(n.th,{children:"\u503C\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u793A\u4F8B"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"In"})}),(0,r.jsx)(n.td,{children:"\u503C\u5728\u5217\u8868\u4E2D"}),(0,r.jsx)(n.td,{children:"\u5B57\u7B26\u4E32\u5217\u8868"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: In, value: ["8086", "10de"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NotIn"})}),(0,r.jsx)(n.td,{children:"\u503C\u4E0D\u5728\u5217\u8868\u4E2D"}),(0,r.jsx)(n.td,{children:"\u5B57\u7B26\u4E32\u5217\u8868"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: NotIn, value: ["bad-value"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"InRegexp"})}),(0,r.jsx)(n.td,{children:"\u503C\u5339\u914D\u6B63\u5219\u8868\u8FBE\u5F0F"}),(0,r.jsx)(n.td,{children:"\u6B63\u5219\u5217\u8868"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: InRegexp, value: ["^node-.*"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Exists"})}),(0,r.jsx)(n.td,{children:"\u5C5E\u6027\u5B58\u5728"}),(0,r.jsx)(n.td,{children:"\u65E0\u9700\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{op: Exists}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DoesNotExist"})}),(0,r.jsx)(n.td,{children:"\u5C5E\u6027\u4E0D\u5B58\u5728"}),(0,r.jsx)(n.td,{children:"\u65E0\u9700\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{op: DoesNotExist}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Gt"})}),(0,r.jsx)(n.td,{children:"\u5927\u4E8E"}),(0,r.jsx)(n.td,{children:"\u5355\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: Gt, value: ["100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Ge"})}),(0,r.jsx)(n.td,{children:"\u5927\u4E8E\u7B49\u4E8E"}),(0,r.jsx)(n.td,{children:"\u5355\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: Ge, value: ["100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Lt"})}),(0,r.jsx)(n.td,{children:"\u5C0F\u4E8E"}),(0,r.jsx)(n.td,{children:"\u5355\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: Lt, value: ["100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Le"})}),(0,r.jsx)(n.td,{children:"\u5C0F\u4E8E\u7B49\u4E8E"}),(0,r.jsx)(n.td,{children:"\u5355\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: Le, value: ["100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GtLt"})}),(0,r.jsx)(n.td,{children:"\u5728\u8303\u56F4\u5185\uFF08\u5F00\u533A\u95F4\uFF09"}),(0,r.jsx)(n.td,{children:"\u4E24\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: GtLt, value: ["10", "100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GeLe"})}),(0,r.jsx)(n.td,{children:"\u5728\u8303\u56F4\u5185\uFF08\u95ED\u533A\u95F4\uFF09"}),(0,r.jsx)(n.td,{children:"\u4E24\u4E2A\u6570\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'{op: GeLe, value: ["10", "100"]}'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IsTrue"})}),(0,r.jsxs)(n.td,{children:["\u503C\u4E3A",(0,r.jsx)(n.code,{children:"true"})]}),(0,r.jsx)(n.td,{children:"\u65E0\u9700\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{op: IsTrue}"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IsFalse"})}),(0,r.jsxs)(n.td,{children:["\u503C\u4E3A",(0,r.jsx)(n.code,{children:"false"})]}),(0,r.jsx)(n.td,{children:"\u65E0\u9700\u503C"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{op: IsFalse}"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u64CD\u4F5C\u7B26\u4F7F\u7528\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# \u5B57\u7B26\u4E32\u5339\u914D\nvendor: {op: In, value: ["8086", "10de"]}\nvendor: {op: InRegexp, value: ["^(8086|10de)$"]}\n\n# \u5B58\u5728\u6027\u68C0\u67E5\nAVX512F: {op: Exists}\ndeprecated_feature: {op: DoesNotExist}\n\n# \u6570\u503C\u6BD4\u8F83\nmajor: {op: Gt, value: ["5"]}\ncores: {op: GtLt, value: ["8", "64"]}\n\n# \u5E03\u5C14\u503C\nenabled: {op: IsTrue}\ndisabled: {op: IsFalse}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u7C7B\u578B\u8F6C\u6362"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u6570\u503C\u6BD4\u8F83\u64CD\u4F5C\u7B26\uFF08",(0,r.jsx)(n.code,{children:"Gt"}),"\u3001",(0,r.jsx)(n.code,{children:"Lt"}),"\u7B49\uFF09\u4F1A\u5C1D\u8BD5\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6574\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679C\u503C\u5305\u542B",(0,r.jsx)(n.code,{children:"type: version"}),"\uFF0C\u5219\u6309\u7248\u672C\u53F7\u6BD4\u8F83"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# \u7248\u672C\u53F7\u6BD4\u8F83\nmatchExpressions:\n  major: {op: Gt, value: ["5"], type: version}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B",children:"\u53EF\u7528\u7684\u7279\u6027\u7C7B\u578B"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NFD"}),"\u63D0\u4F9B\u4E86\u4E30\u5BCC\u7684\u7279\u6027\u7528\u4E8E\u5339\u914D\u3002\u4EE5\u4E0B\u662F\u6240\u6709\u53EF\u7528\u7279\u6027\u7684\u8BE6\u7EC6\u5217\u8868\uFF1A"]}),"\n",(0,r.jsx)(n.h3,{id:"cpu\u76F8\u5173\u7279\u6027",children:"CPU\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"cpucpuid",children:"cpu.cpuid"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u6307\u4EE4\u96C6\u7279\u6027\uFF08",(0,r.jsx)(n.code,{children:"Flag"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5E38\u89C1\u7279\u6027"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u7279\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Advanced Vector Extensions"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX2"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX 2.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX512F"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX-512"}),"\u57FA\u7840\u6307\u4EE4\u96C6"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX512DQ"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX-512"}),"\u53CC\u5B57\u548C\u56DB\u5B57\u6307\u4EE4"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX512CD"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX-512"}),"\u51B2\u7A81\u68C0\u6D4B\u6307\u4EE4"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX512BW"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX-512"}),"\u5B57\u8282\u548C\u5B57\u6307\u4EE4"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX512VL"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX-512"}),"\u5411\u91CF\u957F\u5EA6\u6269\u5C55"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AVX10_VERSION"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AVX10"}),"\u7248\u672C\u53F7\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AESNI"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AES"}),"\u52A0\u5BC6\u6307\u4EE4\u96C6"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Streaming SIMD Extensions"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE2"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE 2.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE3"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE 3.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE4"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE 4.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE42"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSE 4.2"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SSSE3"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Supplemental SSE3"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"matchFeatures:\n  - feature: cpu.cpuid\n    matchExpressions:\n      AVX512F: {op: Exists}\n      AVX512DQ: {op: Exists}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"cpumodel",children:"cpu.model"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u578B\u53F7\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"family"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u5BB6\u65CF"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"vendor_id"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u4F9B\u5E94\u5546",(0,r.jsx)(n.code,{children:"ID"}),"\uFF08\u5982",(0,r.jsx)(n.code,{children:"GenuineIntel"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u578B\u53F7",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hypervisor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u865A\u62DF\u5316\u4FE1\u606F\uFF08\u4EC5",(0,r.jsx)(n.code,{children:"s390x"}),"\uFF09"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: cpu.model\n    matchExpressions:\n      family: {op: Gt, value: ["6"]}\n      vendor_id: {op: In, value: ["GenuineIntel"]}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"cputopology",children:"cpu.topology"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u62D3\u6251\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hardware_multithreading"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u542F\u7528\u8D85\u7EBF\u7A0B"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"socket_count"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u63D2\u69FD\u6570\u91CF"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: cpu.topology\n    matchExpressions:\n      hardware_multithreading: {op: IsTrue}\n      socket_count: {op: Gt, value: ["1"]}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"cpucstate",children:"cpu.cstate"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Intel"}),"\u7535\u6E90\u7BA1\u7406\u72B6\u6001\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"C-state"}),"\u662F\u5426\u542F\u7528"]})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"cpupstate",children:"cpu.pstate"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Intel P-state"}),"\u9A71\u52A8\u72B6\u6001\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"status"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"active"}),"\u6216",(0,r.jsx)(n.code,{children:"passive"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"turbo"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:"\u777F\u9891\u662F\u5426\u542F\u7528"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scaling"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"powersave"}),"\u6216",(0,r.jsx)(n.code,{children:"performance"})]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"cpurdt",children:"cpu.rdt"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Intel RDT"}),"\u8D44\u6E90\u7BA1\u7406\u6280\u672F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTMON"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsx)(n.td,{children:"\u76D1\u63A7\u6280\u672F"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTCMT"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsx)(n.td,{children:"\u7F13\u5B58\u76D1\u63A7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTMBM"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsx)(n.td,{children:"\u5185\u5B58\u5E26\u5BBD\u76D1\u63A7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTL3CA"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"L3"}),"\u7F13\u5B58\u5206\u914D"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTl2CA"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"L2"}),"\u7F13\u5B58\u5206\u914D"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTMBA"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"flag"})}),(0,r.jsx)(n.td,{children:"\u5185\u5B58\u5E26\u5BBD\u5206\u914D"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RDTL3CA_NUM_CLOSID"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"L3 CA CLOSID"}),"\u6570\u91CF"]})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"cpusecurity",children:"cpu.security"}),"\n",(0,r.jsxs)(n.p,{children:["\u5B89\u5168\u548C\u53EF\u4FE1\u6267\u884C\u73AF\u5883\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sgx.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Intel SGX"}),"\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sgx.epc"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SGX"}),"\u52A0\u5BC6\u9875\u7F13\u5B58\u5927\u5C0F\uFF08\u5B57\u8282\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"se.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"IBM"}),"\u5B89\u5168\u6267\u884C\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tdx.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Intel TDX"}),"\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tdx.total_keys"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"TDX"}),"\u5BC6\u94A5\u603B\u6570"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tdx.protected"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:["\u662F\u5426\u5728",(0,r.jsx)(n.code,{children:"TDX"}),"\u865A\u62DF\u673A\u4E2D\u8FD0\u884C"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sev.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AMD SEV"}),"\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sev.es.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AMD SEV-ES"}),"\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sev.snp.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"AMD SEV-SNP"}),"\u662F\u5426\u542F\u7528"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sev.asids"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SEV ASID"}),"\u6570\u91CF"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sev.encrypted_state_ids"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:["\u52A0\u5BC6\u72B6\u6001",(0,r.jsx)(n.code,{children:"ID"}),"\u6570\u91CF"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: cpu.security\n    matchExpressions:\n      sgx.enabled: {op: IsTrue}\n      sgx.epc: {op: Gt, value: ["1073741824"]}  # > 1GB\n'})}),"\n",(0,r.jsx)(n.h4,{id:"cpusst",children:"cpu.sst"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Intel SST"}),"\uFF08",(0,r.jsx)(n.code,{children:"Speed Select Technology"}),"\uFF09\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bf.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:"\u57FA\u51C6\u9891\u7387\u4F18\u5316\u662F\u5426\u542F\u7528"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"cpucoprocessor",children:"cpu.coprocessor"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"CPU"}),"\u534F\u5904\u7406\u5668\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nx_gzip"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Nest"}),"\u52A0\u901F\u5668",(0,r.jsx)(n.code,{children:"GZIP"}),"\u652F\u6301"]})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"\u5185\u6838\u76F8\u5173\u7279\u6027",children:"\u5185\u6838\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"kernelconfig",children:"kernel.config"}),"\n",(0,r.jsxs)(n.p,{children:["\u5185\u6838\u914D\u7F6E\u9009\u9879\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: kernel.config\n    matchExpressions:\n      X86: {op: In, value: ["y"]}\n      SECURITY_SELINUX: {op: In, value: ["y"]}\n      NUMA: {op: Exists}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"kernelloadedmodule",children:"kernel.loadedmodule"}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u52A0\u8F7D\u7684\u5185\u6838\u6A21\u5757\uFF08",(0,r.jsx)(n.code,{children:"Flag"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"matchFeatures:\n  - feature: kernel.loadedmodule\n    matchExpressions:\n      veth: {op: Exists}\n      br_netfilter: {op: Exists}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"kernelenabledmodule",children:"kernel.enabledmodule"}),"\n",(0,r.jsxs)(n.p,{children:["\u5DF2\u52A0\u8F7D\u6216\u5185\u5EFA\u7684\u6A21\u5757\uFF08",(0,r.jsx)(n.code,{children:"Flag"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsx)(n.h4,{id:"kernelselinux",children:"kernel.selinux"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"SELinux"}),"\u72B6\u6001\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SELinux"}),"\u662F\u5426\u5904\u4E8E\u5F3A\u5236\u6A21\u5F0F"]})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"kernelversion",children:"kernel.version"}),"\n",(0,r.jsxs)(n.p,{children:["\u5185\u6838\u7248\u672C\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"full"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u5B8C\u6574\u7248\u672C\u53F7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"major"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"\u4E3B\u7248\u672C\u53F7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"minor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"\u6B21\u7248\u672C\u53F7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"revision"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsx)(n.td,{children:"\u4FEE\u8BA2\u53F7"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: kernel.version\n    matchExpressions:\n      major: {op: Ge, value: ["5"]}\n      minor: {op: Ge, value: ["10"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5185\u5B58\u76F8\u5173\u7279\u6027",children:"\u5185\u5B58\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"memorynuma",children:"memory.numa"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NUMA"}),"\u8282\u70B9\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_numa"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsxs)(n.td,{children:["\u662F\u5426\u4E3A",(0,r.jsx)(n.code,{children:"NUMA"}),"\u67B6\u6784"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"node_count"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"int"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"NUMA"}),"\u8282\u70B9\u6570\u91CF"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: memory.numa\n    matchExpressions:\n      is_numa: {op: IsTrue}\n      node_count: {op: Gt, value: ["1"]}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"memorynv",children:"memory.nv"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"NVDIMM"}),"\u8BBE\u5907\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"devtype"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u8BBE\u5907\u7C7B\u578B"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mode"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u5DE5\u4F5C\u6A21\u5F0F"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"memoryswap",children:"memory.swap"}),"\n",(0,r.jsxs)(n.p,{children:["\u4EA4\u6362\u5206\u533A\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u914D\u7F6E\u4E86\u4EA4\u6362\u5206\u533A"})]})})]}),"\n",(0,r.jsx)(n.h4,{id:"memoryhugepages",children:"memory.hugepages"}),"\n",(0,r.jsxs)(n.p,{children:["\u5927\u9875\u652F\u6301\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bool"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u914D\u7F6E\u4E86\u5927\u9875"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hugepages-<size>"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u7279\u5B9A\u5927\u5C0F\u7684\u5927\u9875\u6570\u91CF"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: memory.hugepages\n    matchExpressions:\n      enabled: {op: IsTrue}\n      hugepages-1Gi: {op: Gt, value: ["0"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u7F51\u7EDC\u76F8\u5173\u7279\u6027",children:"\u7F51\u7EDC\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"networkdevice",children:"network.device"}),"\n",(0,r.jsxs)(n.p,{children:["\u7269\u7406\u7F51\u7EDC\u63A5\u53E3\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u63A5\u53E3\u540D\u79F0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"operstate"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u64CD\u4F5C\u72B6\u6001\uFF08",(0,r.jsx)(n.code,{children:"up"}),"/",(0,r.jsx)(n.code,{children:"down"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u901F\u7387\uFF08",(0,r.jsx)(n.code,{children:"Mbps"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sriov_numvfs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u5DF2\u521B\u5EFA\u7684",(0,r.jsx)(n.code,{children:"VF"}),"\u6570\u91CF"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sriov_totalvfs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u6700\u5927",(0,r.jsx)(n.code,{children:"VF"}),"\u6570\u91CF"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mtu"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"MTU"}),"\u5927\u5C0F"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: network.device\n    matchExpressions:\n      sriov_totalvfs: {op: Gt, value: ["0"]}\n      speed: {op: Ge, value: ["10000"]}  # >= 10Gbps\n'})}),"\n",(0,r.jsx)(n.h4,{id:"networkvirtual",children:"network.virtual"}),"\n",(0,r.jsxs)(n.p,{children:["\u865A\u62DF\u7F51\u7EDC\u63A5\u53E3\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u63A5\u53E3\u540D\u79F0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"operstate"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u64CD\u4F5C\u72B6\u6001"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u901F\u7387"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"mtu"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"MTU"}),"\u5927\u5C0F"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"pci\u8BBE\u5907\u7279\u6027",children:"PCI\u8BBE\u5907\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"pcidevice",children:"pci.device"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"PCI"}),"\u8BBE\u5907\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"class"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u8BBE\u5907\u7C7B\u522B\uFF08\u5982",(0,r.jsx)(n.code,{children:"0300"}),"\u4E3A\u663E\u5361\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"vendor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u4F9B\u5E94\u5546",(0,r.jsx)(n.code,{children:"ID"}),"\uFF08\u5982",(0,r.jsx)(n.code,{children:"10de"}),"\u4E3A",(0,r.jsx)(n.code,{children:"NVIDIA"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"device"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u8BBE\u5907",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"subsystem_vendor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u5B50\u7CFB\u7EDF\u4F9B\u5E94\u5546",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"subsystem_device"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u5B50\u7CFB\u7EDF\u8BBE\u5907",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sriov_totalvfs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u6700\u5927",(0,r.jsx)(n.code,{children:"VF"}),"\u6570\u91CF"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"iommu_group/type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"IOMMU"}),"\u7EC4\u7C7B\u578B"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"iommu/intel-iommu/version"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Intel IOMMU"}),"\u7248\u672C"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5E38\u89C1\u8BBE\u5907\u7C7B\u522B"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u7C7B\u522B\u4EE3\u7801"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0200"})}),(0,r.jsx)(n.td,{children:"\u7F51\u7EDC\u63A7\u5236\u5668"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0300"})}),(0,r.jsxs)(n.td,{children:["\u663E\u793A\u63A7\u5236\u5668\uFF08",(0,r.jsx)(n.code,{children:"GPU"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0302"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"3D"}),"\u63A7\u5236\u5668"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"0108"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"NVMe"}),"\u63A7\u5236\u5668"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1200"})}),(0,r.jsxs)(n.td,{children:["\u5904\u7406\u52A0\u901F\u5668\uFF08",(0,r.jsx)(n.code,{children:"FPGA"}),"\u7B49\uFF09"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5E38\u89C1\u4F9B\u5E94\u5546ID"}),"\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u4F9B\u5E94\u5546ID"}),(0,r.jsx)(n.th,{children:"\u5382\u5546"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10de"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NVIDIA"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1002"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AMD"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"8086"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Intel"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"15b3"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Mellanox"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10ee"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Xilinx"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# \u68C0\u6D4BNVIDIA GPU\nmatchFeatures:\n  - feature: pci.device\n    matchExpressions:\n      vendor: {op: In, value: ["10de"]}\n      class: {op: In, value: ["0300", "0302"]}\n\n# \u68C0\u6D4BNVMe\u8BBE\u5907\nmatchFeatures:\n  - feature: pci.device\n    matchExpressions:\n      class: {op: In, value: ["0108"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u5B58\u50A8\u76F8\u5173\u7279\u6027",children:"\u5B58\u50A8\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"storageblock",children:"storage.block"}),"\n",(0,r.jsxs)(n.p,{children:["\u5757\u5B58\u50A8\u8BBE\u5907\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u8BBE\u5907\u540D\u79F0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dax"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u652F\u6301\u76F4\u63A5\u8BBF\u95EE"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rotational"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u4E3A\u673A\u68B0\u786C\u76D8"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nr_zones"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u5206\u533A\u6570\u91CF"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"zoned"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u662F\u5426\u4E3A\u5206\u533A\u8BBE\u5907"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# \u68C0\u6D4BSSD\nmatchFeatures:\n  - feature: storage.block\n    matchExpressions:\n      rotational: {op: In, value: ["0"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usb\u8BBE\u5907\u7279\u6027",children:"USB\u8BBE\u5907\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"usbdevice",children:"usb.device"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"USB"}),"\u8BBE\u5907\uFF08",(0,r.jsx)(n.code,{children:"Instance"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"class"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u8BBE\u5907\u7C7B\u522B"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"vendor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u4F9B\u5E94\u5546",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"device"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u8BBE\u5907",(0,r.jsx)(n.code,{children:"ID"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"serial"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u5E8F\u5217\u53F7"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: usb.device\n    matchExpressions:\n      vendor: {op: In, value: ["2c7c"]}  # Quectel\n      class: {op: In, value: ["02"]}     # CDC\u8BBE\u5907\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u7CFB\u7EDF\u76F8\u5173\u7279\u6027",children:"\u7CFB\u7EDF\u76F8\u5173\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"systemosrelease",children:"system.osrelease"}),"\n",(0,r.jsxs)(n.p,{children:["\u64CD\u4F5C\u7CFB\u7EDF\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6765\u81EA",(0,r.jsx)(n.code,{children:"/etc/os-release"}),"\u7684\u6240\u6709\u5B57\u6BB5\u90FD\u53EF\u7528\uFF0C\u5E38\u89C1\u7684\u6709\uFF1A"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ID"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:["\u7CFB\u7EDF",(0,r.jsx)(n.code,{children:"ID"}),"\uFF08\u5982",(0,r.jsx)(n.code,{children:"ubuntu"}),"\uFF09"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VERSION_ID"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u7248\u672C\u53F7"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NAME"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u7CFB\u7EDF\u540D\u79F0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PRETTY_NAME"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u53CB\u597D\u540D\u79F0"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: system.osrelease\n    matchExpressions:\n      ID: {op: In, value: ["ubuntu", "debian"]}\n      VERSION_ID: {op: InRegexp, value: ["^(20|22)\\\\."]}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"systemdmiid",children:"system.dmiid"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"DMI"}),"\uFF08",(0,r.jsx)(n.code,{children:"Desktop Management Interface"}),"\uFF09\u4FE1\u606F\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sys_vendor"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u7CFB\u7EDF\u4F9B\u5E94\u5546"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"product_name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u4EA7\u54C1\u540D\u79F0"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'matchFeatures:\n  - feature: system.dmiid\n    matchExpressions:\n      sys_vendor: {op: In, value: ["Dell Inc.", "HP"]}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"systemname",children:"system.name"}),"\n",(0,r.jsxs)(n.p,{children:["\u7CFB\u7EDF\u540D\u79F0\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5C5E\u6027\u540D\u79F0"}),(0,r.jsx)(n.th,{children:"\u7C7B\u578B"}),(0,r.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nodename"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Kubernetes"}),"\u8282\u70B9\u540D\u79F0"]})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"local\u7279\u6027",children:"Local\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"locallabel",children:"local.label"}),"\n",(0,r.jsxs)(n.p,{children:["\u672C\u5730\u6807\u7B7E\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6765\u81EA\u672C\u5730\u7279\u6027\u6587\u4EF6\uFF08",(0,r.jsx)(n.code,{children:"/etc/kubernetes/node-feature-discovery/features.d/"}),"\uFF09\u7684\u6807\u7B7E\u3002"]}),"\n",(0,r.jsx)(n.h4,{id:"localfeature",children:"local.feature"}),"\n",(0,r.jsxs)(n.p,{children:["\u672C\u5730\u7279\u6027\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsxs)(n.p,{children:["\u6765\u81EA\u672C\u5730\u7279\u6027\u6587\u4EF6\u7684\u7279\u6027\uFF08\u4F7F\u7528",(0,r.jsx)(n.code,{children:"#+no-label"}),"\u6807\u8BB0\u7684\uFF09\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"rule\u7279\u6027",children:"Rule\u7279\u6027"}),"\n",(0,r.jsx)(n.h4,{id:"rulematched",children:"rule.matched"}),"\n",(0,r.jsxs)(n.p,{children:["\u524D\u5E8F\u89C4\u5219\u5339\u914D\u7ED3\u679C\uFF08",(0,r.jsx)(n.code,{children:"Attribute"}),"\u7C7B\u578B\uFF09"]}),"\n",(0,r.jsx)(n.p,{children:"\u7528\u4E8E\u5F15\u7528\u524D\u9762\u89C4\u5219\u5B9A\u4E49\u7684\u6807\u7B7E\u548C\u53D8\u91CF\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'- name: "first rule"\n  vars:\n    has_gpu: "true"\n  matchFeatures:\n    - feature: pci.device\n      matchExpressions:\n        vendor: {op: In, value: ["10de"]}\n\n- name: "second rule"\n  labels:\n    "gpu-node": "true"\n  matchFeatures:\n    - feature: rule.matched\n      matchExpressions:\n        has_gpu: {op: IsTrue}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u5B9E\u6218\u793A\u4F8B",children:"\u5B9E\u6218\u793A\u4F8B"}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B1gpu\u578B\u53F7\u7CBE\u786E\u68C0\u6D4B",children:"\u793A\u4F8B1\uFF1AGPU\u578B\u53F7\u7CBE\u786E\u68C0\u6D4B"}),"\n",(0,r.jsxs)(n.p,{children:["\u6839\u636E",(0,r.jsx)(n.code,{children:"PCI"}),"\u8BBE\u5907",(0,r.jsx)(n.code,{children:"ID"}),"\u7CBE\u786E\u8BC6\u522B",(0,r.jsx)(n.code,{children:"GPU"}),"\u578B\u53F7\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: nvidia-gpu-models\nspec:\n  rules:\n    - name: "nvidia a100 40gb"\n      labels:\n        "nvidia.com/gpu.product": "A100-SXM4-40GB"\n        "nvidia.com/gpu.memory": "40gb"\n        "nvidia.com/gpu.architecture": "ampere"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de"]}\n            device: {op: In, value: ["20b0"]}\n\n    - name: "nvidia a100 80gb"\n      labels:\n        "nvidia.com/gpu.product": "A100-SXM4-80GB"\n        "nvidia.com/gpu.memory": "80gb"\n        "nvidia.com/gpu.architecture": "ampere"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de"]}\n            device: {op: In, value: ["20b2"]}\n\n    - name: "nvidia v100"\n      labels:\n        "nvidia.com/gpu.product": "V100-SXM2-16GB"\n        "nvidia.com/gpu.memory": "16gb"\n        "nvidia.com/gpu.architecture": "volta"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de"]}\n            device: {op: In, value: ["1db4", "1db5", "1db6"]}\n\n    - name: "nvidia t4"\n      labels:\n        "nvidia.com/gpu.product": "Tesla-T4"\n        "nvidia.com/gpu.memory": "16gb"\n        "nvidia.com/gpu.architecture": "turing"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de"]}\n            device: {op: In, value: ["1eb8"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B2cpu\u6027\u80FD\u5206\u7EA7",children:"\u793A\u4F8B2\uFF1ACPU\u6027\u80FD\u5206\u7EA7"}),"\n",(0,r.jsxs)(n.p,{children:["\u6839\u636E",(0,r.jsx)(n.code,{children:"CPU"}),"\u7279\u6027\u5BF9\u8282\u70B9\u8FDB\u884C\u6027\u80FD\u5206\u7EA7\uFF1A"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: cpu-performance-classification\nspec:\n  rules:\n    - name: "tier-1 flagship cpu"\n      labels:\n        "cpu.performance.tier": "1"\n        "cpu.performance.class": "flagship"\n        "workload.suitable": "hpc,ai-training,database"\n      matchFeatures:\n        - feature: cpu.cpuid\n          matchExpressions:\n            AVX512F: {op: Exists}\n            AVX512DQ: {op: Exists}\n            AVX512CD: {op: Exists}\n            AVX512BW: {op: Exists}\n            AVX512VL: {op: Exists}\n        - feature: cpu.topology\n          matchExpressions:\n            hardware_multithreading: {op: IsTrue}\n        - feature: cpu.model\n          matchExpressions:\n            family: {op: Ge, value: ["6"]}\n\n    - name: "tier-2 performance cpu"\n      labels:\n        "cpu.performance.tier": "2"\n        "cpu.performance.class": "performance"\n        "workload.suitable": "general-compute,web-server"\n      matchFeatures:\n        - feature: cpu.cpuid\n          matchExpressions:\n            AVX2: {op: Exists}\n            AVX512F: {op: DoesNotExist}\n        - feature: cpu.topology\n          matchExpressions:\n            hardware_multithreading: {op: IsTrue}\n\n    - name: "tier-3 standard cpu"\n      labels:\n        "cpu.performance.tier": "3"\n        "cpu.performance.class": "standard"\n        "workload.suitable": "batch-job,cache"\n      matchFeatures:\n        - feature: cpu.cpuid\n          matchExpressions:\n            AVX: {op: Exists}\n            AVX2: {op: DoesNotExist}\n\n    - name: "tier-4 basic cpu"\n      labels:\n        "cpu.performance.tier": "4"\n        "cpu.performance.class": "basic"\n        "workload.suitable": "logging,monitoring"\n      matchFeatures:\n        - feature: cpu.cpuid\n          matchExpressions:\n            SSE42: {op: Exists}\n            AVX: {op: DoesNotExist}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B3\u9AD8\u901F\u7F51\u7EDC\u8BBE\u5907\u68C0\u6D4B",children:"\u793A\u4F8B3\uFF1A\u9AD8\u901F\u7F51\u7EDC\u8BBE\u5907\u68C0\u6D4B"}),"\n",(0,r.jsx)(n.p,{children:"\u68C0\u6D4B\u5E76\u5206\u7C7B\u9AD8\u901F\u7F51\u7EDC\u8BBE\u5907\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: high-speed-network-detection\nspec:\n  rules:\n    - name: "mellanox 100gbe"\n      labels:\n        "network.type": "high-speed"\n        "network.speed": "100gbe"\n        "network.vendor": "mellanox"\n        "network.sriov": "true"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["15b3"]}  # Mellanox\n            class: {op: In, value: ["0200"]}\n        - feature: network.device\n          matchExpressions:\n            sriov_totalvfs: {op: Gt, value: ["0"]}\n            speed: {op: Ge, value: ["100000"]}\n\n    - name: "intel 25gbe"\n      labels:\n        "network.type": "high-speed"\n        "network.speed": "25gbe"\n        "network.vendor": "intel"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["8086"]}\n            class: {op: In, value: ["0200"]}\n        - feature: network.device\n          matchExpressions:\n            speed: {op: GeLe, value: ["25000", "100000"]}\n\n    - name: "standard 10gbe"\n      labels:\n        "network.type": "standard"\n        "network.speed": "10gbe"\n      matchFeatures:\n        - feature: network.device\n          matchExpressions:\n            speed: {op: GeLe, value: ["10000", "25000"]}\n\n    - name: "basic 1gbe"\n      labels:\n        "network.type": "basic"\n        "network.speed": "1gbe"\n      matchFeatures:\n        - feature: network.device\n          matchExpressions:\n            speed: {op: Lt, value: ["10000"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B4\u5B58\u50A8\u7C7B\u578B\u5206\u7C7B",children:"\u793A\u4F8B4\uFF1A\u5B58\u50A8\u7C7B\u578B\u5206\u7C7B"}),"\n",(0,r.jsx)(n.p,{children:"\u6839\u636E\u5B58\u50A8\u8BBE\u5907\u7279\u6027\u8FDB\u884C\u5206\u7C7B\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: storage-classification\nspec:\n  rules:\n    - name: "nvme ssd"\n      labels:\n        "storage.type": "nvme-ssd"\n        "storage.performance": "ultra"\n        "storage.tier": "1"\n      annotations:\n        "storage.description": "NVMe SSD with high IOPS"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            class: {op: In, value: ["0108"]}  # NVMe controller\n        - feature: storage.block\n          matchExpressions:\n            rotational: {op: In, value: ["0"]}\n\n    - name: "sata ssd"\n      labels:\n        "storage.type": "sata-ssd"\n        "storage.performance": "high"\n        "storage.tier": "2"\n      matchFeatures:\n        - feature: storage.block\n          matchExpressions:\n            rotational: {op: In, value: ["0"]}\n        - feature: pci.device\n          matchExpressions:\n            class: {op: NotIn, value: ["0108"]}\n\n    - name: "hdd"\n      labels:\n        "storage.type": "hdd"\n        "storage.performance": "standard"\n        "storage.tier": "3"\n      matchFeatures:\n        - feature: storage.block\n          matchExpressions:\n            rotational: {op: In, value: ["1"]}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B5\u5185\u6838\u7248\u672C\u548C\u6A21\u5757\u68C0\u6D4B",children:"\u793A\u4F8B5\uFF1A\u5185\u6838\u7248\u672C\u548C\u6A21\u5757\u68C0\u6D4B"}),"\n",(0,r.jsx)(n.p,{children:"\u68C0\u6D4B\u5185\u6838\u7248\u672C\u548C\u5173\u952E\u6A21\u5757\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: kernel-features-detection\nspec:\n  rules:\n    - name: "modern kernel"\n      labels:\n        "kernel.version.class": "modern"\n        "kernel.support.level": "full"\n      matchFeatures:\n        - feature: kernel.version\n          matchExpressions:\n            major: {op: Ge, value: ["5"]}\n            minor: {op: Ge, value: ["10"]}\n\n    - name: "rdma support"\n      labels:\n        "kernel.feature.rdma": "true"\n        "network.rdma.enabled": "true"\n      matchFeatures:\n        - feature: kernel.loadedmodule\n          matchExpressions:\n            rdma_cm: {op: Exists}\n            ib_core: {op: Exists}\n            mlx5_core: {op: Exists}\n\n    - name: "ceph rbd support"\n      labels:\n        "storage.ceph.rbd": "true"\n      matchFeatures:\n        - feature: kernel.loadedmodule\n          matchExpressions:\n            rbd: {op: Exists}\n            libceph: {op: Exists}\n\n    - name: "ovs support"\n      labels:\n        "network.ovs.enabled": "true"\n      matchFeatures:\n        - feature: kernel.loadedmodule\n          matchExpressions:\n            openvswitch: {op: Exists}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B6\u5B89\u5168\u5408\u89C4\u68C0\u6D4B",children:"\u793A\u4F8B6\uFF1A\u5B89\u5168\u5408\u89C4\u68C0\u6D4B"}),"\n",(0,r.jsx)(n.p,{children:"\u68C0\u6D4B\u5B89\u5168\u7279\u6027\u548C\u5408\u89C4\u6027\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: security-compliance-check\nspec:\n  rules:\n    - name: "pci-dss compliant"\n      labels:\n        "compliance.pci-dss": "true"\n        "security.level": "high"\n      taints:\n        - key: "security.high"\n          value: "true"\n          effect: NoSchedule\n      matchFeatures:\n        - feature: kernel.version\n          matchExpressions:\n            major: {op: Ge, value: ["5"]}\n        - feature: kernel.config\n          matchExpressions:\n            AUDIT: {op: In, value: ["y"]}\n            SECURITY_SELINUX: {op: In, value: ["y"]}\n        - feature: kernel.selinux\n          matchExpressions:\n            enabled: {op: IsTrue}\n\n    - name: "intel sgx capable"\n      labels:\n        "security.intel-sgx": "true"\n        "tee.available": "true"\n      annotations:\n        "security.sgx.epc-size": "@cpu.security.sgx.epc"\n      matchFeatures:\n        - feature: cpu.security\n          matchExpressions:\n            sgx.enabled: {op: IsTrue}\n            sgx.epc: {op: Gt, value: ["0"]}\n\n    - name: "amd sev capable"\n      labels:\n        "security.amd-sev": "true"\n        "vm-encryption.available": "true"\n      matchFeatures:\n        - feature: cpu.security\n          matchExpressions:\n            sev.enabled: {op: IsTrue}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B7\u4F7F\u7528\u6A21\u677F\u52A8\u6001\u751F\u6210\u6807\u7B7E",children:"\u793A\u4F8B7\uFF1A\u4F7F\u7528\u6A21\u677F\u52A8\u6001\u751F\u6210\u6807\u7B7E"}),"\n",(0,r.jsx)(n.p,{children:"\u5229\u7528\u6A21\u677F\u529F\u80FD\u6279\u91CF\u751F\u6210\u6807\u7B7E\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: dynamic-pci-labels\nspec:\n  rules:\n    - name: "enumerate all pci devices"\n      labelsTemplate: |\n        {{ range .pci.device }}\n        pci.device.{{ .vendor }}-{{ .device }}.present=true\n        {{ end }}\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: Exists}\n\n    - name: "count gpu devices"\n      labelsTemplate: |\n        gpu.count={{ len .pci.device }}\n        {{ $first := index .pci.device 0 }}\n        gpu.primary.vendor={{ $first.vendor }}\n        gpu.primary.device={{ $first.device }}\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de", "1002"]}  # NVIDIA or AMD\n            class: {op: In, value: ["0300", "0302"]}\n\n    - name: "network interfaces summary"\n      labelsTemplate: |\n        {{ $total := 0 }}\n        {{ $highspeed := 0 }}\n        {{ range .network.device }}\n        {{ $speed := .speed | int }}\n        {{ $total = add $total 1 }}\n        {{ if ge $speed 10000 }}\n        {{ $highspeed = add $highspeed 1 }}\n        {{ end }}\n        {{ end }}\n        network.interfaces.total={{ $total }}\n        network.interfaces.highspeed={{ $highspeed }}\n      matchFeatures:\n        - feature: network.device\n          matchExpressions:\n            name: {op: Exists}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u793A\u4F8B8\u590D\u6742\u89C4\u5219\u7EC4\u5408\u548C\u53D8\u91CF\u4F20\u9012",children:"\u793A\u4F8B8\uFF1A\u590D\u6742\u89C4\u5219\u7EC4\u5408\u548C\u53D8\u91CF\u4F20\u9012"}),"\n",(0,r.jsx)(n.p,{children:"\u4F7F\u7528\u53D8\u91CF\u6784\u5EFA\u590D\u6742\u7684\u89C4\u5219\u5C42\u6B21\uFF1A"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: nfd.k8s-sigs.io/v1alpha1\nkind: NodeFeatureRule\nmetadata:\n  name: advanced-node-classification\nspec:\n  rules:\n    # \u7B2C\u4E00\u6B65\uFF1A\u68C0\u6D4B\u57FA\u7840\u786C\u4EF6\n    - name: "detect-gpu"\n      vars:\n        has_nvidia_gpu: "true"\n      matchFeatures:\n        - feature: pci.device\n          matchExpressions:\n            vendor: {op: In, value: ["10de"]}\n            class: {op: In, value: ["0300", "0302"]}\n\n    - name: "detect-high-end-cpu"\n      vars:\n        has_avx512: "true"\n        cpu_tier: "high"\n      matchFeatures:\n        - feature: cpu.cpuid\n          matchExpressions:\n            AVX512F: {op: Exists}\n        - feature: cpu.topology\n          matchExpressions:\n            socket_count: {op: Ge, value: ["2"]}\n\n    - name: "detect-fast-network"\n      vars:\n        has_fast_network: "true"\n      matchFeatures:\n        - feature: network.device\n          matchExpressions:\n            speed: {op: Ge, value: ["25000"]}\n            sriov_totalvfs: {op: Gt, value: ["0"]}\n\n    # \u7B2C\u4E8C\u6B65\uFF1A\u57FA\u4E8E\u53D8\u91CF\u7EC4\u5408\u751F\u6210\u9AD8\u5C42\u6807\u7B7E\n    - name: "ai-training-node"\n      labels:\n        "node.workload.type": "ai-training"\n        "node.tier": "premium"\n      taints:\n        - key: "workload.ai-training"\n          value: "true"\n          effect: NoSchedule\n      matchFeatures:\n        - feature: rule.matched\n          matchExpressions:\n            has_nvidia_gpu: {op: IsTrue}\n            has_avx512: {op: IsTrue}\n            has_fast_network: {op: IsTrue}\n\n    - name: "ai-inference-node"\n      labels:\n        "node.workload.type": "ai-inference"\n        "node.tier": "standard"\n      matchFeatures:\n        - feature: rule.matched\n          matchExpressions:\n            has_nvidia_gpu: {op: IsTrue}\n            has_avx512: {op: DoesNotExist}\n\n    - name: "hpc-compute-node"\n      labels:\n        "node.workload.type": "hpc-compute"\n        "node.tier": "premium"\n      matchFeatures:\n        - feature: rule.matched\n          matchExpressions:\n            has_avx512: {op: IsTrue}\n            has_fast_network: {op: IsTrue}\n            has_nvidia_gpu: {op: DoesNotExist}\n\n    - name: "general-purpose-node"\n      labels:\n        "node.workload.type": "general-purpose"\n        "node.tier": "standard"\n      matchFeatures:\n        - feature: rule.matched\n          matchExpressions:\n            has_nvidia_gpu: {op: DoesNotExist}\n            has_avx512: {op: DoesNotExist}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kubernetes-sigs.github.io/node-feature-discovery/",children:"Node Feature Discovery\u5B98\u65B9\u6587\u6863"})}),"\n"]})]})}function x(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return i},a:function(){return l}});var d=s(67294);let r={},c=d.createContext(r);function l(e){let n=d.useContext(c);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(c.Provider,{value:n},e.children)}}}]);