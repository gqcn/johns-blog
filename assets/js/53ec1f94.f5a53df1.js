"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["1163"],{76617:function(e,d,s){s.r(d),s.d(d,{metadata:()=>n,contentTitle:()=>l,default:()=>j,assets:()=>h,toc:()=>t,frontMatter:()=>i});var n=JSON.parse('{"id":"docs/\u53EF\u89C2\u6D4B\u6027/\u76D1\u63A7\u6280\u672F/Prometheus: \u67E5\u8BE2\u51FD\u6570","title":"Prometheus: \u67E5\u8BE2\u51FD\u6570","description":"\u8BE6\u7EC6\u4ECB\u7ECDPrometheus\u7684\u5B8C\u6574\u67E5\u8BE2\u51FD\u6570\u5217\u8868\u53CA\u5176\u7528\u6CD5\uFF0C\u5305\u62EC\u6570\u5B66\u51FD\u6570\u3001\u65F6\u95F4\u51FD\u6570\u3001\u805A\u5408\u51FD\u6570\u3001\u76F4\u65B9\u56FE\u51FD\u6570\u7B49\uFF0C\u4EE5\u53CAGrafana\u4E2D\u67E5\u8BE2Prometheus\u6570\u636E\u65F6\u7684\u7279\u6709\u53D8\u91CF\u548C\u51FD\u6570\u3002","source":"@site/docs/docs/5000-\u53EF\u89C2\u6D4B\u6027/1-\u76D1\u63A7\u6280\u672F/1500-Prometheus: \u67E5\u8BE2\u51FD\u6570.md","sourceDirName":"docs/5000-\u53EF\u89C2\u6D4B\u6027/1-\u76D1\u63A7\u6280\u672F","slug":"/observability/prometheus-query-functions","permalink":"/observability/prometheus-query-functions","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1500,"frontMatter":{"slug":"/observability/prometheus-query-functions","title":"Prometheus: \u67E5\u8BE2\u51FD\u6570","hide_title":true,"keywords":["Prometheus","PromQL","\u67E5\u8BE2\u51FD\u6570","\u76D1\u63A7","Grafana","\u65F6\u95F4\u5E8F\u5217","\u805A\u5408\u51FD\u6570","rate","increase","histogram"],"description":"\u8BE6\u7EC6\u4ECB\u7ECDPrometheus\u7684\u5B8C\u6574\u67E5\u8BE2\u51FD\u6570\u5217\u8868\u53CA\u5176\u7528\u6CD5\uFF0C\u5305\u62EC\u6570\u5B66\u51FD\u6570\u3001\u65F6\u95F4\u51FD\u6570\u3001\u805A\u5408\u51FD\u6570\u3001\u76F4\u65B9\u56FE\u51FD\u6570\u7B49\uFF0C\u4EE5\u53CAGrafana\u4E2D\u67E5\u8BE2Prometheus\u6570\u636E\u65F6\u7684\u7279\u6709\u53D8\u91CF\u548C\u51FD\u6570\u3002"},"sidebar":"mainSidebar","previous":{"title":"\u76D1\u63A7\u6280\u672F","permalink":"/observability/monitoring"},"next":{"title":"Prometheus: rate\u4E0Eirate","permalink":"/observability/prometheus-rate-irate"}}'),r=s("85893"),c=s("50065");let i={slug:"/observability/prometheus-query-functions",title:"Prometheus: \u67E5\u8BE2\u51FD\u6570",hide_title:!0,keywords:["Prometheus","PromQL","\u67E5\u8BE2\u51FD\u6570","\u76D1\u63A7","Grafana","\u65F6\u95F4\u5E8F\u5217","\u805A\u5408\u51FD\u6570","rate","increase","histogram"],description:"\u8BE6\u7EC6\u4ECB\u7ECDPrometheus\u7684\u5B8C\u6574\u67E5\u8BE2\u51FD\u6570\u5217\u8868\u53CA\u5176\u7528\u6CD5\uFF0C\u5305\u62EC\u6570\u5B66\u51FD\u6570\u3001\u65F6\u95F4\u51FD\u6570\u3001\u805A\u5408\u51FD\u6570\u3001\u76F4\u65B9\u56FE\u51FD\u6570\u7B49\uFF0C\u4EE5\u53CAGrafana\u4E2D\u67E5\u8BE2Prometheus\u6570\u636E\u65F6\u7684\u7279\u6709\u53D8\u91CF\u548C\u51FD\u6570\u3002"},l=void 0,h={},t=[{value:"\u6570\u5B66\u51FD\u6570",id:"\u6570\u5B66\u51FD\u6570",level:2},{value:"\u9650\u5236\u51FD\u6570",id:"\u9650\u5236\u51FD\u6570",level:2},{value:"\u65F6\u95F4\u548C\u65E5\u671F\u51FD\u6570",id:"\u65F6\u95F4\u548C\u65E5\u671F\u51FD\u6570",level:2},{value:"\u53D8\u5316\u7387\u548C\u589E\u957F\u51FD\u6570",id:"\u53D8\u5316\u7387\u548C\u589E\u957F\u51FD\u6570",level:2},{value:"\u805A\u5408\u51FD\u6570\uFF08\u65F6\u95F4\u8303\u56F4\uFF09",id:"\u805A\u5408\u51FD\u6570\u65F6\u95F4\u8303\u56F4",level:2},{value:"\u5B9E\u9A8C\u6027\u805A\u5408\u51FD\u6570\uFF08\u9700\u8981\u542F\u7528\u7279\u6027\u6807\u5FD7\uFF09",id:"\u5B9E\u9A8C\u6027\u805A\u5408\u51FD\u6570\u9700\u8981\u542F\u7528\u7279\u6027\u6807\u5FD7",level:2},{value:"\u76F4\u65B9\u56FE\u51FD\u6570",id:"\u76F4\u65B9\u56FE\u51FD\u6570",level:2},{value:"\u6807\u7B7E\u64CD\u4F5C\u51FD\u6570",id:"\u6807\u7B7E\u64CD\u4F5C\u51FD\u6570",level:2},{value:"\u6392\u5E8F\u51FD\u6570",id:"\u6392\u5E8F\u51FD\u6570",level:2},{value:"\u7F3A\u5931\u503C\u68C0\u6D4B\u51FD\u6570",id:"\u7F3A\u5931\u503C\u68C0\u6D4B\u51FD\u6570",level:2},{value:"\u7C7B\u578B\u8F6C\u6362\u51FD\u6570",id:"\u7C7B\u578B\u8F6C\u6362\u51FD\u6570",level:2},{value:"\u5143\u6570\u636E\u51FD\u6570",id:"\u5143\u6570\u636E\u51FD\u6570",level:2},{value:"\u4E09\u89D2\u51FD\u6570",id:"\u4E09\u89D2\u51FD\u6570",level:2}];function x(e){let d={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.p,{children:["\u53C2\u8003",(0,r.jsx)(d.code,{children:"Prometheus"}),"\u5B98\u7F51\u6587\u6863\uFF1A",(0,r.jsx)(d.a,{href:"https://prometheus.io/docs/prometheus/latest/querying/functions/",children:"https://prometheus.io/docs/prometheus/latest/querying/functions/"})]}),"\n",(0,r.jsx)(d.h2,{id:"\u6570\u5B66\u51FD\u6570",children:"\u6570\u5B66\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"abs()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u8F93\u5165\u5411\u91CF\u4E2D\u6240\u6709\u6D6E\u70B9\u6837\u672C\u7684\u7EDD\u5BF9\u503C"}),(0,r.jsx)(d.td,{children:"\u5305\u542B\u7EDD\u5BF9\u503C\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ceil()"})}),(0,r.jsx)(d.td,{children:"\u5411\u4E0A\u53D6\u6574\u5230\u6700\u63A5\u8FD1\u7684\u6574\u6570"}),(0,r.jsx)(d.td,{children:"\u5411\u4E0A\u53D6\u6574\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"floor()"})}),(0,r.jsx)(d.td,{children:"\u5411\u4E0B\u53D6\u6574\u5230\u6700\u63A5\u8FD1\u7684\u6574\u6570"}),(0,r.jsx)(d.td,{children:"\u5411\u4E0B\u53D6\u6574\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"round()"})}),(0,r.jsx)(d.td,{children:"\u56DB\u820D\u4E94\u5165\u5230\u6700\u63A5\u8FD1\u7684\u6574\u6570"}),(0,r.jsx)(d.td,{children:"\u56DB\u820D\u4E94\u5165\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"exp()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u6307\u6570\u51FD\u6570",(0,r.jsx)(d.code,{children:"e^x"})]}),(0,r.jsx)(d.td,{children:"\u6307\u6570\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ln()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u81EA\u7136\u5BF9\u6570"}),(0,r.jsx)(d.td,{children:"\u81EA\u7136\u5BF9\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"log2()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u4EE5",(0,r.jsx)(d.code,{children:"2"}),"\u4E3A\u5E95\u7684\u5BF9\u6570"]}),(0,r.jsx)(d.td,{children:"\u5BF9\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"log10()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u4EE5",(0,r.jsx)(d.code,{children:"10"}),"\u4E3A\u5E95\u7684\u5BF9\u6570"]}),(0,r.jsx)(d.td,{children:"\u5BF9\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sqrt()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u5E73\u65B9\u6839"}),(0,r.jsx)(d.td,{children:"\u5E73\u65B9\u6839\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sgn()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u7B26\u53F7\uFF1A\u6B63\u6570\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"1"}),"\uFF0C\u8D1F\u6570\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"-1"}),"\uFF0C\u96F6\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"0"})]}),(0,r.jsx)(d.td,{children:"\u7B26\u53F7\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u53D6\u7EDD\u5BF9\u503C\nabs(temperature)\n\n# \u5411\u4E0A\u53D6\u6574\nceil(cpu_usage)  # 1.49 \u2192 2.0\n\n# \u5411\u4E0B\u53D6\u6574\nfloor(memory_usage)  # 1.78 \u2192 1.0\n\n# \u56DB\u820D\u4E94\u5165\u5230\u6700\u63A5\u8FD1\u76840.5\nround(latency, 0.5)\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u9650\u5236\u51FD\u6570",children:"\u9650\u5236\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"clamp()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u503C\u9650\u5236\u5728\u6307\u5B9A\u7684\u6700\u5C0F\u503C\u548C\u6700\u5927\u503C\u4E4B\u95F4"}),(0,r.jsx)(d.td,{children:"\u9650\u5236\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"clamp_max()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u503C\u9650\u5236\u5728\u6307\u5B9A\u7684\u6700\u5927\u503C\u4EE5\u4E0B"}),(0,r.jsx)(d.td,{children:"\u9650\u5236\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"clamp_min()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u503C\u9650\u5236\u5728\u6307\u5B9A\u7684\u6700\u5C0F\u503C\u4EE5\u4E0A"}),(0,r.jsx)(d.td,{children:"\u9650\u5236\u540E\u7684\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u5C06CPU\u4F7F\u7528\u7387\u9650\u5236\u57280-100\u4E4B\u95F4\nclamp(cpu_usage, 0, 100)\n\n# \u5C06\u5185\u5B58\u4F7F\u7528\u9650\u5236\u57281024\u4EE5\u4E0B\nclamp_max(memory_usage_bytes, 1024*1024*1024)\n\n# \u786E\u4FDD\u78C1\u76D8\u4F7F\u7528\u7387\u4E0D\u4E3A\u8D1F\u6570\nclamp_min(disk_usage, 0)\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u65F6\u95F4\u548C\u65E5\u671F\u51FD\u6570",children:"\u65F6\u95F4\u548C\u65E5\u671F\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"time()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u81EA",(0,r.jsx)(d.code,{children:"1970\u5E741\u67081\u65E5UTC"}),"\u4EE5\u6765\u7684\u79D2\u6570"]}),(0,r.jsx)(d.td,{children:"\u5F53\u524D\u65F6\u95F4\u6233\uFF08\u79D2\uFF09"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"timestamp()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u5411\u91CF\u4E2D\u6BCF\u4E2A\u6837\u672C\u7684\u65F6\u95F4\u6233"}),(0,r.jsx)(d.td,{children:"\u65F6\u95F4\u6233\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"minute()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u65F6\u95F4\u6233\u7684\u5206\u949F\u90E8\u5206\uFF08",(0,r.jsx)(d.code,{children:"0-59"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5206\u949F\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"hour()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u65F6\u95F4\u6233\u7684\u5C0F\u65F6\u90E8\u5206\uFF08",(0,r.jsx)(d.code,{children:"0-23"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5C0F\u65F6\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"day_of_week()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u661F\u671F\u51E0\uFF08",(0,r.jsx)(d.code,{children:"0-6"}),"\uFF0C",(0,r.jsx)(d.code,{children:"0"}),"\u8868\u793A\u661F\u671F\u65E5\uFF09"]}),(0,r.jsx)(d.td,{children:"\u661F\u671F\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"day_of_month()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u6708\u4EFD\u4E2D\u7684\u7B2C\u51E0\u5929\uFF08",(0,r.jsx)(d.code,{children:"1-31"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u65E5\u671F\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"day_of_year()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u4E00\u5E74\u4E2D\u7684\u7B2C\u51E0\u5929\uFF08",(0,r.jsx)(d.code,{children:"1-365/366"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5929\u6570\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"days_in_month()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u6708\u4EFD\u7684\u5929\u6570\uFF08",(0,r.jsx)(d.code,{children:"28-31"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5929\u6570\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"month()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u6708\u4EFD\uFF08",(0,r.jsx)(d.code,{children:"1-12"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u6708\u4EFD\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"year()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u5E74\u4EFD"}),(0,r.jsx)(d.td,{children:"\u5E74\u4EFD\u503C\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u83B7\u53D6\u5F53\u524D\u5C0F\u65F6\uFF080-23\uFF09\nhour()\n\n# \u83B7\u53D6\u6307\u6807\u7684\u65F6\u95F4\u6233\ntimestamp(up)\n\n# \u53EA\u5728\u5DE5\u4F5C\u65E5\uFF08\u5468\u4E00\u5230\u5468\u4E94\uFF09\u6267\u884C\u544A\u8B66\nday_of_week() > 0 and day_of_week() < 6\n\n# \u83B7\u53D6\u5F53\u524D\u6708\u4EFD\nmonth()\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u53D8\u5316\u7387\u548C\u589E\u957F\u51FD\u6570",children:"\u53D8\u5316\u7387\u548C\u589E\u957F\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"rate()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u65F6\u95F4\u5E8F\u5217\u7684\u6BCF\u79D2\u5E73\u5747\u589E\u957F\u7387\uFF08\u7528\u4E8E",(0,r.jsx)(d.code,{children:"Counter"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u6BCF\u79D2\u589E\u957F\u7387\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"irate()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u5E8F\u5217\u7684\u77AC\u65F6\u589E\u957F\u7387\uFF08\u57FA\u4E8E\u6700\u540E\u4E24\u4E2A\u6570\u636E\u70B9\uFF09"}),(0,r.jsx)(d.td,{children:"\u77AC\u65F6\u589E\u957F\u7387\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"increase()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u589E\u957F\u91CF\uFF08\u7528\u4E8E",(0,r.jsx)(d.code,{children:"Counter"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u589E\u957F\u91CF\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"delta()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u5DEE\u503C\uFF08\u7528\u4E8E",(0,r.jsx)(d.code,{children:"Gauge"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5DEE\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"idelta()"})}),(0,r.jsxs)(d.td,{children:["\u8BA1\u7B97\u6700\u540E\u4E24\u4E2A\u6837\u672C\u4E4B\u95F4\u7684\u5DEE\u503C\uFF08\u7528\u4E8E",(0,r.jsx)(d.code,{children:"Gauge"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5DEE\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"deriv()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u5E8F\u5217\u7684\u6BCF\u79D2\u5BFC\u6570\uFF08\u4F7F\u7528\u7B80\u5355\u7EBF\u6027\u56DE\u5F52\uFF09"}),(0,r.jsx)(d.td,{children:"\u5BFC\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"predict_linear()"})}),(0,r.jsx)(d.td,{children:"\u57FA\u4E8E\u7EBF\u6027\u56DE\u5F52\u9884\u6D4B\u672A\u6765\u503C"}),(0,r.jsx)(d.td,{children:"\u9884\u6D4B\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"changes()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u65F6\u95F4\u8303\u56F4\u5185\u503C\u53D8\u5316\u7684\u6B21\u6570"}),(0,r.jsx)(d.td,{children:"\u53D8\u5316\u6B21\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"resets()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"Counter"}),"\u91CD\u7F6E\u7684\u6B21\u6570"]}),(0,r.jsx)(d.td,{children:"\u91CD\u7F6E\u6B21\u6570\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u8BA1\u7B97HTTP\u8BF7\u6C42\u7684\u6BCF\u79D2\u901F\u7387\nrate(http_requests_total[5m])\n\n# \u8BA1\u7B97\u8FC7\u53BB5\u5206\u949F\u7684\u8BF7\u6C42\u589E\u957F\u91CF\nincrease(http_requests_total[5m])\n\n# \u8BA1\u7B97CPU\u6E29\u5EA6\u57282\u5C0F\u65F6\u5185\u7684\u53D8\u5316\ndelta(cpu_temp_celsius[2h])\n\n# \u9884\u6D4B1\u5C0F\u65F6\u540E\u7684\u78C1\u76D8\u4F7F\u7528\u91CF\uFF083600\u79D2\u540E\uFF09\npredict_linear(disk_usage_bytes[1h], 3600)\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u805A\u5408\u51FD\u6570\u65F6\u95F4\u8303\u56F4",children:"\u805A\u5408\u51FD\u6570\uFF08\u65F6\u95F4\u8303\u56F4\uFF09"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"avg_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u5E73\u5747\u503C"}),(0,r.jsx)(d.td,{children:"\u5E73\u5747\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"min_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u6700\u5C0F\u503C"}),(0,r.jsx)(d.td,{children:"\u6700\u5C0F\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"max_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u6700\u5927\u503C"}),(0,r.jsx)(d.td,{children:"\u6700\u5927\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sum_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u603B\u548C"}),(0,r.jsx)(d.td,{children:"\u603B\u548C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"count_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u6837\u672C\u6570\u91CF"}),(0,r.jsx)(d.td,{children:"\u6837\u672C\u6570\u91CF\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"quantile_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u5206\u4F4D\u6570"}),(0,r.jsx)(d.td,{children:"\u5206\u4F4D\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"stddev_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u6807\u51C6\u5DEE"}),(0,r.jsx)(d.td,{children:"\u6807\u51C6\u5DEE\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"stdvar_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u65B9\u5DEE"}),(0,r.jsx)(d.td,{children:"\u65B9\u5DEE\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"last_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u65F6\u95F4\u8303\u56F4\u5185\u7684\u6700\u540E\u4E00\u4E2A\u6837\u672C"}),(0,r.jsx)(d.td,{children:"\u6700\u540E\u6837\u672C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"present_over_time()"})}),(0,r.jsx)(d.td,{children:"\u5982\u679C\u65F6\u95F4\u8303\u56F4\u5185\u6709\u4EFB\u4F55\u6837\u672C\u5219\u8FD4\u56DE1"}),(0,r.jsx)(d.td,{children:"0\u62161\u7684\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u8BA1\u7B97\u8FC7\u53BB5\u5206\u949FCPU\u4F7F\u7528\u7387\u7684\u5E73\u5747\u503C\navg_over_time(cpu_usage[5m])\n\n# \u83B7\u53D6\u8FC7\u53BB1\u5C0F\u65F6\u6E29\u5EA6\u7684\u6700\u5927\u503C\nmax_over_time(temperature[1h])\n\n# \u8BA1\u7B97\u8FC7\u53BB5\u5206\u949F\u768495\u5206\u4F4D\u5EF6\u8FDF\nquantile_over_time(0.95, http_request_duration_seconds[5m])\n\n# \u68C0\u67E5\u6307\u6807\u5728\u8FC7\u53BB5\u5206\u949F\u5185\u662F\u5426\u6709\u6570\u636E\npresent_over_time(up[5m])\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u5B9E\u9A8C\u6027\u805A\u5408\u51FD\u6570\u9700\u8981\u542F\u7528\u7279\u6027\u6807\u5FD7",children:"\u5B9E\u9A8C\u6027\u805A\u5408\u51FD\u6570\uFF08\u9700\u8981\u542F\u7528\u7279\u6027\u6807\u5FD7\uFF09"}),"\n",(0,r.jsxs)(d.p,{children:["\u8FD9\u4E9B\u51FD\u6570\u9700\u8981\u901A\u8FC7 ",(0,r.jsx)(d.code,{children:"--enable-feature=promql-experimental-functions"})," \u542F\u7528\u3002"]}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"mad_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u65F6\u95F4\u8303\u56F4\u5185\u7684\u4E2D\u4F4D\u6570\u7EDD\u5BF9\u504F\u5DEE"}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"MAD"}),"\u503C\u5411\u91CF"]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"first_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u65F6\u95F4\u8303\u56F4\u5185\u7684\u7B2C\u4E00\u4E2A\u6837\u672C"}),(0,r.jsx)(d.td,{children:"\u7B2C\u4E00\u4E2A\u6837\u672C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ts_of_first_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u6837\u672C\u7684\u65F6\u95F4\u6233"}),(0,r.jsx)(d.td,{children:"\u65F6\u95F4\u6233\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ts_of_last_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u6700\u540E\u4E00\u4E2A\u6837\u672C\u7684\u65F6\u95F4\u6233"}),(0,r.jsx)(d.td,{children:"\u65F6\u95F4\u6233\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ts_of_min_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u6700\u5C0F\u503C\u6837\u672C\u7684\u65F6\u95F4\u6233"}),(0,r.jsx)(d.td,{children:"\u65F6\u95F4\u6233\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"ts_of_max_over_time()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u6700\u5927\u503C\u6837\u672C\u7684\u65F6\u95F4\u6233"}),(0,r.jsx)(d.td,{children:"\u65F6\u95F4\u6233\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"double_exponential_smoothing()"})}),(0,r.jsxs)(d.td,{children:["\u53CC\u6307\u6570\u5E73\u6ED1\uFF08",(0,r.jsx)(d.code,{children:"Holt Linear"}),"\uFF09"]}),(0,r.jsx)(d.td,{children:"\u5E73\u6ED1\u503C\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u83B7\u53D6\u65F6\u95F4\u8303\u56F4\u5185\u7684\u7B2C\u4E00\u4E2A\u6837\u672C\nfirst_over_time(metric[5m])\n\n# \u83B7\u53D6\u6700\u5927\u503C\u51FA\u73B0\u7684\u65F6\u95F4\u6233\nts_of_max_over_time(cpu_usage[1h])\n\n# \u53CC\u6307\u6570\u5E73\u6ED1\uFF08\u5E73\u6ED1\u56E0\u5B500.5\uFF0C\u8D8B\u52BF\u56E0\u5B500.5\uFF09\ndouble_exponential_smoothing(metric[5m], 0.5, 0.5)\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u76F4\u65B9\u56FE\u51FD\u6570",children:"\u76F4\u65B9\u56FE\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_count()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u76F4\u65B9\u56FE\u4E2D\u7684\u89C2\u6D4B\u6570\u91CF"}),(0,r.jsx)(d.td,{children:"\u8BA1\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_sum()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u76F4\u65B9\u56FE\u4E2D\u7684\u89C2\u6D4B\u603B\u548C"}),(0,r.jsx)(d.td,{children:"\u603B\u548C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_avg()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u76F4\u65B9\u56FE\u7684\u7B97\u672F\u5E73\u5747\u503C"}),(0,r.jsx)(d.td,{children:"\u5E73\u5747\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_quantile()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u76F4\u65B9\u56FE\u7684\u5206\u4F4D\u6570"}),(0,r.jsx)(d.td,{children:"\u5206\u4F4D\u6570\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_fraction()"})}),(0,r.jsx)(d.td,{children:"\u8BA1\u7B97\u6307\u5B9A\u8303\u56F4\u5185\u7684\u89C2\u6D4B\u6BD4\u4F8B"}),(0,r.jsx)(d.td,{children:"\u6BD4\u4F8B\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_stddev()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u76F4\u65B9\u56FE\u7684\u6807\u51C6\u5DEE\u4F30\u8BA1\u503C"}),(0,r.jsx)(d.td,{children:"\u6807\u51C6\u5DEE\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"histogram_stdvar()"})}),(0,r.jsx)(d.td,{children:"\u8FD4\u56DE\u76F4\u65B9\u56FE\u7684\u65B9\u5DEE\u4F30\u8BA1\u503C"}),(0,r.jsx)(d.td,{children:"\u65B9\u5DEE\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u8BA1\u7B9790\u5206\u4F4D\u7684\u8BF7\u6C42\u5EF6\u8FDF\uFF08\u7ECF\u5178\u76F4\u65B9\u56FE\uFF09\nhistogram_quantile(0.9, rate(http_request_duration_seconds_bucket[10m]))\n\n# \u8BA1\u7B97\u5E73\u5747\u8BF7\u6C42\u5EF6\u8FDF\uFF08\u539F\u751F\u76F4\u65B9\u56FE\uFF09\nhistogram_avg(rate(http_request_duration_seconds[5m]))\n\n# \u8BA1\u7B97200ms\u4EE5\u5185\u8BF7\u6C42\u7684\u6BD4\u4F8B\nhistogram_fraction(0, 0.2, rate(http_request_duration_seconds[1h]))\n\n# \u6309job\u805A\u5408\u8BA1\u7B9790\u5206\u4F4D\u5EF6\u8FDF\nhistogram_quantile(0.9, sum by (job, le) (rate(http_request_duration_seconds_bucket[10m])))\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u6807\u7B7E\u64CD\u4F5C\u51FD\u6570",children:"\u6807\u7B7E\u64CD\u4F5C\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"label_join()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u591A\u4E2A\u6807\u7B7E\u7684\u503C\u8FDE\u63A5\u6210\u65B0\u6807\u7B7E"}),(0,r.jsx)(d.td,{children:"\u5E26\u65B0\u6807\u7B7E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"label_replace()"})}),(0,r.jsx)(d.td,{children:"\u4F7F\u7528\u6B63\u5219\u8868\u8FBE\u5F0F\u66FF\u6362\u6807\u7B7E\u503C"}),(0,r.jsx)(d.td,{children:"\u66FF\u6362\u540E\u7684\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:'# \u5C06\u591A\u4E2A\u6807\u7B7E\u8FDE\u63A5\u6210\u65B0\u6807\u7B7E\nlabel_join(up{job="api-server"}, "endpoint", ":", "instance", "port")\n\n# \u4F7F\u7528\u6B63\u5219\u63D0\u53D6\u6807\u7B7E\u7684\u4E00\u90E8\u5206\nlabel_replace(up{service="api:v1"}, "version", "$1", "service", ".*:(.*)")\n\n# \u4ECEinstance\u6807\u7B7E\u4E2D\u63D0\u53D6\u4E3B\u673A\u540D\nlabel_replace(up, "host", "$1", "instance", "([^:]+):.*")\n'})}),"\n",(0,r.jsx)(d.h2,{id:"\u6392\u5E8F\u51FD\u6570",children:"\u6392\u5E8F\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sort()"})}),(0,r.jsx)(d.td,{children:"\u6309\u6837\u672C\u503C\u5347\u5E8F\u6392\u5E8F"}),(0,r.jsx)(d.td,{children:"\u6392\u5E8F\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sort_desc()"})}),(0,r.jsx)(d.td,{children:"\u6309\u6837\u672C\u503C\u964D\u5E8F\u6392\u5E8F"}),(0,r.jsx)(d.td,{children:"\u6392\u5E8F\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sort_by_label()"})}),(0,r.jsx)(d.td,{children:"\u6309\u6807\u7B7E\u503C\u5347\u5E8F\u6392\u5E8F\uFF08\u5B9E\u9A8C\u6027\uFF09"}),(0,r.jsx)(d.td,{children:"\u6392\u5E8F\u540E\u7684\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sort_by_label_desc()"})}),(0,r.jsx)(d.td,{children:"\u6309\u6807\u7B7E\u503C\u964D\u5E8F\u6392\u5E8F\uFF08\u5B9E\u9A8C\u6027\uFF09"}),(0,r.jsx)(d.td,{children:"\u6392\u5E8F\u540E\u7684\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:'# \u6309\u8BF7\u6C42\u6570\u964D\u5E8F\u6392\u5217\nsort_desc(http_requests_total)\n\n# \u6309instance\u6807\u7B7E\u5347\u5E8F\u6392\u5217\nsort_by_label(up, "instance")\n'})}),"\n",(0,r.jsx)(d.h2,{id:"\u7F3A\u5931\u503C\u68C0\u6D4B\u51FD\u6570",children:"\u7F3A\u5931\u503C\u68C0\u6D4B\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"absent()"})}),(0,r.jsxs)(d.td,{children:["\u5982\u679C\u5411\u91CF\u4E3A\u7A7A\u5219\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"1"}),"\uFF0C\u5426\u5219\u8FD4\u56DE\u7A7A\u5411\u91CF"]}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"0"}),"\u6216",(0,r.jsx)(d.code,{children:"1"}),"\u7684\u5411\u91CF"]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"absent_over_time()"})}),(0,r.jsxs)(d.td,{children:["\u5982\u679C\u65F6\u95F4\u8303\u56F4\u5185\u5411\u91CF\u4E3A\u7A7A\u5219\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"1"})]}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"0"}),"\u6216",(0,r.jsx)(d.code,{children:"1"}),"\u7684\u5411\u91CF"]})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:'# \u68C0\u6D4B\u6307\u6807\u662F\u5426\u4E0D\u5B58\u5728\uFF08\u7528\u4E8E\u544A\u8B66\uFF09\nabsent(up{job="api-server"})\n\n# \u68C0\u6D4B\u8FC7\u53BB1\u5C0F\u65F6\u5185\u662F\u5426\u6CA1\u6709\u6570\u636E\nabsent_over_time(up{job="api-server"}[1h])\n'})}),"\n",(0,r.jsx)(d.h2,{id:"\u7C7B\u578B\u8F6C\u6362\u51FD\u6570",children:"\u7C7B\u578B\u8F6C\u6362\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"scalar()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u5355\u5143\u7D20\u5411\u91CF\u8F6C\u6362\u4E3A\u6807\u91CF"}),(0,r.jsxs)(d.td,{children:["\u6807\u91CF\u503C\u6216",(0,r.jsx)(d.code,{children:"NaN"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"vector()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u6807\u91CF\u8F6C\u6362\u4E3A\u5411\u91CF"}),(0,r.jsx)(d.td,{children:"\u5355\u5143\u7D20\u5411\u91CF"})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u5C06\u805A\u5408\u7ED3\u679C\u8F6C\u6362\u4E3A\u6807\u91CF\u7528\u4E8E\u8BA1\u7B97\nscalar(sum(up))\n\n# \u5C06\u5E38\u91CF\u8F6C\u6362\u4E3A\u5411\u91CF\nvector(100)\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u5143\u6570\u636E\u51FD\u6570",children:"\u5143\u6570\u636E\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"info()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE\u5305\u542B",(0,r.jsx)(d.code,{children:"info"}),"\u6807\u7B7E\u7684\u6307\u6807\u4FE1\u606F"]}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"info"}),"\u7C7B\u578B\u6307\u6807"]})]})})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u83B7\u53D6\u76EE\u6807\u7684\u5143\u6570\u636E\u4FE1\u606F\ntarget_info\n"})}),"\n",(0,r.jsx)(d.h2,{id:"\u4E09\u89D2\u51FD\u6570",children:"\u4E09\u89D2\u51FD\u6570"}),"\n",(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u51FD\u6570\u540D\u79F0"}),(0,r.jsx)(d.th,{children:"\u51FD\u6570\u63CF\u8FF0"}),(0,r.jsx)(d.th,{children:"\u8FD4\u56DE\u503C"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"acos()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u4F59\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u4F59\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"acosh()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u4F59\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u4F59\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"asin()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u6B63\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u6B63\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"asinh()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u6B63\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u6B63\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"atan()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u6B63\u5207\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u6B63\u5207\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"atanh()"})}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u6B63\u5207\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CD\u53CC\u66F2\u6B63\u5207\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cos()"})}),(0,r.jsx)(d.td,{children:"\u4F59\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u4F59\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"cosh()"})}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u4F59\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u4F59\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sin()"})}),(0,r.jsx)(d.td,{children:"\u6B63\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u6B63\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"sinh()"})}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u6B63\u5F26\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u6B63\u5F26\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"tan()"})}),(0,r.jsx)(d.td,{children:"\u6B63\u5207\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u6B63\u5207\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"tanh()"})}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u6B63\u5207\u51FD\u6570"}),(0,r.jsx)(d.td,{children:"\u53CC\u66F2\u6B63\u5207\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"deg()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u5F27\u5EA6\u8F6C\u6362\u4E3A\u89D2\u5EA6"}),(0,r.jsx)(d.td,{children:"\u89D2\u5EA6\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"rad()"})}),(0,r.jsx)(d.td,{children:"\u5C06\u89D2\u5EA6\u8F6C\u6362\u4E3A\u5F27\u5EA6"}),(0,r.jsx)(d.td,{children:"\u5F27\u5EA6\u503C\u5411\u91CF"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"pi()"})}),(0,r.jsxs)(d.td,{children:["\u8FD4\u56DE",(0,r.jsx)(d.code,{children:"\u03C0"}),"\u7684\u503C"]}),(0,r.jsxs)(d.td,{children:[(0,r.jsx)(d.code,{children:"\u03C0"}),"\u503C"]})]})]})]}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5E38\u7528\u793A\u4F8B\uFF1A"})}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"# \u83B7\u53D6\u03C0\u7684\u503C\npi()\n\n# \u5C06\u89D2\u5EA6\u8F6C\u6362\u4E3A\u5F27\u5EA6\nrad(90)  # \u7ED3\u679C\u7EA6\u4E3A1.5708\n\n# \u5C06\u5F27\u5EA6\u8F6C\u6362\u4E3A\u89D2\u5EA6\ndeg(pi())  # \u7ED3\u679C\u4E3A180\n"})})]})}function j(e={}){let{wrapper:d}={...(0,c.a)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},50065:function(e,d,s){s.d(d,{Z:function(){return l},a:function(){return i}});var n=s(67294);let r={},c=n.createContext(r);function i(e){let d=n.useContext(c);return n.useMemo(function(){return"function"==typeof e?e(d):{...d,...e}},[d,e])}function l(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(c.Provider,{value:d},e.children)}}}]);