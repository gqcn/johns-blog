(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["4135"],{81529:function(e,d,n){e.exports={src:{srcSet:n.p+"assets/ideal-img/image-2024-5-24_15-31-18.92d9e8d.640.png 640w,"+n.p+"assets/ideal-img/image-2024-5-24_15-31-18.c6c43e1.1838.png 1838w",images:[{path:n.p+"assets/ideal-img/image-2024-5-24_15-31-18.92d9e8d.640.png",width:640,height:476},{path:n.p+"assets/ideal-img/image-2024-5-24_15-31-18.c6c43e1.1838.png",width:1838,height:1366}],src:n.p+"assets/ideal-img/image-2024-5-24_15-31-18.92d9e8d.640.png",toString:function(){return n.p+"assets/ideal-img/image-2024-5-24_15-31-18.92d9e8d.640.png"},placeholder:void 0,width:640,height:476},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAr0lEQVR4nE2QWWpDMQxFva2850GWJY99CaWQfGT/67hBLoV+HCSBOBrc+H6jzBdIJmqf6HOhaAMVQcpl5yESHPUf8HiC6wVtE9rHbmKpyKIgERw+wp3ewyiiWNcd63qgjQVtA7UP5KK4HR7OxwwfGSyKsS70+bWxOqS8x59mDIngU0Zm2fuY4Q9i2fEM6dcYiBGJt+E/PhJMdDtOOCoNJGM3msGwQ+wDRSoSK46k+AAwy3zGd5EicAAAAABJRU5ErkJggg=="}},71161:function(e,d,n){"use strict";n.r(d),n.d(d,{metadata:()=>l,contentTitle:()=>o,default:()=>h,assets:()=>t,toc:()=>c,frontMatter:()=>r});var l=JSON.parse('{"id":"docs/\u5F00\u53D1\u8BED\u8A00/Golang/\u4F7F\u7528goland remote debug\u8FDC\u7A0B\u8C03\u8BD5","title":"\u4F7F\u7528goland remote debug\u8FDC\u7A0B\u8C03\u8BD5","description":"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u4F7F\u7528 Goland IDE \u7684 Remote Debug \u529F\u80FD\u8FDB\u884C\u8FDC\u7A0B\u8C03\u8BD5\uFF0C\u5305\u62EC dlv \u5DE5\u5177\u7684\u5B89\u88C5\u548C\u914D\u7F6E\u8FC7\u7A0B","source":"@site/docs/docs/2800-\u5F00\u53D1\u8BED\u8A00/0-Golang/11-\u4F7F\u7528goland remote debug\u8FDC\u7A0B\u8C03\u8BD5.mdx","sourceDirName":"docs/2800-\u5F00\u53D1\u8BED\u8A00/0-Golang","slug":"/programming/goland-remote-debug","permalink":"/programming/goland-remote-debug","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"slug":"/programming/goland-remote-debug","title":"\u4F7F\u7528goland remote debug\u8FDC\u7A0B\u8C03\u8BD5","hide_title":true,"keywords":["Goland","\u8FDC\u7A0B\u8C03\u8BD5","dlv","Remote Debug","Kubernetes","\u8C03\u8BD5\u5DE5\u5177"],"description":"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u4F7F\u7528 Goland IDE \u7684 Remote Debug \u529F\u80FD\u8FDB\u884C\u8FDC\u7A0B\u8C03\u8BD5\uFF0C\u5305\u62EC dlv \u5DE5\u5177\u7684\u5B89\u88C5\u548C\u914D\u7F6E\u8FC7\u7A0B"},"sidebar":"mainSidebar","previous":{"title":"\u4E00\u4E2AGolang\u7A0B\u5E8F\u5185\u5B58\u5360\u7528\u95EE\u9898\u6392\u67E5\u4F18\u5316\uFF08\u590D\u76D8\uFF09","permalink":"/programming/golang-memory-optimization-case"},"next":{"title":"\u6280\u672F\u67B6\u6784","permalink":"/architecture"}}'),i=n("85893"),a=n("50065"),s=n("85874");let r={slug:"/programming/goland-remote-debug",title:"\u4F7F\u7528goland remote debug\u8FDC\u7A0B\u8C03\u8BD5",hide_title:!0,keywords:["Goland","\u8FDC\u7A0B\u8C03\u8BD5","dlv","Remote Debug","Kubernetes","\u8C03\u8BD5\u5DE5\u5177"],description:"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u4F7F\u7528 Goland IDE \u7684 Remote Debug \u529F\u80FD\u8FDB\u884C\u8FDC\u7A0B\u8C03\u8BD5\uFF0C\u5305\u62EC dlv \u5DE5\u5177\u7684\u5B89\u88C5\u548C\u914D\u7F6E\u8FC7\u7A0B"},o=void 0,t={},c=[{value:"\u5B89\u88C5dlv\u5DE5\u5177",id:"\u5B89\u88C5dlv\u5DE5\u5177",level:2},{value:"\u91CD\u65B0\u7F16\u8BD1\u7A0B\u5E8F",id:"\u91CD\u65B0\u7F16\u8BD1\u7A0B\u5E8F",level:2},{value:"\u8FDB\u5BB9\u5668\u6267\u884C\u7A0B\u5E8F",id:"\u8FDB\u5BB9\u5668\u6267\u884C\u7A0B\u5E8F",level:2},{value:"\xa0\u6267\u884C\u53CD\u5411\u4EE3\u7406\u5230dlv",id:"\u6267\u884C\u53CD\u5411\u4EE3\u7406\u5230dlv",level:2},{value:"\u5F00\u542Fgoland remote debug",id:"\u5F00\u542Fgoland-remote-debug",level:2}];function g(e){let d={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.p,{children:["\u5F53\u6211\u4EEC\u9700\u8981\u7279\u5B9A\u7684\u8FD0\u884C\u73AF\u5883\u624D\u80FD\u590D\u73B0\u67D0\u4E9B\u7591\u96BE\u95EE\u9898\uFF0C\u901A\u8FC7",(0,i.jsx)(d.code,{children:"goland"}),"\u7684",(0,i.jsx)(d.code,{children:"remote debug"}),"\u529F\u80FD\u53EF\u4EE5\u5B9E\u73B0\u5F88\u65B9\u4FBF\u7684\u8FDC\u7A0B\u8C03\u8BD5\uFF0C\u5FEB\u901F\u5B9A\u4F4D\u95EE\u9898\u3002\u6211\u8FD9\u91CC\u4EE5\u8FDC\u7A0B\u8C03\u8BD5",(0,i.jsx)(d.code,{children:"Kubernetes"}),"\u96C6\u7FA4\u4E2D\u7684",(0,i.jsx)(d.code,{children:"golang"}),"\u7A0B\u5E8F\u4E3A\u793A\u4F8B\u6F14\u793A\u5982\u4F55\u4F7F\u7528",(0,i.jsx)(d.code,{children:"goland"}),"\u7684",(0,i.jsx)(d.code,{children:"remote debug"}),"\u529F\u80FD\u3002"]}),"\n",(0,i.jsx)(d.h2,{id:"\u5B89\u88C5dlv\u5DE5\u5177",children:"\u5B89\u88C5dlv\u5DE5\u5177"}),"\n",(0,i.jsxs)(d.p,{children:["\u662F\u7684\uFF0C\u4F60\u6CA1\u731C\u9519\uFF0C\u8FD9\u4E2A\u73A9\u610F\u662F\u62FF\u6765\u8FDC\u7A0B\u4EA4\u4E92",(0,i.jsx)(d.code,{children:"debug"}),"\u5DE5\u4F5C\u7684\uFF1A",(0,i.jsx)(d.a,{href:"https://github.com/go-delve/delve",children:"https://github.com/go-delve/delve"})]}),"\n",(0,i.jsx)(d.p,{children:"\u901A\u8FC7\u624B\u52A8\u7F16\u8BD1\u5B89\u88C5\uFF0C\u547D\u4EE4\u5982\u4E0B\uFF0C\u6CE8\u610F\u8FD9\u548C\u5B98\u65B9\u63D0\u4F9B\u7684\u547D\u4EE4\u6709\u51FA\u5165\uFF0C\u4EE5\u6211\u7684\u4E3A\u51C6\uFF1A"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"git clone https://github.com/go-delve/delve\ncd delve/cmd/dlv\nCGO_ENABLED=0 go build -o dlv main.go\n\n## \u62F7\u8D1D\u5DE5\u5177\u5230\u5BB9\u5668\nkubectl cp ./dlv khaos/khaos-guardian-x7j9t:/app/ -c metrics-agent\n"})}),"\n",(0,i.jsx)(d.h2,{id:"\u91CD\u65B0\u7F16\u8BD1\u7A0B\u5E8F",children:"\u91CD\u65B0\u7F16\u8BD1\u7A0B\u5E8F"}),"\n",(0,i.jsxs)(d.p,{children:["\u9700\u8981\u6DFB\u52A0",(0,i.jsx)(d.code,{children:"-gcflags"}),"\u53C2\u6570\uFF0C\u7ED9\u7F16\u8BD1\u5668\u4F20\u9012",(0,i.jsx)(d.code,{children:"-N -l"}),"\u53C2\u6570\uFF0C\u7981\u6B62\u7F16\u8BD1\u5668\u4F18\u5316\u548C\u5185\u8054\uFF1A"]}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:'CGO_ENABLED=0 go build -gcflags "all=-N -l" main.go\n\n## \u62F7\u8D1D\u7A0B\u5E8F\u5230\u5BB9\u5668\nkubectl cp ./main khaos/khaos-guardian-x7j9t:/app/ -c metrics-agent\n'})}),"\n",(0,i.jsx)(d.h2,{id:"\u8FDB\u5BB9\u5668\u6267\u884C\u7A0B\u5E8F",children:"\u8FDB\u5BB9\u5668\u6267\u884C\u7A0B\u5E8F"}),"\n",(0,i.jsxs)(d.p,{children:["\u4F7F\u7528",(0,i.jsx)(d.code,{children:"dlv"}),"\u5DE5\u5177\u6267\u884C\u7A0B\u5E8F\u7684\u8BED\u6CD5\u5982\u4E0B\uFF1A"]}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"dlv --listen=:2345 --headless=true --api-version=2 --accept-multiclient exec ./demo\n"})}),"\n",(0,i.jsxs)(d.p,{children:["\u5982\u679C\u7A0B\u5E8F\u9700\u8981\u8FD0\u884C\u53C2\u6570\uFF0C\u90A3\u4E48\u9700\u8981\u52A0\u4E0A",(0,i.jsx)(d.code,{children:"--"}),"\uFF0C\u4F8B\u5982\uFF1A"]}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"dlv --listen=:2345 --headless=true --api-version=2 --accept-multiclient exec ./demo -- --c=/config\n## \u7B49\u540C\u4E8E\n./demo --c=/config\n"})}),"\n",(0,i.jsx)(d.p,{children:"\u56E0\u6B64\u6211\u7684\u7A0B\u5E8F\u7684\u6267\u884C\u547D\u4EE4\u5982\u4E0B\uFF1A"}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"./dlv --listen=:2345 --headless=true --api-version=2 --accept-multiclient exec ./main -- --debug=true --address=:13047 --nodeIP=21.0.44.12 --rootPath=/khaos/root --agentConfigFilePath=/var/run/khaos-guardian/metricsconfig/config.yaml --kubeStateUrl=http://127.0.0.1:13043/metrics --enabledPlugins=.+\n"})}),"\n",(0,i.jsx)(d.h2,{id:"\u6267\u884C\u53CD\u5411\u4EE3\u7406\u5230dlv",children:"\xa0\u6267\u884C\u53CD\u5411\u4EE3\u7406\u5230dlv"}),"\n",(0,i.jsxs)(d.p,{children:["\u4F7F\u7528",(0,i.jsx)(d.code,{children:"kubectl"}),"\u7684",(0,i.jsx)(d.code,{children:"port-forward"}),"\u547D\u4EE4\uFF1A"]}),"\n",(0,i.jsx)(d.pre,{children:(0,i.jsx)(d.code,{className:"language-bash",children:"kubectl -n khaos port-forward pod/khaos-guardian-8p2gx 2345:2345 --address 0.0.0.0\n"})}),"\n",(0,i.jsx)(d.h2,{id:"\u5F00\u542Fgoland-remote-debug",children:"\u5F00\u542Fgoland remote debug"}),"\n",(0,i.jsxs)(d.p,{children:["\u589E\u52A0",(0,i.jsx)(d.code,{children:"Go Remote"}),"\u914D\u7F6E\u5373\u53EF\u3002\u53EF\u4EE5\u770B\u5230\uFF0C\u8FD9\u91CC\u7684",(0,i.jsx)(d.code,{children:"IDE"}),"\u4E5F\u6709\u63D0\u793A\u5982\u4F55\u5F00\u542F\u8FDC\u7A0B\u8C03\u8BD5\u7684\u6B65\u9AA4\u3002"]}),"\n",(0,i.jsx)(s.Z,{img:n(81529),alt:"",loading:"eager"})]})}function h(e={}){let{wrapper:d}={...(0,a.a)(),...e.components};return d?(0,i.jsx)(d,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}}}]);