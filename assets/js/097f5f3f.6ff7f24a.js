"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["9198"],{3413:function(e,t,n){n.r(t),n.d(t,{metadata:()=>s,contentTitle:()=>c,default:()=>g,assets:()=>r,toc:()=>a,frontMatter:()=>l});var s=JSON.parse('{"id":"\u5F00\u53D1\u8BED\u8A00/Golang/go test \u7981\u7528\u7F13\u5B58","title":"go test \u7981\u7528\u7F13\u5B58","description":"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u7981\u7528 go test \u7684\u7F13\u5B58\u529F\u80FD\uFF0C\u5305\u62EC\u4F7F\u7528 -count=1 \u6807\u5FD7\u548C\u5176\u4ED6\u76F8\u5173\u6D4B\u8BD5\u6280\u5DE7","source":"@site/docs/2-\u5F00\u53D1\u8BED\u8A00/0-Golang/5-go test \u7981\u7528\u7F13\u5B58.md","sourceDirName":"2-\u5F00\u53D1\u8BED\u8A00/0-Golang","slug":"/go-test-disable-cache","permalink":"/go-test-disable-cache","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"slug":"/go-test-disable-cache","title":"go test \u7981\u7528\u7F13\u5B58","hide_title":true,"keywords":["go test","\u6D4B\u8BD5\u7F13\u5B58","\u5355\u5143\u6D4B\u8BD5","\u6027\u80FD\u6D4B\u8BD5","\u6D4B\u8BD5\u6280\u5DE7","\u5F00\u53D1\u5DE5\u5177"],"description":"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u7981\u7528 go test \u7684\u7F13\u5B58\u529F\u80FD\uFF0C\u5305\u62EC\u4F7F\u7528 -count=1 \u6807\u5FD7\u548C\u5176\u4ED6\u76F8\u5173\u6D4B\u8BD5\u6280\u5DE7"},"sidebar":"mainSidebar","previous":{"title":"Goland\u8BBE\u7F6Ejson\u6807\u7B7E\u81EA\u52A8\u751F\u6210\u683C\u5F0F\u4E3A\u9A7C\u5CF0","permalink":"/goland-json-tag-camelcase"},"next":{"title":"Golang\u6B63\u5219\u89C4\u5219","permalink":"/golang-regex-rules"}}'),o=n("85893"),i=n("50065");let l={slug:"/go-test-disable-cache",title:"go test \u7981\u7528\u7F13\u5B58",hide_title:!0,keywords:["go test","\u6D4B\u8BD5\u7F13\u5B58","\u5355\u5143\u6D4B\u8BD5","\u6027\u80FD\u6D4B\u8BD5","\u6D4B\u8BD5\u6280\u5DE7","\u5F00\u53D1\u5DE5\u5177"],description:"\u8BE6\u7EC6\u8BF4\u660E\u5982\u4F55\u7981\u7528 go test \u7684\u7F13\u5B58\u529F\u80FD\uFF0C\u5305\u62EC\u4F7F\u7528 -count=1 \u6807\u5FD7\u548C\u5176\u4ED6\u76F8\u5173\u6D4B\u8BD5\u6280\u5DE7"},c=void 0,r={},a=[{value:"\u4ECB\u7ECD",id:"\u4ECB\u7ECD",level:2},{value:"\u603B\u7ED3",id:"\u603B\u7ED3",level:2},{value:"\u53C2\u8003",id:"\u53C2\u8003",level:2}];function d(e){let t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"\u4ECB\u7ECD",children:"\u4ECB\u7ECD"}),"\n",(0,o.jsxs)(t.p,{children:["\u6BCF\u5F53\u6267\u884C\xa0",(0,o.jsx)(t.code,{children:"go test"}),"\xa0\u65F6\uFF0C\u5982\u679C\u529F\u80FD\u4EE3\u7801\u548C\u6D4B\u8BD5\u4EE3\u7801\u6CA1\u6709\u53D8\u52A8\uFF0C\u5219\u5728\u4E0B\u4E00\u6B21\u6267\u884C\u65F6\uFF0C\u4F1A\u76F4\u63A5\u8BFB\u53D6\u7F13\u5B58\u4E2D\u7684\u6D4B\u8BD5\u7ED3\u679C\uFF0C\u5E76\u901A\u8FC7\xa0",(0,o.jsx)(t.code,{children:"(cached)"}),"\xa0\u8FDB\u884C\u6807\u8BB0\u3002"]}),"\n",(0,o.jsxs)(t.p,{children:["\u8981\u7981\u7528\u6D4B\u8BD5\u7F13\u5B58\uFF0C\u53EF\u4EE5\u901A\u8FC7\xa0",(0,o.jsx)(t.code,{children:"-count=1"}),"\xa0\u6807\u5FD7\u6765\u5B9E\u73B0\u3002"]}),"\n",(0,o.jsx)(t.p,{children:"\u5982\u4E0B\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:45:16]\n\u279C go test -v ./...               \n?       go_demo [no test files]\n=== RUN   TestCreateUnixMillis\n--- PASS: TestCreateUnixMillis (0.00s)\n    utils_test.go:7: 1561614325740\nPASS\nok      go_demo/utils   0.006s\n\n## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:45:32]\n\u279C go test -v ./...\n?       go_demo [no test files]\n=== RUN   TestCreateUnixMillis\n--- PASS: TestCreateUnixMillis (0.00s)\n    utils_test.go:7: 1561614325740\nPASS\nok      go_demo/utils   (cached)\n\n## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:45:38]\n\u279C go test -v ./...\n?       go_demo [no test files]\n=== RUN   TestCreateUnixMillis\n--- PASS: TestCreateUnixMillis (0.00s)\n    utils_test.go:7: 1561614325740\nPASS\nok      go_demo/utils   (cached)\n\n## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:45:59]\n\u279C go test -v ./... -count=1\n?       go_demo [no test files]\n=== RUN   TestCreateUnixMillis\n--- PASS: TestCreateUnixMillis (0.00s)\n    utils_test.go:7: 1561614494115\nPASS\nok      go_demo/utils   0.006s\n\n## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:48:14]\n\u279C go test -v ./... -count=1\n?       go_demo [no test files]\n=== RUN   TestCreateUnixMillis\n--- PASS: TestCreateUnixMillis (0.00s)\n    utils_test.go:7: 1561614508408\nPASS\nok      go_demo/utils   0.006s\n\n## ~/test/hello-drone/go_demo [master \u2717 (fe95bec)] [13:48:32]\n\u279C\n"})}),"\n",(0,o.jsxs)(t.p,{children:["\u5173\u4E8E\xa0",(0,o.jsx)(t.code,{children:"-count=1"}),"\xa0\u7684\u89E3\u91CA\uFF0C\u53EF\u4EE5\u901A\u8FC7\u547D\u4EE4\xa0",(0,o.jsx)(t.code,{children:"go help testflag"}),"\xa0\u6765\u67E5\u770B\uFF1A"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"When 'go test' runs in package list mode, 'go test' caches successful\npackage test results to avoid unnecessary repeated running of tests. To\ndisable test caching, use any test flag or argument other than the\ncacheable flags. The idiomatic way to disable test caching explicitly\nis to use -count=1.\n"})}),"\n",(0,o.jsx)(t.h2,{id:"\u603B\u7ED3",children:"\u603B\u7ED3"}),"\n",(0,o.jsxs)(t.p,{children:["\u5728\xa0",(0,o.jsx)(t.code,{children:"Go 1.11"}),"\xa0\u4E4B\u524D\uFF0C\u901A\u8FC7\xa0",(0,o.jsx)(t.code,{children:"GOCACHE=off"}),"\xa0\u7684\u65B9\u5F0F\u6765\u7981\u7528\u6D4B\u8BD5\u7F13\u5B58\uFF1A",(0,o.jsx)(t.code,{children:"GOCACHE=off go test ./..."})]}),"\n",(0,o.jsxs)(t.p,{children:["\u5728\xa0",(0,o.jsx)(t.code,{children:"Go 1.11"}),"\xa0\u4E4B\u540E\uFF0C\u901A\u8FC7\xa0",(0,o.jsx)(t.code,{children:"-count=1"}),"\xa0\u7684\u65B9\u5F0F\u6765\u7981\u7528\u6D4B\u8BD5\u7F13\u5B58\uFF1A",(0,o.jsx)(t.code,{children:"go test -count=1 ./..."})]}),"\n",(0,o.jsx)(t.h2,{id:"\u53C2\u8003",children:"\u53C2\u8003"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/golang/go/issues/24573",children:"cmd/go: how to disable (run test) Cached \xb7 Issue #24573 \xb7 golang/go"})}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://stackoverflow.com/questions/48882691/force-retesting-or-disable-test-caching",children:"testing - Force retesting or disable test caching - Stack Overflow"})}),"\n"]}),"\n"]})]})}function g(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},50065:function(e,t,n){n.d(t,{Z:function(){return c},a:function(){return l}});var s=n(67294);let o={},i=s.createContext(o);function l(e){let t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);