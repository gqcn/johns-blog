"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["4875"],{25346:function(e,n,d){d.r(n),d.d(n,{metadata:()=>i,contentTitle:()=>s,default:()=>x,assets:()=>o,toc:()=>a,frontMatter:()=>r});var i=JSON.parse('{"id":"docs/AI\u6280\u672F/AI\u57FA\u7840\u67B6\u6784/RDMA/RDMA\u786C\u4EF6\u7BA1\u7406\u53CA\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B","title":"RDMA\u786C\u4EF6\u7BA1\u7406\u53CA\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B","description":"\u5168\u9762\u4ECB\u7ECDRDMA\u786C\u4EF6\u7BA1\u7406\u548C\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B\u65B9\u6CD5\uFF0C\u8BE6\u7EC6\u8BB2\u89E3ibv_devinfo\u3001ibnetdiscover\u3001lldpctl\u7B49\u5173\u952E\u7BA1\u7406\u5DE5\u5177\u7684\u4F7F\u7528\u3002\u6DB5\u76D6InfiniBand\u548CRoCE\u4E24\u79CDRDMA\u5B9E\u73B0\u65B9\u6848\u7684PCI\u8BBE\u5907\u8BC6\u522B\u3001NFD\u6807\u7B7E\u3001RDMA\u8BBE\u5907\u4FE1\u606F\u83B7\u53D6\u4EE5\u53CA\u7F51\u7EDC\u62D3\u6251\u53D1\u73B0\uFF0C\u4E3ARDMA\u7F51\u7EDC\u8FD0\u7EF4\u548C\u6545\u969C\u8BCA\u65AD\u63D0\u4F9B\u5B9E\u7528\u6307\u5357","source":"@site/docs/docs/1000-AI\u6280\u672F/200-AI\u57FA\u7840\u67B6\u6784/300-RDMA/3000-RDMA\u786C\u4EF6\u7BA1\u7406\u53CA\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B.md","sourceDirName":"docs/1000-AI\u6280\u672F/200-AI\u57FA\u7840\u67B6\u6784/300-RDMA","slug":"/ai/rdma-hardware-topology","permalink":"/ai/rdma-hardware-topology","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3000,"frontMatter":{"slug":"/ai/rdma-hardware-topology","title":"RDMA\u786C\u4EF6\u7BA1\u7406\u53CA\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B","hide_title":true,"unlisted":false,"keywords":["RDMA","\u786C\u4EF6\u7BA1\u7406","\u7F51\u7EDC\u62D3\u6251","InfiniBand","RoCE","ibv_devinfo","ibnetdiscover","lldpctl","NFD\u6807\u7B7E","PCI\u8BBE\u5907","\u62D3\u6251\u53D1\u73B0","\u7F51\u5361\u4FE1\u606F","\u5B50\u7F51\u7BA1\u7406","LLDP\u534F\u8BAE","Mellanox","ConnectX","\u8BBE\u5907\u8BCA\u65AD","\u7F51\u7EDC\u8FD0\u7EF4","HCA\u8BBE\u5907","RDMA\u7F51\u7EDC\u7BA1\u7406"],"description":"\u5168\u9762\u4ECB\u7ECDRDMA\u786C\u4EF6\u7BA1\u7406\u548C\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B\u65B9\u6CD5\uFF0C\u8BE6\u7EC6\u8BB2\u89E3ibv_devinfo\u3001ibnetdiscover\u3001lldpctl\u7B49\u5173\u952E\u7BA1\u7406\u5DE5\u5177\u7684\u4F7F\u7528\u3002\u6DB5\u76D6InfiniBand\u548CRoCE\u4E24\u79CDRDMA\u5B9E\u73B0\u65B9\u6848\u7684PCI\u8BBE\u5907\u8BC6\u522B\u3001NFD\u6807\u7B7E\u3001RDMA\u8BBE\u5907\u4FE1\u606F\u83B7\u53D6\u4EE5\u53CA\u7F51\u7EDC\u62D3\u6251\u53D1\u73B0\uFF0C\u4E3ARDMA\u7F51\u7EDC\u8FD0\u7EF4\u548C\u6545\u969C\u8BCA\u65AD\u63D0\u4F9B\u5B9E\u7528\u6307\u5357"},"sidebar":"mainSidebar","previous":{"title":"InfiniBand vs RoCE","permalink":"/ai/rdma-infiniband-vs-roce"},"next":{"title":"NVIDIA","permalink":"/ai/nvidia"}}'),c=d("85893"),l=d("50065");let r={slug:"/ai/rdma-hardware-topology",title:"RDMA\u786C\u4EF6\u7BA1\u7406\u53CA\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B",hide_title:!0,unlisted:!1,keywords:["RDMA","\u786C\u4EF6\u7BA1\u7406","\u7F51\u7EDC\u62D3\u6251","InfiniBand","RoCE","ibv_devinfo","ibnetdiscover","lldpctl","NFD\u6807\u7B7E","PCI\u8BBE\u5907","\u62D3\u6251\u53D1\u73B0","\u7F51\u5361\u4FE1\u606F","\u5B50\u7F51\u7BA1\u7406","LLDP\u534F\u8BAE","Mellanox","ConnectX","\u8BBE\u5907\u8BCA\u65AD","\u7F51\u7EDC\u8FD0\u7EF4","HCA\u8BBE\u5907","RDMA\u7F51\u7EDC\u7BA1\u7406"],description:"\u5168\u9762\u4ECB\u7ECDRDMA\u786C\u4EF6\u7BA1\u7406\u548C\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\u67E5\u770B\u65B9\u6CD5\uFF0C\u8BE6\u7EC6\u8BB2\u89E3ibv_devinfo\u3001ibnetdiscover\u3001lldpctl\u7B49\u5173\u952E\u7BA1\u7406\u5DE5\u5177\u7684\u4F7F\u7528\u3002\u6DB5\u76D6InfiniBand\u548CRoCE\u4E24\u79CDRDMA\u5B9E\u73B0\u65B9\u6848\u7684PCI\u8BBE\u5907\u8BC6\u522B\u3001NFD\u6807\u7B7E\u3001RDMA\u8BBE\u5907\u4FE1\u606F\u83B7\u53D6\u4EE5\u53CA\u7F51\u7EDC\u62D3\u6251\u53D1\u73B0\uFF0C\u4E3ARDMA\u7F51\u7EDC\u8FD0\u7EF4\u548C\u6545\u969C\u8BCA\u65AD\u63D0\u4F9B\u5B9E\u7528\u6307\u5357"},s=void 0,o={},a=[{value:"\u5E38\u7528\u5DE5\u5177",id:"\u5E38\u7528\u5DE5\u5177",level:2},{value:"InfiniBand",id:"infiniband",level:2},{value:"PCI\u8BBE\u5907\u4FE1\u606F",id:"pci\u8BBE\u5907\u4FE1\u606F",level:3},{value:"PCI NFD\u6807\u7B7E",id:"pci-nfd\u6807\u7B7E",level:3},{value:"NFD\u6807\u7B7E\u542B\u4E49\u8BF4\u660E",id:"nfd\u6807\u7B7E\u542B\u4E49\u8BF4\u660E",level:4},{value:"RDMA\u8BBE\u5907\u4FE1\u606F",id:"rdma\u8BBE\u5907\u4FE1\u606F",level:3},{value:"InfiniBand\u62D3\u6251\u4FE1\u606F",id:"infiniband\u62D3\u6251\u4FE1\u606F",level:3},{value:"RoCE",id:"roce",level:2},{value:"PCI\u8BBE\u5907\u4FE1\u606F",id:"pci\u8BBE\u5907\u4FE1\u606F-1",level:3},{value:"PCI NFD\u6807\u7B7E",id:"pci-nfd\u6807\u7B7E-1",level:3},{value:"RDMA\u8BBE\u5907\u4FE1\u606F",id:"rdma\u8BBE\u5907\u4FE1\u606F-1",level:3},{value:"\u4E3A\u4EC0\u4E48 RoCE \u7F51\u5361\u4FE1\u606F\u4E0A\u4F1A\u663E\u793A transport: InfiniBand (0)\uFF1F",id:"\u4E3A\u4EC0\u4E48-roce-\u7F51\u5361\u4FE1\u606F\u4E0A\u4F1A\u663E\u793A-transport-infiniband-0",level:4},{value:"\u4E3A\u4EC0\u4E48\u901A\u8FC7lspci\u770B\u5230\u67092\u5F20RoCE\u7684\u7F51\u5361\uFF0C\u4F46\u662F\u901A\u8FC7ibv_devinfo\u5374\u53EA\u770B\u5230\u4E00\u4E2A\u8BBE\u5907\u4FE1\u606F\uFF1F",id:"\u4E3A\u4EC0\u4E48\u901A\u8FC7lspci\u770B\u5230\u67092\u5F20roce\u7684\u7F51\u5361\u4F46\u662F\u901A\u8FC7ibv_devinfo\u5374\u53EA\u770B\u5230\u4E00\u4E2A\u8BBE\u5907\u4FE1\u606F",level:4},{value:"Ethernet\u62D3\u6251\u4FE1\u606F",id:"ethernet\u62D3\u6251\u4FE1\u606F",level:3}];function t(e){let n={code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"\u5E38\u7528\u5DE5\u5177",children:"\u5E38\u7528\u5DE5\u5177"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u5DE5\u5177"}),(0,c.jsx)(n.th,{children:"\u9002\u7528\u573A\u666F"}),(0,c.jsx)(n.th,{children:"\u4E3B\u8981\u529F\u80FD"}),(0,c.jsx)(n.th,{children:"\u5907\u6CE8"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"ibv_devinfo"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"InfiniBand"}),"\u3001",(0,c.jsx)(n.code,{children:"RoCE"})]}),(0,c.jsxs)(n.td,{children:["\u67E5\u770B\u672C\u8282\u70B9",(0,c.jsx)(n.code,{children:"RDMA"}),"\u8BBE\u5907\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5305\u62EC\u8BBE\u5907\u7C7B\u578B\u3001\u56FA\u4EF6\u7248\u672C\u3001\u7AEF\u53E3\u72B6\u6001\u3001\u94FE\u8DEF\u5C42\u7B49"]}),(0,c.jsxs)(n.td,{children:["\u5C5E\u4E8E",(0,c.jsx)(n.code,{children:"libibverbs-utils"}),"\u8F6F\u4EF6\u5305\uFF0C\u9002\u7528\u4E8E\u6240\u6709",(0,c.jsx)(n.code,{children:"RDMA"}),"\u8BBE\u5907"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"ibnetdiscover"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"InfiniBand"})}),(0,c.jsxs)(n.td,{children:["\u67E5\u8BE2",(0,c.jsx)(n.code,{children:"InfiniBand"}),"\u5B50\u7F51\u5B8C\u6574\u62D3\u6251\u4FE1\u606F\uFF0C\u663E\u793A\u6240\u6709\u8282\u70B9\u548C\u4EA4\u6362\u673A\u7684\u8FDE\u63A5\u5173\u7CFB"]}),(0,c.jsxs)(n.td,{children:["\u76F4\u63A5\u5411",(0,c.jsx)(n.code,{children:"IB"}),"\u5B50\u7F51\u7684",(0,c.jsx)(n.code,{children:"SM"}),"\uFF08\u5B50\u7F51\u7BA1\u7406\u5668\uFF09\u67E5\u8BE2\uFF0C\u53EF\u5728\u4EFB\u610F",(0,c.jsx)(n.code,{children:"IB"}),"\u8282\u70B9\u6267\u884C\u83B7\u53D6\u5168\u7F51\u62D3\u6251"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"lldpctl"})}),(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"RoCE (Ethernet)"})}),(0,c.jsxs)(n.td,{children:["\u67E5\u770B\u57FA\u4E8E\u4EE5\u592A\u7F51\u7684",(0,c.jsx)(n.code,{children:"RoCE"}),"\u7F51\u7EDC\u62D3\u6251\u4FE1\u606F\uFF0C\u663E\u793A\u672C\u8282\u70B9\u4E0E\u76F4\u8FDE\u4EA4\u6362\u673A\u7684\u8FDE\u63A5\u5173\u7CFB"]}),(0,c.jsxs)(n.td,{children:["\u57FA\u4E8E",(0,c.jsx)(n.code,{children:"LLDP"}),"\u534F\u8BAE\uFF0C\u53EA\u80FD\u67E5\u770B\u5355\u8DF3\u90BB\u5C45\u4FE1\u606F\uFF0C\u9700\u5B89\u88C5",(0,c.jsx)(n.code,{children:"lldpd"}),"\u670D\u52A1"]})]})]})]}),"\n",(0,c.jsx)(n.h2,{id:"infiniband",children:"InfiniBand"}),"\n",(0,c.jsx)(n.h3,{id:"pci\u8BBE\u5907\u4FE1\u606F",children:"PCI\u8BBE\u5907\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:["\u67E5\u770B\u7F51\u5361\u8BBE\u5907\uFF1A",(0,c.jsx)(n.code,{children:'lspci | grep -iE "InfiniBand|Mellanox"'})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"29:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\n3b:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\n4b:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\n5d:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\n98:00.0 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]\n98:00.1 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]\nab:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\nbb:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\ncb:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\ndb:00.0 Infiniband controller: Mellanox Technologies MT2910 Family [ConnectX-7]\n"})}),"\n",(0,c.jsx)(n.h3,{id:"pci-nfd\u6807\u7B7E",children:"PCI NFD\u6807\u7B7E"}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679C",(0,c.jsx)(n.code,{children:"K8S"}),"\u96C6\u7FA4\u6709\u5B89\u88C5",(0,c.jsx)(n.code,{children:"NFD"}),"\u7EC4\u4EF6\uFF0C",(0,c.jsx)(n.code,{children:"NFD"}),"\u5C06\u81EA\u52A8\u68C0\u6D4B",(0,c.jsx)(n.code,{children:"PCI"}),"\u8BBE\u5907\u5E76\u4E3A\u8282\u70B9\u6253\u4E0A\u5982\u4E0B\u6807\u7B7E\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'feature.node.kubernetes.io/rdma.available: "true"\nfeature.node.kubernetes.io/rdma.capable: "true"\nfeature.node.kubernetes.io/pci-10de.present: "true"\nfeature.node.kubernetes.io/pci-10de.sriov.capable: "true"\nfeature.node.kubernetes.io/pci-15b3.present: "true"\nfeature.node.kubernetes.io/pci-15b3.sriov.capable: "true"\nfeature.node.kubernetes.io/pci-1a03.present: "true"\n'})}),"\n",(0,c.jsx)(n.h4,{id:"nfd\u6807\u7B7E\u542B\u4E49\u8BF4\u660E",children:"NFD\u6807\u7B7E\u542B\u4E49\u8BF4\u660E"}),"\n",(0,c.jsxs)(n.table,{children:[(0,c.jsx)(n.thead,{children:(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.th,{children:"\u6807\u7B7E"}),(0,c.jsx)(n.th,{children:"\u542B\u4E49"}),(0,c.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,c.jsxs)(n.tbody,{children:[(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/rdma.available"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"RDMA"}),"\u529F\u80FD\u53EF\u7528"]}),(0,c.jsxs)(n.td,{children:["\u8282\u70B9\u4E0A\u5B58\u5728\u5DF2\u542F\u7528",(0,c.jsx)(n.code,{children:"RDMA"}),"\u529F\u80FD\u7684\u7F51\u5361\u8BBE\u5907"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/rdma.capable"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"RDMA"}),"\u529F\u80FD\u652F\u6301"]}),(0,c.jsxs)(n.td,{children:["\u8282\u70B9\u786C\u4EF6\u652F\u6301",(0,c.jsx)(n.code,{children:"RDMA"}),"\u80FD\u529B\uFF08\u5373\u4F7F\u5F53\u524D\u672A\u542F\u7528\uFF09"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/pci-10de.present"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"NVIDIA"}),"\u8BBE\u5907\u5B58\u5728"]}),(0,c.jsxs)(n.td,{children:["\u8282\u70B9\u4E0A\u5B58\u5728",(0,c.jsx)(n.code,{children:"NVIDIA"}),"\u516C\u53F8\u7684PCI\u8BBE\u5907\uFF08",(0,c.jsx)(n.code,{children:"Vendor ID: 0x10de"}),"\uFF09\uFF0C\u901A\u5E38\u662F",(0,c.jsx)(n.code,{children:"GPU"})]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/pci-10de.sriov.capable"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"NVIDIA SR-IOV"}),"\u652F\u6301"]}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"NVIDIA"}),"\u8BBE\u5907\u652F\u6301",(0,c.jsx)(n.code,{children:"SR-IOV"}),"\u865A\u62DF\u5316\u529F\u80FD"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/pci-15b3.present"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"Mellanox"}),"\u8BBE\u5907\u5B58\u5728"]}),(0,c.jsxs)(n.td,{children:["\u8282\u70B9\u4E0A\u5B58\u5728",(0,c.jsx)(n.code,{children:"Mellanox"}),"\uFF08\u73B0",(0,c.jsx)(n.code,{children:"NVIDIA"}),"\u7F51\u7EDC\uFF09\u516C\u53F8\u7684",(0,c.jsx)(n.code,{children:"PCI"}),"\u8BBE\u5907\uFF08",(0,c.jsx)(n.code,{children:"Vendor ID: 0x15b3"}),"\uFF09\uFF0C\u901A\u5E38\u662F",(0,c.jsx)(n.code,{children:"InfiniBand"}),"/",(0,c.jsx)(n.code,{children:"RoCE"}),"\u7F51\u5361"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/pci-15b3.sriov.capable"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"Mellanox SR-IOV"}),"\u652F\u6301"]}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"Mellanox"}),"\u7F51\u5361\u8BBE\u5907\u652F\u6301",(0,c.jsx)(n.code,{children:"SR-IOV"}),"\u865A\u62DF\u5316\u529F\u80FD"]})]}),(0,c.jsxs)(n.tr,{children:[(0,c.jsx)(n.td,{children:(0,c.jsx)(n.code,{children:"feature.node.kubernetes.io/pci-1a03.present"})}),(0,c.jsxs)(n.td,{children:[(0,c.jsx)(n.code,{children:"ASPEED"}),"\u8BBE\u5907\u5B58\u5728"]}),(0,c.jsxs)(n.td,{children:["\u8282\u70B9\u4E0A\u5B58\u5728",(0,c.jsx)(n.code,{children:"ASPEED"}),"\u516C\u53F8\u7684PCI\u8BBE\u5907\uFF08",(0,c.jsx)(n.code,{children:"Vendor ID: 0x1a03"}),"\uFF09\uFF0C\u901A\u5E38\u662F",(0,c.jsx)(n.code,{children:"BMC"}),"\u7BA1\u7406\u82AF\u7247"]})]})]})]}),"\n",(0,c.jsx)(n.h3,{id:"rdma\u8BBE\u5907\u4FE1\u606F",children:"RDMA\u8BBE\u5907\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:["\u901A\u8FC7",(0,c.jsx)(n.code,{children:"ibv_devinfo"}),"\u5DE5\u5177\u67E5\u770B\u672C\u8282\u70B9\u4E0A\u6240\u6709\u652F\u6301",(0,c.jsx)(n.code,{children:"IB"}),"\u534F\u8BAE\u7684\u6240\u6709",(0,c.jsx)(n.code,{children:"RDMA"}),"\u7F51\u5361\uFF0C\u5982\u7269\u7406",(0,c.jsx)(n.code,{children:"IB"}),"\u7F51\u5361\u3001\u7269\u7406",(0,c.jsx)(n.code,{children:"RoCE"}),"\u7F51\u5361\uFF1A"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"hca_id: mlx5_0                          # HCA\u8BBE\u5907ID\uFF0C\u7CFB\u7EDF\u4E2D\u7684RDMA\u8BBE\u5907\u6807\u8BC6\u7B26\n  transport:                      InfiniBand (0)          # \u4F20\u8F93\u534F\u8BAE\u7C7B\u578B\uFF0C0\u8868\u793AInfiniBand\n  fw_ver:                         28.39.4082              # \u56FA\u4EF6\u7248\u672C\u53F7\n  node_guid:                      b8e9:2403:0045:99fe     # \u8282\u70B9\u5168\u5C40\u552F\u4E00\u6807\u8BC6\u7B26\uFF08GUID\uFF09\n  sys_image_guid:                 b8e9:2403:0045:99fe     # \u7CFB\u7EDF\u955C\u50CFGUID\uFF0C\u901A\u5E38\u4E0Enode_guid\u76F8\u540C\n  vendor_id:                      0x02c9                  # \u5382\u5546ID\uFF0C0x02c9\u4EE3\u8868Mellanox/NVIDIA\n  vendor_part_id:                 4129                    # \u4EA7\u54C1\u578B\u53F7ID\uFF0C4129\u5BF9\u5E94ConnectX-7\n  hw_ver:                         0x0                     # \u786C\u4EF6\u7248\u672C\u53F7\n  board_id:                       MT_0000000838           # \u677F\u5361ID\n  phys_port_cnt:                  1                       # \u7269\u7406\u7AEF\u53E3\u6570\u91CF\n    port:   1                                       # \u7AEF\u53E3\u7F16\u53F7\n      state:                  PORT_ACTIVE (4)         # \u7AEF\u53E3\u72B6\u6001\uFF1A\u6D3B\u8DC3(4)\uFF0C\u5DF2\u8FDE\u63A5\u53EF\u7528\n      max_mtu:                4096 (5)                # \u6700\u5927\u4F20\u8F93\u5355\u5143\uFF0C4096\u5B57\u8282\n      active_mtu:             4096 (5)                # \u5F53\u524D\u6FC0\u6D3B\u7684MTU\u5927\u5C0F\n      sm_lid:                 75                      # \u5B50\u7F51\u7BA1\u7406\u5668\u7684\u672C\u5730\u6807\u8BC6\u7B26(LID)\n      port_lid:               5                       # \u672C\u7AEF\u53E3\u7684LID\uFF0C\u7528\u4E8E\u5B50\u7F51\u5185\u8DEF\u7531\n      port_lmc:               0x00                    # LID\u63A9\u7801\u8BA1\u6570\uFF0C\u7528\u4E8E\u591A\u8DEF\u5F84\u652F\u6301\n      link_layer:             InfiniBand              # \u94FE\u8DEF\u5C42\u534F\u8BAE\u7C7B\u578B\n\nhca_id: mlx5_1\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0047:13c2\n  sys_image_guid:                 b8e9:2403:0047:13c2\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_DOWN (1)           # \u7AEF\u53E3\u72B6\u6001\uFF1A\u5173\u95ED(1)\uFF0C\u672A\u8FDE\u63A5\u6216\u7981\u7528\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 0                       # SM LID\u4E3A0\u8868\u793A\u672A\u8FDE\u63A5\u5230\u5B50\u7F51\u7BA1\u7406\u5668\n      port_lid:               65535                   # LID\u4E3A65535\u8868\u793A\u7AEF\u53E3\u672A\u5206\u914D\u6709\u6548LID\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_2\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0045:9bd6\n  sys_image_guid:                 b8e9:2403:0045:9bd6\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_ACTIVE (4)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 75\n      port_lid:               4\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_3\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0047:1002\n  sys_image_guid:                 b8e9:2403:0047:1002\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_DOWN (1)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 0\n      port_lid:               65535\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_6\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0045:9b16\n  sys_image_guid:                 b8e9:2403:0045:9b16\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_ACTIVE (4)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 75\n      port_lid:               10\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_7\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0047:179a\n  sys_image_guid:                 b8e9:2403:0047:179a\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_DOWN (1)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 0\n      port_lid:               65535\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_8\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0047:1762\n  sys_image_guid:                 b8e9:2403:0047:1762\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_ACTIVE (4)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 75\n      port_lid:               9\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_9\n  transport:                      InfiniBand (0)\n  fw_ver:                         28.39.4082\n  node_guid:                      b8e9:2403:0047:1ad2\n  sys_image_guid:                 b8e9:2403:0047:1ad2\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4129\n  hw_ver:                         0x0\n  board_id:                       MT_0000000838\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_DOWN (1)\n      max_mtu:                4096 (5)\n      active_mtu:             4096 (5)\n      sm_lid:                 0\n      port_lid:               65535\n      port_lmc:               0x00\n      link_layer:             InfiniBand\n\nhca_id: mlx5_bond_0                     # \u7ED1\u5B9A\u8BBE\u5907\uFF0C\u901A\u5E38\u662F\u591A\u4E2A\u7269\u7406\u7F51\u5361\u7684bonding\u805A\u5408\n  transport:                      InfiniBand (0)\n  fw_ver:                         14.32.1010              # \u8F83\u65E7\u7684\u56FA\u4EF6\u7248\u672C\uFF08ConnectX-4\uFF09\n  node_guid:                      94a6:d800:008a:4861\n  sys_image_guid:                 94a6:d800:008a:4861\n  vendor_id:                      0x02c9\n  vendor_part_id:                 4117                    # 4117\u5BF9\u5E94ConnectX-4 Lx\n  hw_ver:                         0x0\n  board_id:                       H3C0010110034           # H3C\u54C1\u724C\u7684OEM\u7F51\u5361\n  phys_port_cnt:                  1\n    port:   1\n      state:                  PORT_ACTIVE (4)\n      max_mtu:                4096 (5)\n      active_mtu:             1024 (3)                # \u5B9E\u9645MTU\u4E3A1500\u5B57\u8282\uFF08\u4EE5\u592A\u7F51\u6807\u51C6\uFF09\n      sm_lid:                 0                       # \u4EE5\u592A\u7F51\u6A21\u5F0F\u4E0B\u65E0SM\n      port_lid:               0                       # \u4EE5\u592A\u7F51\u6A21\u5F0F\u4E0B\u65E0LID\u6982\u5FF5\n      port_lmc:               0x00\n      link_layer:             Ethernet                # \u94FE\u8DEF\u5C42\u4E3A\u4EE5\u592A\u7F51\uFF0C\u5373RoCE\u6A21\u5F0F\n"})}),"\n",(0,c.jsx)(n.h3,{id:"infiniband\u62D3\u6251\u4FE1\u606F",children:"InfiniBand\u62D3\u6251\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:["\u901A\u8FC7",(0,c.jsx)(n.code,{children:"ibnetdiscover"}),"\u5DE5\u5177\u67E5\u770B",(0,c.jsx)(n.code,{children:"IB"}),"\u62D3\u6251\u4FE1\u606F\uFF0C\u8BE5\u5DE5\u5177\u76F4\u63A5\u5411",(0,c.jsx)(n.code,{children:"IB"}),"\u5B50\u7F51\u7684",(0,c.jsx)(n.code,{children:"SM"}),"\u53D1\u8D77\u67E5\u8BE2\uFF0C\u4E00\u6B21\u6027\u8BFB\u53D6",(0,c.jsx)(n.code,{children:"SM"}),"\u91CC\u7EF4\u62A4\u7684",(0,c.jsxs)(n.strong,{children:["\u5168\u96C6\u7FA4",(0,c.jsx)(n.code,{children:"IB"}),"\u62D3\u6251\u8868"]}),"\uFF0C\u6240\u4EE5\u5728\u4EFB\u610F\u4E00\u53F0",(0,c.jsx)(n.code,{children:"IB"}),"\u8282\u70B9\u6267\u884C\uFF0C\u62FF\u5230\u7684\u90FD\u662F\u5B8C\u6574\u7684\u5168\u7F51\u62D3\u6251\u4FE1\u606F\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:'#\n# Topology file: generated on Fri Dec 26 13:52:02 2025    # \u62D3\u6251\u4FE1\u606F\u751F\u6210\u65F6\u95F4\n#\n# Initiated from node b8e9240300471762 port b8e9240300471762  # \u53D1\u8D77\u67E5\u8BE2\u7684\u8282\u70B9GUID\n\n# ====== \u4EA4\u6362\u673A\u4FE1\u606F ======\nvendid=0x2c9                            # \u5382\u5546ID\uFF0C0x2c9\u4EE3\u8868Mellanox/NVIDIA\ndevid=0xd2f2                            # \u8BBE\u5907ID\uFF0C0xd2f2\u4EE3\u8868MQM9700\u4EA4\u6362\u673A\u82AF\u7247\nsysimgguid=0xb0cf0e0300d66c80          # \u7CFB\u7EDF\u955C\u50CFGUID\nswitchguid=0xb0cf0e0300d66c80(b0cf0e0300d66c80)  # \u4EA4\u6362\u673AGUID\nSwitch  65 "S-b0cf0e0300d66c80"         # Switch\u8868\u793A\u4EA4\u6362\u673A\u8282\u70B9\uFF0C65\u4E3A\u7AEF\u53E3\u603B\u6570\n                                        # "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" \u4EA4\u6362\u673A\u63CF\u8FF0\u4FE1\u606F\n                                        # enhanced port 0 \u8868\u793A\u8FD9\u662F\u589E\u5F3A\u578B\u7AEF\u53E30\n                                        # lid 2 \u4EA4\u6362\u673A\u7684\u672C\u5730\u6807\u8BC6\u7B26\n                                        # lmc 0 LMC\u8BA1\u6570\u4E3A0\n[1]     "H-b8e924030045aaae"[1](b8e924030045aaae)       # \u4EA4\u6362\u673A\u7AEF\u53E31\u8FDE\u63A5\u7684\u4E3B\u673A\n                                        # "msxf-hpc-37-1-ai mlx5_0" \u4E3B\u673A\u540D\u548C\u7F51\u5361\u8BBE\u5907\n                                        # lid 71 \u8BE5\u4E3B\u673A\u7AEF\u53E3\u7684LID\n                                        # 4xNDR \u94FE\u8DEF\u901F\u7387\u4E3ANDR\uFF08400Gbps\uFF09\xd74\u901A\u9053\n[2]     "H-b8e924030045981e"[1](b8e924030045981e)       # \u4EA4\u6362\u673A\u7AEF\u53E32\u8FDE\u63A5\u5230\u53E6\u4E00\u4E2A\u4E3B\u673A\n                                        # "msxf-hpc-37-1-ai mlx5_2" lid 73 4xNDR\n[3]     "H-b8e924030045ab1e"[1](b8e924030045ab1e)       # \u4EA4\u6362\u673A\u7AEF\u53E33\n                                        # "msxf-hpc-37-1-ai mlx5_8" lid 7 4xNDR\n[4]     "H-b8e924030045963e"[1](b8e924030045963e)       # \u4EA4\u6362\u673A\u7AEF\u53E34\n                                        # "msxf-hpc-37-1-ai mlx5_6" lid 8 4xNDR\n[5]     "H-b8e92403004599fe"[1](b8e92403004599fe)       # \u4EA4\u6362\u673A\u7AEF\u53E35\n                                        # "msxf-hpc-37-2-ai mlx5_0" lid 5 4xNDR\n[6]     "H-b8e9240300459bd6"[1](b8e9240300459bd6)       # \u4EA4\u6362\u673A\u7AEF\u53E36\n                                        # "msxf-hpc-37-2-ai mlx5_2" lid 4 4xNDR\n[7]     "H-b8e9240300459b16"[1](b8e9240300459b16)       # \u4EA4\u6362\u673A\u7AEF\u53E37\n                                        # "msxf-hpc-37-2-ai mlx5_6" lid 10 4xNDR\n[8]     "H-b8e9240300471762"[1](b8e9240300471762)       # \u4EA4\u6362\u673A\u7AEF\u53E38\n                                        # "msxf-hpc-37-2-ai mlx5_8" lid 9 4xNDR\n[9]     "H-b8e924030040652a"[1](b8e924030040652a)       # \u4EA4\u6362\u673A\u7AEF\u53E39\n                                        # "msxf-hpc-37-3-ai mlx5_0" lid 75 4xNDR\n[10]    "H-b8e924030047100a"[1](b8e924030047100a)       # \u4EA4\u6362\u673A\u7AEF\u53E310\n                                        # "msxf-hpc-37-3-ai mlx5_2" lid 77 4xNDR\n[11]    "H-b8e9240300471542"[1](b8e9240300471542)       # \u4EA4\u6362\u673A\u7AEF\u53E311\n                                        # "msxf-hpc-37-3-ai mlx5_6" lid 14 4xNDR\n[12]    "H-b8e9240300471a1a"[1](b8e9240300471a1a)       # \u4EA4\u6362\u673A\u7AEF\u53E312\n                                        # "msxf-hpc-37-3-ai mlx5_8" lid 13 4xNDR\n[13]    "H-b8e9240300459c0e"[1](b8e9240300459c0e)       # \u4EA4\u6362\u673A\u7AEF\u53E313\n                                        # "msxf-hpc-37-4-ai mlx5_0" lid 79 4xNDR\n[14]    "H-b8e9240300459a06"[1](b8e9240300459a06)       # \u4EA4\u6362\u673A\u7AEF\u53E314\n                                        # "msxf-hpc-37-4-ai mlx5_2" lid 81 4xNDR\n[15]    "H-b8e92403004068d2"[1](b8e92403004068d2)       # \u4EA4\u6362\u673A\u7AEF\u53E315\n                                        # "msxf-hpc-37-4-ai mlx5_6" lid 12 4xNDR\n[16]    "H-b8e924030045b536"[1](b8e924030045b536)       # \u4EA4\u6362\u673A\u7AEF\u53E316\n                                        # "msxf-hpc-37-4-ai mlx5_8" lid 11 4xNDR\n[65]    "H-b0cf0e0300d66c88"[1](b0cf0e0300d66c88)       # \u4EA4\u6362\u673A\u7AEF\u53E365\uFF0C\u8FDE\u63A5\u805A\u5408\u8282\u70B9\n                                        # "Mellanox Technologies Aggregation Node" lid 6 4xNDR\n\n# ====== \u4E3B\u673A\u901A\u9053\u9002\u914D\u5668\uFF08HCA\uFF09\u4FE1\u606F ======\nvendid=0x2c9\ndevid=0x1021                            # \u8BBE\u5907ID\uFF0C0x1021\u4EE3\u8868ConnectX-7\u7F51\u5361\nsysimgguid=0xb8e924030045b536          # \u7CFB\u7EDF\u955C\u50CFGUID\ncaguid=0xb8e924030045b536              # \u901A\u9053\u9002\u914D\u5668GUID\nCa      1 "H-b8e924030045b536"          # Ca\u8868\u793A\u4E3B\u673A\u901A\u9053\u9002\u914D\u5668\uFF0C1\u8868\u793A\u67091\u4E2A\u7AEF\u53E3\n                                        # "msxf-hpc-37-4-ai mlx5_8" \u4E3B\u673A\u540D\u548C\u8BBE\u5907\u540D\n[1](b8e924030045b536)   "S-b0cf0e0300d66c80"[16]        # \u8BE5HCA\u7684\u7AEF\u53E31\u8FDE\u63A5\u5230\u4EA4\u6362\u673A\u7684\u7AEF\u53E316\n                                        # lid 11 lmc 0 \u8BE5\u7AEF\u53E3\u7684LID\u548CLMC\n                                        # "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" \u4EA4\u6362\u673A\u4FE1\u606F\n                                        # lid 2 \u4EA4\u6362\u673A\u7684LID\n                                        # 4xNDR \u94FE\u8DEF\u901F\u7387\n\nvendid=0x2c9\ndevid=0xcf09                            # \u8BBE\u5907ID\uFF0C0xcf09\u4EE3\u8868\u805A\u5408\u8282\u70B9\u8BBE\u5907\nsysimgguid=0xb0cf0e0300d66c80\ncaguid=0xb0cf0e0300d66c88\nCa      1 "H-b0cf0e0300d66c88"          # \u805A\u5408\u8282\u70B9\u7684HCA\n                                        # "Mellanox Technologies Aggregation Node"\n[1](b0cf0e0300d66c88)   "S-b0cf0e0300d66c80"[65]        # \u8FDE\u63A5\u5230\u4EA4\u6362\u673A\u7684\u7AEF\u53E365\n                                        # lid 6 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e92403004068d2\ncaguid=0xb8e92403004068d2\nCa      1 "H-b8e92403004068d2"          # "msxf-hpc-37-4-ai mlx5_6"\n[1](b8e92403004068d2)   "S-b0cf0e0300d66c80"[15]        # \u8FDE\u63A5\u5230\u4EA4\u6362\u673A\u7AEF\u53E315\n                                        # lid 12 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300459a06\ncaguid=0xb8e9240300459a06\nCa      1 "H-b8e9240300459a06"          # "msxf-hpc-37-4-ai mlx5_2"\n[1](b8e9240300459a06)   "S-b0cf0e0300d66c80"[14]                # lid 81 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300459c0e\ncaguid=0xb8e9240300459c0e\nCa      1 "H-b8e9240300459c0e"          # "msxf-hpc-37-4-ai mlx5_0"\n[1](b8e9240300459c0e)   "S-b0cf0e0300d66c80"[13]                # lid 79 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300471a1a\ncaguid=0xb8e9240300471a1a\nCa      1 "H-b8e9240300471a1a"          # "msxf-hpc-37-3-ai mlx5_8"\n[1](b8e9240300471a1a)   "S-b0cf0e0300d66c80"[12]                # lid 13 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300471542\ncaguid=0xb8e9240300471542\nCa      1 "H-b8e9240300471542"          # "msxf-hpc-37-3-ai mlx5_6"\n[1](b8e9240300471542)   "S-b0cf0e0300d66c80"[11]                # lid 14 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030047100a\ncaguid=0xb8e924030047100a\nCa      1 "H-b8e924030047100a"          # "msxf-hpc-37-3-ai mlx5_2"\n[1](b8e924030047100a)   "S-b0cf0e0300d66c80"[10]                # lid 77 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030040652a\ncaguid=0xb8e924030040652a\nCa      1 "H-b8e924030040652a"          # "msxf-hpc-37-3-ai mlx5_0"\n[1](b8e924030040652a)   "S-b0cf0e0300d66c80"[9]         # lid 75 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300459b16\ncaguid=0xb8e9240300459b16\nCa      1 "H-b8e9240300459b16"          # "msxf-hpc-37-2-ai mlx5_6"\n[1](b8e9240300459b16)   "S-b0cf0e0300d66c80"[7]         # lid 10 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300459bd6\ncaguid=0xb8e9240300459bd6\nCa      1 "H-b8e9240300459bd6"          # "msxf-hpc-37-2-ai mlx5_2"\n[1](b8e9240300459bd6)   "S-b0cf0e0300d66c80"[6]         # lid 4 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e92403004599fe\ncaguid=0xb8e92403004599fe\nCa      1 "H-b8e92403004599fe"          # "msxf-hpc-37-2-ai mlx5_0"\n[1](b8e92403004599fe)   "S-b0cf0e0300d66c80"[5]         # lid 5 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030045963e\ncaguid=0xb8e924030045963e\nCa      1 "H-b8e924030045963e"          # "msxf-hpc-37-1-ai mlx5_6"\n[1](b8e924030045963e)   "S-b0cf0e0300d66c80"[4]         # lid 8 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030045ab1e\ncaguid=0xb8e924030045ab1e\nCa      1 "H-b8e924030045ab1e"          # "msxf-hpc-37-1-ai mlx5_8"\n[1](b8e924030045ab1e)   "S-b0cf0e0300d66c80"[3]         # lid 7 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030045981e\ncaguid=0xb8e924030045981e\nCa      1 "H-b8e924030045981e"          # "msxf-hpc-37-1-ai mlx5_2"\n[1](b8e924030045981e)   "S-b0cf0e0300d66c80"[2]         # lid 73 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e924030045aaae\ncaguid=0xb8e924030045aaae\nCa      1 "H-b8e924030045aaae"          # "msxf-hpc-37-1-ai mlx5_0"\n[1](b8e924030045aaae)   "S-b0cf0e0300d66c80"[1]         # lid 71 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n\nvendid=0x2c9\ndevid=0x1021\nsysimgguid=0xb8e9240300471762\ncaguid=0xb8e9240300471762\nCa      1 "H-b8e9240300471762"          # "msxf-hpc-37-2-ai mlx5_8"\n[1](b8e9240300471762)   "S-b0cf0e0300d66c80"[8]         # lid 9 lmc 0 "MF0;DCXNYD-IB03-D1F2-D207-F08-U45:MQM9700/U1" lid 2 4xNDR\n'})}),"\n",(0,c.jsx)(n.h2,{id:"roce",children:"RoCE"}),"\n",(0,c.jsx)(n.h3,{id:"pci\u8BBE\u5907\u4FE1\u606F-1",children:"PCI\u8BBE\u5907\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:["\u67E5\u770B\u7F51\u5361\u8BBE\u5907\uFF1A",(0,c.jsx)(n.code,{children:'lspci | grep -iE "InfiniBand|Mellanox"'})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"d8:00.0 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]\nd8:00.1 Ethernet controller: Mellanox Technologies MT27710 Family [ConnectX-4 Lx]\n"})}),"\n",(0,c.jsx)(n.h3,{id:"pci-nfd\u6807\u7B7E-1",children:"PCI NFD\u6807\u7B7E"}),"\n",(0,c.jsxs)(n.p,{children:["\u5982\u679C",(0,c.jsx)(n.code,{children:"K8S"}),"\u96C6\u7FA4\u6709\u5B89\u88C5",(0,c.jsx)(n.code,{children:"NFD"}),"\u7EC4\u4EF6\uFF0C",(0,c.jsx)(n.code,{children:"NFD"}),"\u5C06\u81EA\u52A8\u68C0\u6D4B",(0,c.jsx)(n.code,{children:"PCI"}),"\u8BBE\u5907\u5E76\u4E3A\u8282\u70B9\u6253\u4E0A\u5982\u4E0B\u6807\u7B7E\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:'feature.node.kubernetes.io/rdma.available: "true"\nfeature.node.kubernetes.io/rdma.capable: "true"\nfeature.node.kubernetes.io/pci-10de.present: "true"\nfeature.node.kubernetes.io/pci-15b3.present: "true"\nfeature.node.kubernetes.io/pci-15b3.sriov.capable: "true"\nfeature.node.kubernetes.io/pci-1a03.present: "true"\n'})}),"\n",(0,c.jsx)(n.h3,{id:"rdma\u8BBE\u5907\u4FE1\u606F-1",children:"RDMA\u8BBE\u5907\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:["\u901A\u8FC7",(0,c.jsx)(n.code,{children:"ibv_devinfo"}),"\u5DE5\u5177\u67E5\u770B\u672C\u8282\u70B9\u4E0A\u6240\u6709",(0,c.jsx)(n.code,{children:"IB"}),"\u534F\u8BAE\u7684\u6240\u6709",(0,c.jsx)(n.code,{children:"RDMA"}),"\u7F51\u5361\uFF0C\u5982\u7269\u7406",(0,c.jsx)(n.code,{children:"IB"}),"\u7F51\u5361\u3001\u7269\u7406",(0,c.jsx)(n.code,{children:"RoCE"}),"\u7F51\u5361\uFF1A"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"hca_id: rocep216s0f0                    # RoCE\u8BBE\u5907ID\uFF0C\u547D\u540D\u683C\u5F0F\uFF1Aroce + PCI\u5730\u5740 + \u529F\u80FD\u53F7\n  transport:                      InfiniBand (0)          # \u4F20\u8F93\u5C42\u4ECD\u663E\u793AInfiniBand\uFF0C\u56E0\u4E3ARoCE\u4F7F\u7528IB\u534F\u8BAE\u6808\n  fw_ver:                         14.32.1010              # \u56FA\u4EF6\u7248\u672C\u53F7\n  node_guid:                      b83f:d203:00a9:cc14     # \u8282\u70B9\u5168\u5C40\u552F\u4E00\u6807\u8BC6\u7B26\n  sys_image_guid:                 b83f:d203:00a9:cc14     # \u7CFB\u7EDF\u955C\u50CFGUID\n  vendor_id:                      0x02c9                  # \u5382\u5546ID\uFF0C0x02c9\u4EE3\u8868Mellanox/NVIDIA\n  vendor_part_id:                 4117                    # \u4EA7\u54C1\u578B\u53F7ID\uFF0C4117\u5BF9\u5E94ConnectX-4 Lx\n  hw_ver:                         0x0                     # \u786C\u4EF6\u7248\u672C\u53F7\n  board_id:                       MT_2420110034           # \u677F\u5361ID\n  phys_port_cnt:                  1                       # \u7269\u7406\u7AEF\u53E3\u6570\u91CF\n    port:   1                                       # \u7AEF\u53E3\u7F16\u53F7\n      state:                  PORT_ACTIVE (4)         # \u7AEF\u53E3\u72B6\u6001\uFF1A\u6D3B\u8DC3(4)\uFF0C\u5DF2\u8FDE\u63A5\u53EF\u7528\n      max_mtu:                4096 (5)                # \u6700\u5927MTU\u652F\u63014096\u5B57\u8282\n      active_mtu:             1024 (3)                # \u5F53\u524DMTU\u4E3A1500\u5B57\u8282\uFF08\u6807\u51C6\u4EE5\u592A\u7F51\uFF09\n      sm_lid:                 0                       # RoCE\u7F51\u7EDC\u65E0\u5B50\u7F51\u7BA1\u7406\u5668\uFF0CLID\u4E3A0\n      port_lid:               0                       # RoCE\u7F51\u7EDC\u4E0D\u4F7F\u7528LID\u5BFB\u5740\uFF0C\u4F7F\u7528MAC/IP\n      port_lmc:               0x00                    # \u65E0LMC\u914D\u7F6E\n      link_layer:             Ethernet                # \u94FE\u8DEF\u5C42\u4E3A\u4EE5\u592A\u7F51\uFF0C\u6807\u8BC6\u8FD9\u662FRoCE\u8BBE\u5907\n"})}),"\n",(0,c.jsx)(n.h4,{id:"\u4E3A\u4EC0\u4E48-roce-\u7F51\u5361\u4FE1\u606F\u4E0A\u4F1A\u663E\u793A-transport-infiniband-0",children:"\u4E3A\u4EC0\u4E48 RoCE \u7F51\u5361\u4FE1\u606F\u4E0A\u4F1A\u663E\u793A transport: InfiniBand (0)\uFF1F"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"RoCE"}),"\u5C5E\u4E8E",(0,c.jsx)(n.code,{children:"IB"}),"\u534F\u8BAE\u4F53\u7CFB\uFF0C\u53EA\u662F\u5E95\u5C42\u4F20\u8F93\u4ECB\u8D28\u6362\u6210\u4E86\u4EE5\u592A\u7F51\uFF0C\u4E0A\u5C42\u7684\u534F\u8BAE\u903B\u8F91\u3001\u4EA4\u4E92\u89C4\u5219\u3001\u63A5\u53E3\u8C03\u7528\uFF0C\u548C\u7269\u7406",(0,c.jsx)(n.code,{children:"IB"}),"\u7F51\u5361\u5B8C\u5168\u4E00\u6A21\u4E00\u6837\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"RoCE"}),"\u672C\u8D28\u662F\u300C\u5728\u4EE5\u592A\u7F51\u4E0A\u8DD1",(0,c.jsx)(n.code,{children:"InfiniBand"}),"\u7684",(0,c.jsx)(n.code,{children:"RDMA"}),"\u534F\u8BAE\u6808\u300D",(0,c.jsx)(n.code,{children:"IB"}),"\u662F\u4E00\u5957\u5B8C\u6574\u7684",(0,c.jsx)(n.code,{children:"RDMA"}),"\u534F\u8BAE\u6807\u51C6\uFF0C",(0,c.jsx)(n.code,{children:"RoCE"}),"\u662F\u8FD9\u5957\u6807\u51C6\u7684\u4EE5\u592A\u7F51\u627F\u8F7D\u5B9E\u73B0\uFF0C",(0,c.jsx)(n.code,{children:"IB"}),"\u548C",(0,c.jsx)(n.code,{children:"RoCE"}),"\u5171\u7528\u540C\u4E00\u4E2A",(0,c.jsx)(n.code,{children:"RDMA"}),"\u534F\u8BAE\u4E0A\u5C42\uFF0C\u53EA\u662F\u5E95\u5C42\u7684\u4F20\u8F93\u4ECB\u8D28\u4E0D\u540C\u3002"]}),"\n",(0,c.jsx)(n.h4,{id:"\u4E3A\u4EC0\u4E48\u901A\u8FC7lspci\u770B\u5230\u67092\u5F20roce\u7684\u7F51\u5361\u4F46\u662F\u901A\u8FC7ibv_devinfo\u5374\u53EA\u770B\u5230\u4E00\u4E2A\u8BBE\u5907\u4FE1\u606F",children:"\u4E3A\u4EC0\u4E48\u901A\u8FC7lspci\u770B\u5230\u67092\u5F20RoCE\u7684\u7F51\u5361\uFF0C\u4F46\u662F\u901A\u8FC7ibv_devinfo\u5374\u53EA\u770B\u5230\u4E00\u4E2A\u8BBE\u5907\u4FE1\u606F\uFF1F"}),"\n",(0,c.jsxs)(n.p,{children:["\u56E0\u4E3A\u8FD9\u91CC\u7684\u786C\u4EF6\u662F\u4E00\u5757",(0,c.jsx)(n.code,{children:"Mellanox ConnectX-4 Lx"}),"\u53CC\u53E3\u7269\u7406\u7F51\u5361\uFF0C",(0,c.jsx)(n.code,{children:"lspci"}),"\u8BC6\u522B\u7684\u662F\u300C\u7269\u7406",(0,c.jsx)(n.code,{children:"PCI"}),"\u7AEF\u53E3\u300D\uFF0C\u800C",(0,c.jsx)(n.code,{children:"ibv_devinfo"}),"\u8BC6\u522B\u7684\u662F\u300C",(0,c.jsx)(n.code,{children:"RDMA"}),"\u9A71\u52A8\u5C42\u9762\u7684",(0,c.jsx)(n.code,{children:"HCA"}),"\u8BBE\u5907\u300D\u2014\u2014\u8FC8\u7EDC\u601D\u7684\u53CC\u53E3",(0,c.jsx)(n.code,{children:"RoCE"}),"/",(0,c.jsx)(n.code,{children:"IB"}),"\u7F51\u5361\uFF0C\u5728 ",(0,c.jsx)(n.code,{children:"RDMA"})," \u9A71\u52A8\u5C42\u53EA\u4F1A\u88AB\u8BC6\u522B\u4E3A\u300C\u4E00\u4E2A ",(0,c.jsx)(n.code,{children:"HCA"})," \u4E3B\u8BBE\u5907\u300D\uFF0C\u4E24\u4E2A\u7269\u7406\u7F51\u53E3\u662F\u8FD9\u4E2A\u4E3B\u8BBE\u5907\u4E0B\u7684\u300C\u4E24\u4E2A\u5B50\u7AEF\u53E3\u300D\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u5F53\u524D",(0,c.jsx)(n.code,{children:"ibv_devinfo"}),"\u91CC\u53EA\u663E\u793A",(0,c.jsx)(n.code,{children:"phys_port_cnt: 1"}),"\uFF0C\u8BF4\u660E\u4F60\u7684\u53CC\u53E3\u7F51\u5361\uFF0C\u53EA\u542F\u7528\u4E86",(0,c.jsx)(n.code,{children:"1"}),"\u4E2A\u7F51\u53E3\u7684",(0,c.jsx)(n.code,{children:"RDMA"}),"\u529F\u80FD\uFF0C\u53E6\u4E00\u4E2A\u7F51\u53E3\u8981\u4E48\u7269\u7406\u672A\u63D2\u7EBF/\u94FE\u8DEF",(0,c.jsx)(n.code,{children:"Down"}),"\uFF0C\u8981\u4E48",(0,c.jsx)(n.code,{children:"RDMA"}),"\u529F\u80FD\u672A\u542F\u7528\uFF0C\u5E76\u4E0D\u662F\u7F51\u5361\u6D88\u5931\u4E86\u3002"]}),"\n",(0,c.jsx)(n.h3,{id:"ethernet\u62D3\u6251\u4FE1\u606F",children:"Ethernet\u62D3\u6251\u4FE1\u606F"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.code,{children:"RoCE"}),"\u57FA\u4E8E\u4EE5\u592A\u7F51\uFF0C\u800C\u4EE5\u592A\u7F51\u53EF\u4EE5\u901A\u8FC7",(0,c.jsx)(n.code,{children:"LLDP"}),"\u534F\u8BAE\u611F\u77E5\u62D3\u6251\uFF0C\u56E0\u6B64\u9700\u8981\u5148\u5B89\u88C5",(0,c.jsx)(n.code,{children:"LLDP"}),"\u62D3\u6251\u611F\u77E5\u5DE5\u5177\uFF1A"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"apt install lldpd\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u901A\u8FC7",(0,c.jsx)(n.code,{children:"lldpctl"}),"\u67E5\u770B",(0,c.jsx)(n.code,{children:"RoCE"}),"\u62D3\u6251\u4FE1\u606F\u3002"]}),"\n",(0,c.jsxs)(n.p,{children:["\u53EA\u80FD\u63A2\u6D4B\u3010\u5F53\u524D\u8282\u70B9\u3011\u81EA\u8EAB \u2194 \u76F4\u8FDE\u4EA4\u6362\u673A \u7684\u5355\u5C42\u62D3\u6251\u4FE1\u606F\uFF08\u672C\u673A\u7F51\u5361\u8FDE\u5230\u54EA\u53F0\u4EA4\u6362\u673A\u3001\u54EA\u4E2A\u7AEF\u53E3\u3001\u54EA\u4E2A",(0,c.jsx)(n.code,{children:"VLAN"}),"\uFF09\uFF0C\u770B\u4E0D\u5230\u5176\u4ED6\u8282\u70B9\u7684\u62D3\u6251\u3001\u770B\u4E0D\u5230\u4EA4\u6362\u673A\u4E4B\u95F4\u7684\u7EA7\u8054\u62D3\u6251\u3001\u770B\u4E0D\u5230\u8DE8\u8282\u70B9\u7684\u7F51\u7EDC\u5173\u7CFB\u3002"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-bash",children:"-------------------------------------------------------------------------------\nLLDP neighbors:                         # LLDP\u90BB\u5C45\u8BBE\u5907\u4FE1\u606F\n-------------------------------------------------------------------------------\nInterface:    ens64f0np0, via: LLDP, RID: 1, Time: 0 day, 00:00:18  # \u672C\u5730\u63A5\u53E3\u540D\u79F0\uFF0C\u901A\u8FC7LLDP\u534F\u8BAE\u53D1\u73B0\n  Chassis:                              # \u5BF9\u7AEF\u8BBE\u5907\u673A\u7BB1\u4FE1\u606F\n    ChassisID:    mac ec:cd:4c:e3:09:9c                # \u5BF9\u7AEF\u8BBE\u5907MAC\u5730\u5740\uFF08\u673A\u7BB1ID\uFF09\n    SysName:      DCXNYD-DMXCS-LEAF21_D1F2-D207-A09-U45-U43  # \u5BF9\u7AEF\u4EA4\u6362\u673A\u7CFB\u7EDF\u540D\u79F0\n    SysDescr:     H3C Comware Platform Software, Software Version 7.1.070, Release 6715  # \u7CFB\u7EDF\u63CF\u8FF0\uFF0C\u8F6F\u4EF6\u7248\u672C\n                  H3C S6850-56HF                        # \u4EA4\u6362\u673A\u578B\u53F7\n                  Copyright (c) 2004-2024 New H3C Technologies Co., Ltd. All rights reserved.\n    MgmtIP:       10.112.30.254                         # \u4EA4\u6362\u673A\u7BA1\u7406IP\u5730\u5740\n    MgmtIface:    2153                                  # \u7BA1\u7406\u63A5\u53E3ID\n    Capability:   Bridge, on                            # \u5177\u5907\u6865\u63A5\u80FD\u529B\uFF0C\u5DF2\u542F\u7528\n    Capability:   Router, on                            # \u5177\u5907\u8DEF\u7531\u80FD\u529B\uFF0C\u5DF2\u542F\u7528\n  Port:                                 # \u5BF9\u7AEF\u7AEF\u53E3\u4FE1\u606F\n    PortID:       ifname Twenty-FiveGigE2/0/1          # \u5BF9\u7AEF\u7AEF\u53E3\u6807\u8BC6\uFF0C25GbE\u7B2C2\u6A21\u5757\u7B2C0\u69FD\u4F4D\u7B2C1\u7AEF\u53E3\n    PortDescr:    Twenty-FiveGigE2/0/1 Interface       # \u7AEF\u53E3\u63CF\u8FF0\n    TTL:          121                                   # \u5B58\u6D3B\u65F6\u95F4\uFF08\u79D2\uFF09\uFF0CLLDP\u4FE1\u606F\u6709\u6548\u671F\n    MFS:          9416                                  # \u6700\u5927\u5E27\u5927\u5C0F\uFF08\u5B57\u8282\uFF09\uFF0C\u652F\u6301Jumbo Frame\n    PMD autoneg:  supported: yes, enabled: yes         # \u7269\u7406\u4ECB\u8D28\u76F8\u5173\uFF08PMD\uFF09\u81EA\u52A8\u534F\u5546\uFF0C\u5DF2\u652F\u6301\u5E76\u542F\u7528\n      MAU oper type: 25GbaseSR - 25GBASE-R PCS/PMA over multimode fiber  # \u4ECB\u8D28\u8FDE\u63A5\u5355\u5143\u7C7B\u578B\uFF0C25G\u77ED\u8DDD\u591A\u6A21\u5149\u7EA4\n    MDI Power:    supported: no, enabled: no, pair control: no  # \u4ECB\u8D28\u76F8\u5173\u63A5\u53E3\u4F9B\u7535\uFF08PoE\uFF09\uFF0C\u4E0D\u652F\u6301\n      Device type:  PD                                  # \u8BBE\u5907\u7C7B\u578B\uFF1A\u53D7\u7535\u8BBE\u5907\uFF08Powered Device\uFF09\n      Power pairs:  signal                              # \u4F9B\u7535\u7EBF\u5BF9\uFF1A\u4FE1\u53F7\u7EBF\u5BF9\n      Class:        class 0                             # \u529F\u7387\u7B49\u7EA7\uFF1A0\u7EA7\uFF08\u4E0D\u4F7F\u7528PoE\uFF09\n  VLAN:         900, pvid: yes                          # VLAN ID\u4E3A900\uFF0C\u4E14\u4E3A\u7AEF\u53E3VLAN ID\uFF08\u539F\u751FVLAN\uFF09\n-------------------------------------------------------------------------------\nInterface:    ens64f1np1, via: LLDP, RID: 1, Time: 0 day, 00:00:18  # \u7B2C\u4E8C\u4E2A\u7F51\u7EDC\u63A5\u53E3\n  Chassis:     \n    ChassisID:    mac ec:cd:4c:e3:09:9c                # \u540C\u4E00\u53F0\u4EA4\u6362\u673A\uFF08\u76F8\u540CMAC\u5730\u5740\uFF09\n    SysName:      DCXNYD-DMXCS-LEAF21_D1F2-D207-A09-U45-U43\n    SysDescr:     H3C Comware Platform Software, Software Version 7.1.070, Release 6715\n                  H3C S6850-56HF\n                  Copyright (c) 2004-2024 New H3C Technologies Co., Ltd. All rights reserved.\n    MgmtIP:       10.112.30.254\n    MgmtIface:    2153\n    Capability:   Bridge, on\n    Capability:   Router, on\n  Port:        \n    PortID:       ifname Twenty-FiveGigE1/0/1          # \u8FDE\u63A5\u5230\u4EA4\u6362\u673A\u7684\u53E6\u4E00\u4E2A\u7AEF\u53E3\uFF08\u7B2C1\u6A21\u5757\u7B2C0\u69FD\u4F4D\u7B2C1\u7AEF\u53E3\uFF09\n    PortDescr:    Twenty-FiveGigE1/0/1 Interface\n    TTL:          121\n    MFS:          9416\n    PMD autoneg:  supported: yes, enabled: yes\n      MAU oper type: 25GbaseSR - 25GBASE-R PCS/PMA over multimode fiber\n    MDI Power:    supported: no, enabled: no, pair control: no\n      Device type:  PD\n      Power pairs:  signal\n      Class:        class 0\n  VLAN:         900, pvid: yes                          # \u540C\u6837\u5728VLAN 900\u4E2D\n-------------------------------------------------------------------------------\n"})})]})}function x(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(t,{...e})}):t(e)}},50065:function(e,n,d){d.d(n,{Z:function(){return s},a:function(){return r}});var i=d(67294);let c={},l=i.createContext(c);function r(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);