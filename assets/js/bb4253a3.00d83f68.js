"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["5515"],{76160:function(e,n,s){s.r(n),s.d(n,{metadata:()=>c,contentTitle:()=>r,default:()=>h,assets:()=>t,toc:()=>i,frontMatter:()=>d});var c=JSON.parse('{"id":"docs/\u4E91\u539F\u751F/Kubernetes/Kuberntes krew\u5E38\u7528\u63D2\u4EF6","title":"Kuberntes krew\u5E38\u7528\u63D2\u4EF6","description":"\u8BE6\u7EC6\u4ECB\u7ECDKubernetes krew\u63D2\u4EF6\u7BA1\u7406\u5668\u7684\u5B89\u88C5\u4F7F\u7528\uFF0C\u4EE5\u53CAns\u3001ctx\u3001stern\u3001view-allocations\u3001tree\u3001node-shell\u3001images\u7B49\u5E38\u7528\u63D2\u4EF6\u7684\u529F\u80FD\u7279\u6027\u548C\u4F7F\u7528\u793A\u4F8B\uFF0C\u63D0\u9AD8Kubernetes\u8FD0\u7EF4\u6548\u7387\u7684\u5FC5\u5907\u5DE5\u5177\u96C6\u5408\u3002","source":"@site/docs/docs/2000-\u4E91\u539F\u751F/200-Kubernetes/1500-Kuberntes krew\u5E38\u7528\u63D2\u4EF6.md","sourceDirName":"docs/2000-\u4E91\u539F\u751F/200-Kubernetes","slug":"/cloud-native/kubernetes-krew-plugins","permalink":"/cloud-native/kubernetes-krew-plugins","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1500,"frontMatter":{"slug":"/cloud-native/kubernetes-krew-plugins","title":"Kuberntes krew\u5E38\u7528\u63D2\u4EF6","hide_title":true,"keywords":["krew","kubectl\u63D2\u4EF6","kubernetes\u63D2\u4EF6\u7BA1\u7406\u5668","ns\u63D2\u4EF6","ctx\u63D2\u4EF6","stern\u65E5\u5FD7","view-allocations","kubectl-tree","node-shell","kubectl-images","\u547D\u540D\u7A7A\u95F4\u5207\u6362","\u96C6\u7FA4\u4E0A\u4E0B\u6587\u5207\u6362","\u8D44\u6E90\u5206\u914D\u67E5\u770B","\u591Apod\u65E5\u5FD7","\u8282\u70B9shell\u8BBF\u95EE"],"description":"\u8BE6\u7EC6\u4ECB\u7ECDKubernetes krew\u63D2\u4EF6\u7BA1\u7406\u5668\u7684\u5B89\u88C5\u4F7F\u7528\uFF0C\u4EE5\u53CAns\u3001ctx\u3001stern\u3001view-allocations\u3001tree\u3001node-shell\u3001images\u7B49\u5E38\u7528\u63D2\u4EF6\u7684\u529F\u80FD\u7279\u6027\u548C\u4F7F\u7528\u793A\u4F8B\uFF0C\u63D0\u9AD8Kubernetes\u8FD0\u7EF4\u6548\u7387\u7684\u5FC5\u5907\u5DE5\u5177\u96C6\u5408\u3002"},"sidebar":"mainSidebar","previous":{"title":"Kuberntes \u5E38\u7528\u547D\u4EE4","permalink":"/cloud-native/kubernetes-common-commands"},"next":{"title":"Kubernetes kustomize","permalink":"/cloud-native/kubernetes-kustomize"}}'),o=s("85893"),l=s("50065");let d={slug:"/cloud-native/kubernetes-krew-plugins",title:"Kuberntes krew\u5E38\u7528\u63D2\u4EF6",hide_title:!0,keywords:["krew","kubectl\u63D2\u4EF6","kubernetes\u63D2\u4EF6\u7BA1\u7406\u5668","ns\u63D2\u4EF6","ctx\u63D2\u4EF6","stern\u65E5\u5FD7","view-allocations","kubectl-tree","node-shell","kubectl-images","\u547D\u540D\u7A7A\u95F4\u5207\u6362","\u96C6\u7FA4\u4E0A\u4E0B\u6587\u5207\u6362","\u8D44\u6E90\u5206\u914D\u67E5\u770B","\u591Apod\u65E5\u5FD7","\u8282\u70B9shell\u8BBF\u95EE"],description:"\u8BE6\u7EC6\u4ECB\u7ECDKubernetes krew\u63D2\u4EF6\u7BA1\u7406\u5668\u7684\u5B89\u88C5\u4F7F\u7528\uFF0C\u4EE5\u53CAns\u3001ctx\u3001stern\u3001view-allocations\u3001tree\u3001node-shell\u3001images\u7B49\u5E38\u7528\u63D2\u4EF6\u7684\u529F\u80FD\u7279\u6027\u548C\u4F7F\u7528\u793A\u4F8B\uFF0C\u63D0\u9AD8Kubernetes\u8FD0\u7EF4\u6548\u7387\u7684\u5FC5\u5907\u5DE5\u5177\u96C6\u5408\u3002"},r=void 0,t={},i=[{value:"\u5B89\u88C5krew",id:"\u5B89\u88C5krew",level:2},{value:"\u522B\u540D\u914D\u7F6E",id:"\u522B\u540D\u914D\u7F6E",level:2},{value:"\u5E38\u7528\u63D2\u4EF6",id:"\u5E38\u7528\u63D2\u4EF6",level:2},{value:"ns",id:"ns",level:3},{value:"ctx",id:"ctx",level:3},{value:"stern",id:"stern",level:3},{value:"view-allocations",id:"view-allocations",level:3},{value:"tree",id:"tree",level:3},{value:"node-shell",id:"node-shell",level:3},{value:"images",id:"images",level:3}];function a(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u5B89\u88C5krew",children:"\u5B89\u88C5krew"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"krew"}),"\u662F",(0,o.jsx)(n.code,{children:"K8S"}),"\u7684\u63D2\u4EF6\u7BA1\u7406\u5668\uFF0C\u63D0\u4F9B\u4E86\u5F88\u591A\u6709\u7528\u7684\u63D2\u4EF6\uFF0C\u53EF\u4EE5\u5927\u5927\u63D0\u9AD8\u5DE5\u4F5C\u6548\u7387\u3002\u5B89\u88C5",(0,o.jsx)(n.code,{children:"krew"}),"\u8BF7\u53C2\u8003\u5B98\u65B9\u6587\u6863\uFF1A\n",(0,o.jsx)(n.a,{href:"https://krew.sigs.k8s.io/docs/user-guide/setup/install/",children:"https://krew.sigs.k8s.io/docs/user-guide/setup/install/"})]}),"\n",(0,o.jsx)(n.h2,{id:"\u522B\u540D\u914D\u7F6E",children:"\u522B\u540D\u914D\u7F6E"}),"\n",(0,o.jsxs)(n.p,{children:["\u6839\u636E\u5F53\u524D\u7CFB\u7EDF\u8BBE\u7F6E\u7684\u9ED8\u8BA4",(0,o.jsx)(n.code,{children:"shell"}),"\u5DE5\u5177\uFF0C\u4FEE\u6539",(0,o.jsx)(n.code,{children:"~/.bashrc"}),"\u6587\u4EF6\u6216\u8005",(0,o.jsx)(n.code,{children:"~/.zprofile"}),"\u6587\u4EF6\uFF0C\u6DFB\u52A0\u522B\u540D\u914D\u7F6E\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"alias k=kubectl\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u5E38\u7528\u63D2\u4EF6",children:"\u5E38\u7528\u63D2\u4EF6"}),"\n",(0,o.jsx)(n.h3,{id:"ns",children:"ns"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"ns"}),"\u662F\u4E00\u4E2A\u53EF\u4EE5\u5728",(0,o.jsx)(n.code,{children:"kubernetes"}),"\u96C6\u7FA4\u91CC\u9762\u5207\u6362\u547D\u540D\u7A7A\u95F4\u7684\u63D2\u4EF6\u3002\u4F60\u662F\u5426\u538C\u70E6\u4E86\u6BCF\u6B21\u6572",(0,o.jsx)(n.code,{children:"kubectl"}),"\u547D\u4EE4\u65F6\u90FD\u8981\u52A0\u4E0A",(0,o.jsx)(n.code,{children:"-n <namespaces>"}),"\u7684\u53C2\u6570\uFF0C\u53C8\u4E0D\u60F3\u5728",(0,o.jsx)(n.code,{children:"config"}),"\u91CC\u9762\u7EF4\u62A4\u5927\u91CF",(0,o.jsx)(n.code,{children:"context"}),"\u3002\u90A3\u4E48",(0,o.jsx)(n.code,{children:"ns"}),"\u63D2\u4EF6\u5C31\u662F\u6765\u89E3\u6551\u4F60\u7684\uFF0C\u5B83\u4F1A\u5728\u5207\u6362\u547D\u540D\u7A7A\u95F4\u65F6\u4FEE\u6539\u5F53\u524D",(0,o.jsx)(n.code,{children:"config"}),"\u91CC\u9762\u7684",(0,o.jsx)(n.code,{children:"context"}),"\u5230\u5F53\u524D\u547D\u540D\u7A7A\u95F4\uFF0C\u8FD9\u6837\u4F60\u5C31\u4E0D\u7528\u518D\u52A0",(0,o.jsx)(n.code,{children:"-n"}),"\u53C2\u6570\u4E86\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"ns"}),"\u63D2\u4EF6\u4ED3\u5E93\u4E0E",(0,o.jsx)(n.code,{children:"ctx"}),"\u63D2\u4EF6\u6E90\u7801\u4ED3\u5E93\u662F\u540C\u4E00\u4E2A\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/ahmetb/kubectx",children:"https://github.com/ahmetb/kubectx"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install ns\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ k ns volcano-system\nContext "kind-john" modified.\nActive namespace is "volcano-system".\n\n$ k get pod\nNAME                                   READY   STATUS    RESTARTS   AGE\nvolcano-admission-5dd7897d96-rwfxn     1/1     Running   0          9d\nvolcano-controllers-7c58d44b88-bbmwm   1/1     Running   0          9d\nvolcano-scheduler-65c58864d-5wtd8      1/1     Running   0          8d\n'})}),"\n",(0,o.jsx)(n.h3,{id:"ctx",children:"ctx"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"ctx"}),"\u662F\u4E00\u4E2A\u53EF\u4EE5\u5728",(0,o.jsx)(n.code,{children:"kubernetes"}),"\u96C6\u7FA4\u91CC\u9762\u5207\u6362",(0,o.jsx)(n.code,{children:"context"}),"\u7684\u63D2\u4EF6\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"ns"}),"\u63D2\u4EF6\u4ED3\u5E93\u4E0E",(0,o.jsx)(n.code,{children:"ctx"}),"\u63D2\u4EF6\u6E90\u7801\u4ED3\u5E93\u662F\u540C\u4E00\u4E2A\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/ahmetb/kubectx",children:"https://github.com/ahmetb/kubectx"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install ctx\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# switch to another cluster that\'s in kubeconfig\n$ k ctx minikube\nSwitched to context "minikube".\n\n# switch back to previous cluster\n$ k ctx -\nSwitched to context "oregon".\n\n# rename context\n$ k ctx dublin=gke_ahmetb_europe-west1-b_dublin\nContext "gke_ahmetb_europe-west1-b_dublin" renamed to "dublin".\n\n# change the active namespace on kubectl\n$ k ns kube-system\nContext "test" set.\nActive namespace is "kube-system".\n\n# go back to the previous namespace\n$ k ns -\nContext "test" set.\nActive namespace is "default".\n\n# change the active namespace even if it doesn\'t exist\n$ k ns not-found-namespace --force\nContext "test" set.\nActive namespace is "not-found-namespace".\n---\n$ k ns not-found-namespace -f\nContext "test" set.\nActive namespace is "not-found-namespace".\n'})}),"\n",(0,o.jsx)(n.h3,{id:"stern",children:"stern"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"stern"}),"\u662F\u4E00\u4E2A\u53EF\u4EE5\u540C\u65F6\u67E5\u770B\u591A\u4E2A",(0,o.jsx)(n.code,{children:"pod"}),"\u65E5\u5FD7\u7684\u5DE5\u5177\u3002"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["\u53E6\u5916\u8FD8\u6709\u4E00\u4E2A\u57DF",(0,o.jsx)(n.code,{children:"stern"}),"\u7C7B\u4F3C\u7684",(0,o.jsx)(n.code,{children:"tail"}),"\u63D2\u4EF6\uFF0C\u7528\u4E8E\u83B7\u53D6\u6700\u65B0\u7684\u6D41\u5F0F\u7684\u65E5\u5FD7\u8F93\u51FA\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/stern/stern",children:"https://github.com/stern/stern"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install stern\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ k ns volcano-system\nContext "kind-john" modified.\nActive namespace is "volcano-system".\n\n$ k stern .\nvolcano-admission-5dd7897d96-rwfxn admission I0821 06:52:39.431924       1 reflector.go:879] volcano.sh/apis/pkg/client/informers/externalversions/factory.go:145: Watch close - *v1beta1.Queue total 11 items received\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.691380       1 cache.go:1455] "SnapShot for scheduling" jobNum=1 QueueNum=3 NodeNum=3\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.691456       1 session.go:230] Open Session d1812087-af68-469e-9fbf-d8b53fb7cef6 with <1> Job and <3> Queues\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692081       1 enqueue.go:79] Try to enqueue PodGroup to 0 Queues\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692122       1 allocate.go:81] Try to allocate resource to 1 Queues\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692138       1 proportion.go:307] Queue <default>: deserved <cpu 0.00, memory 0.00, pods 1.00, ephemeral-storage 0.00, hugepages-1Gi 0.00, hugepages-2Mi 0.00, hugepages-32Mi 0.00, hugepages-64Ki 0.00>, allocated <cpu 0.00, memory 0.00, pods 1.00>, share <1>\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692166       1 allocate.go:142] Queue <default> is overused, ignore it.\nvolcano-scheduler-65c58864d-5wtd8 volcano-scheduler I0823 06:27:24.692598       1 session.go:364] Close Session d1812087-af68-469e-9fbf-d8b53fb7cef6\n...\n'})}),"\n",(0,o.jsx)(n.h3,{id:"view-allocations",children:"view-allocations"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"kubectl-view-allocations"}),"\u53EF\u4EE5\u975E\u5E38\u65B9\u4FBF\u7684\u5C55\u793ACPU\u3001\u5185\u5B58\u3001GPU\u7B49\u8D44\u6E90\u7684\u5206\u5E03\u60C5\u51B5\uFF0C\u5E76\u53EF\u4EE5\u5BF9",(0,o.jsx)(n.code,{children:"namespace"}),"\u3001",(0,o.jsx)(n.code,{children:"node"}),"\u3001",(0,o.jsx)(n.code,{children:"pod"}),"\u7B49\u7EF4\u5EA6\u8FDB\u884C\u5C55\u793A\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/davidB/kubectl-view-allocations",children:"https://github.com/davidB/kubectl-view-allocations"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install view-allocations\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ k view-allocations\n Resource                                              Requested         Limit  Allocatable    Free \n  cpu                                                   (4%) 1.1   (1%) 300.0m         30.0    28.9 \n  \u251C\u2500 john-control-plane                             (10%) 950.0m   (1%) 100.0m         10.0     9.1 \n  \u2502  \u251C\u2500 coredns-668d6bf9bc-9r86n                          100.0m            __           __      __ \n  \u2502  \u251C\u2500 coredns-668d6bf9bc-fpk6t                          100.0m            __           __      __ \n  \u2502  \u251C\u2500 etcd-john-control-plane                           100.0m            __           __      __ \n  \u2502  \u251C\u2500 kindnet-xqhbt                                     100.0m        100.0m           __      __ \n  \u2502  \u251C\u2500 kube-apiserver-john-control-plane                 250.0m            __           __      __ \n  \u2502  \u251C\u2500 kube-controller-manager-john-control-plane        200.0m            __           __      __ \n  \u2502  \u2514\u2500 kube-scheduler-john-control-plane                 100.0m            __           __      __ \n  \u251C\u2500 john-worker                                     (1%) 100.0m   (1%) 100.0m         10.0     9.9 \n  \u2502  \u2514\u2500 kindnet-978h2                                     100.0m        100.0m           __      __ \n  \u2514\u2500 john-worker2                                    (1%) 100.0m   (1%) 100.0m         10.0     9.9 \n     \u2514\u2500 kindnet-2knqv                                     100.0m        100.0m           __      __ \n  ephemeral-storage                                           __            __        2.9Ti      __ \n  \u251C\u2500 john-control-plane                                       __            __     1006.9Gi      __ \n  \u251C\u2500 john-worker                                              __            __     1006.9Gi      __ \n  \u2514\u2500 john-worker2                                             __            __     1006.9Gi      __ \n  memory                                            (2%) 390.0Mi  (2%) 490.0Mi       23.0Gi  22.5Gi \n  \u251C\u2500 john-control-plane                             (4%) 290.0Mi  (5%) 390.0Mi        7.7Gi   7.3Gi \n  \u2502  \u251C\u2500 coredns-668d6bf9bc-9r86n                          70.0Mi       170.0Mi           __      __ \n  \u2502  \u251C\u2500 coredns-668d6bf9bc-fpk6t                          70.0Mi       170.0Mi           __      __ \n  \u2502  \u251C\u2500 etcd-john-control-plane                          100.0Mi            __           __      __ \n  \u2502  \u2514\u2500 kindnet-xqhbt                                     50.0Mi        50.0Mi           __      __ \n  \u251C\u2500 john-worker                                     (1%) 50.0Mi   (1%) 50.0Mi        7.7Gi   7.6Gi \n  \u2502  \u2514\u2500 kindnet-978h2                                     50.0Mi        50.0Mi           __      __ \n  \u2514\u2500 john-worker2                                    (1%) 50.0Mi   (1%) 50.0Mi        7.7Gi   7.6Gi \n     \u2514\u2500 kindnet-2knqv                                     50.0Mi        50.0Mi           __      __ \n  pods                                                 (5%) 17.0     (5%) 17.0        330.0   313.0 \n  \u251C\u2500 john-control-plane                                 (8%) 9.0      (8%) 9.0        110.0   101.0 \n  \u251C\u2500 john-worker                                        (5%) 5.0      (5%) 5.0        110.0   105.0 \n  \u2514\u2500 john-worker2                                       (3%) 3.0      (3%) 3.0        110.0   107.0\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u8BE5\u547D\u4EE4\u5728\u667A\u7B97\u8D44\u6E90\u7BA1\u63A7\u573A\u666F\u4E2D\uFF0C\u5E38\u7528\u6765\u67E5\u770B\u667A\u7B97\u8D44\u6E90\u7684\u4F7F\u7528\u60C5\u51B5\uFF0C\u5E38\u4E0E",(0,o.jsx)(n.code,{children:"-r"}),"\u53C2\u6570\u7ED3\u5408\u4F7F\u7528\uFF0C\u4F8B\u5982\uFF1A"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ k view-allocations -r nvidia.com/gpu\n Resource                                           Requested       Limit  Allocatable  Free \n  nvidia.com/gpu                                   (28%) 13.0  (28%) 13.0         47.0  34.0 \n  \u251C\u2500 ai-app-2-151-msxf                                     __          __          8.0    __ \n  \u251C\u2500 ai-app-64-40-msxf                              (12%) 1.0   (12%) 1.0          8.0   7.0 \n  \u2502  \u2514\u2500 neal-httpsingleport-0411-7fc454c8fb-bdpfk         1.0         1.0           __    __ \n  \u251C\u2500 ai-app-8-1-msxf                                (25%) 2.0   (25%) 2.0          8.0   6.0 \n  \u2502  \u251C\u2500 pd-qwen3-8b-decoder-7c6ddcd474-gnj5b              1.0         1.0           __    __ \n  \u2502  \u2514\u2500 pd-qwen3-8b-prefill-559b45d46b-g4zhv              1.0         1.0           __    __ \n  \u251C\u2500 msxf-app-2-149                                 (62%) 5.0   (62%) 5.0          8.0   3.0 \n  \u2502  \u251C\u2500 ces-6c4f56d6c6-7fcbb                              1.0         1.0           __    __ \n  \u2502  \u251C\u2500 itsmceshi0806-865568b845-jcn66                    1.0         1.0           __    __ \n  \u2502  \u251C\u2500 itsmceshi0806-865568b845-zdvs6                    1.0         1.0           __    __ \n  \u2502  \u251C\u2500 msv91211-dep-7c5ccb6854-gtkcd                     1.0         1.0           __    __ \n  \u2502  \u2514\u2500 neal-0819-6bb79d4569-bhfp7                        1.0         1.0           __    __ \n  \u251C\u2500 msxf-hpc-37-2-ai                               (62%) 5.0   (62%) 5.0          8.0   3.0 \n  \u2502  \u251C\u2500 pd-qwen3-30b-decoder-d46b576dc-gglfh              1.0         1.0           __    __ \n  \u2502  \u251C\u2500 pd-qwen3-30b-prefill-746d9fc77f-kb5gw             1.0         1.0           __    __ \n  \u2502  \u251C\u2500 pd-qwen3-32b-decoder-75c6d96c4-qhkl9              1.0         1.0           __    __ \n  \u2502  \u251C\u2500 pd-qwen3-32b-prefill-75d6cd57fd-45vzd             1.0         1.0           __    __ \n  \u2502  \u2514\u2500 qwen25-72b-int4-bz-6d6546b9f7-p2wm9               1.0         1.0           __    __ \n  \u2514\u2500 msxf-hpc-64-5-ai                                      __          __          7.0    __ \n"})}),"\n",(0,o.jsx)(n.h3,{id:"tree",children:"tree"}),"\n",(0,o.jsxs)(n.p,{children:["\u8BE5\u63D2\u4EF6\u662F\u7531",(0,o.jsx)(n.code,{children:"Google"}),"\u5927\u4F6C\u5F00\u53D1\uFF0C\u901A\u8FC7",(0,o.jsx)(n.code,{children:"ownerReferences"}),"\u6765\u53D1\u73B0",(0,o.jsx)(n.code,{children:"kubernetes"}),"\u5BF9\u8C61\u4E4B\u95F4\u7684\u76F8\u4E92\u5173\u8054\uFF0C\u5E76\u901A\u8FC7\u6811\u72B6\u56FE\u6765\u5C55\u793A\uFF0C\u5BF9\u8D44\u6E90\u7684\u5173\u7CFB\u4E00\u76EE\u4E86\u7136\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/ahmetb/kubectl-tree",children:"https://github.com/ahmetb/kubectl-tree"})]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install tree\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ k ns volcano-system\nContext "kind-john" modified.\nActive namespace is "volcano-system".\n\n$ k get deploy\nNAME                  READY   UP-TO-DATE   AVAILABLE   AGE\nvolcano-admission     1/1     1            1           9d\nvolcano-controllers   1/1     1            1           9d\nvolcano-scheduler     1/1     1            1           9d\n\n$ k tree deploy volcano-scheduler\nNAMESPACE       NAME                                       READY  REASON  AGE\nvolcano-system  Deployment/volcano-scheduler               -              9d \nvolcano-system  \u251C\u2500ReplicaSet/volcano-scheduler-65c58864d   -              8d \nvolcano-system  \u2502 \u2514\u2500Pod/volcano-scheduler-65c58864d-5wtd8  True           8d \nvolcano-system  \u251C\u2500ReplicaSet/volcano-scheduler-77cdd888b9  -              8d \nvolcano-system  \u2514\u2500ReplicaSet/volcano-scheduler-986f77795   -              9d \n'})}),"\n",(0,o.jsx)(n.h3,{id:"node-shell",children:"node-shell"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"node-shell"}),"\u63D2\u4EF6\u53EF\u4EE5\u8BA9\u4F60\u76F4\u63A5\u5728",(0,o.jsx)(n.code,{children:"node"}),"\u4E0A\u6267\u884C",(0,o.jsx)(n.code,{children:"shell"}),"\u547D\u4EE4\uFF0C\u800C\u4E0D\u9700\u8981\u767B\u5F55\u5230",(0,o.jsx)(n.code,{children:"node"}),"\u4E0A\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u9879\u76EE\u5730\u5740\uFF1A",(0,o.jsx)(n.a,{href:"https://github.com/kvaps/kubectl-node-shell",children:"https://github.com/kvaps/kubectl-node-shell"})]}),"\n",(0,o.jsxs)(n.p,{children:["\u5B9E\u73B0\u539F\u7406\uFF1A\u8BE5\u547D\u4EE4\u4F1A\u521B\u5EFA\u4E00\u4E2A",(0,o.jsx)(n.code,{children:"nsenter-xxx"}),"\u7684",(0,o.jsx)(n.code,{children:"Pod"}),"\uFF0C\u8BE5Pod\u4F1A\u5E26\u6709\u4E00\u4E2A",(0,o.jsx)(n.code,{children:"privileged: true"}),"\u7684\u9AD8\u6743\u9650\u5BB9\u5668\uFF0C\u9ED8\u8BA4\u4F7F\u7528",(0,o.jsx)(n.code,{children:"alpine:latest"}),"\u955C\u50CF\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6CE8\u610F\u4E8B\u9879\uFF1A\u7531\u4E8E\u9ED8\u8BA4\u4F1A\u62C9\u53D6\u5916\u7F51\u955C\u50CF\uFF0C\u5728\u67D0\u4E9B\u5916\u7F51\u4E0D\u901A\u7684\u7F51\u7EDC\u73AF\u5883\u4E0B\u4F1A\u65E0\u6CD5\u6267\u884C\u6210\u529F\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,o.jsx)(n.code,{children:"--image"}),"\u53C2\u6570\u6307\u5B9A\u9700\u8981\u4F7F\u7528\u7684\u955C\u50CF\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install node-shell\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Get standard bash shell\nkubectl node-shell <node>\n\n# Use custom image for pod\nkubectl node-shell <node> --image <image>\n\n# Use X-mode (mount /host, and do not enter host namespace)\nkubectl node-shell -x <node>\n\n# Skip specific namespace types to enter, choose any of ipc, mount, pid, net, uts\nkubectl node-shell <node> --no-ipc\n\n# Execute custom command\nkubectl node-shell <node> -- echo 123\n\n# Use stdin\ncat /etc/passwd | kubectl node-shell <node> -- sh -c 'cat > /tmp/passwd'\n\n# Run oneliner script\nkubectl node-shell <node> -- sh -c 'cat /tmp/passwd; rm -f /tmp/passwd'\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ k get node\nNAME                 STATUS   ROLES           AGE   VERSION\njohn-control-plane   Ready    control-plane   9d    v1.32.2\njohn-worker          Ready    <none>          9d    v1.32.2\njohn-worker2         Ready    <none>          9d    v1.32.2\n\n$ k node-shell john-worker\nspawning "nsenter-8xhpq5" on "john-worker"\nIf you don\'t see a command prompt, try pressing enter.\nroot@john-worker:/# \n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5176\u5B9E",(0,o.jsx)(n.code,{children:"kubectl"}),"\u5DE5\u5177\u4E5F\u63D0\u4F9B\u4E86",(0,o.jsx)(n.code,{children:"debug"}),"\u547D\u4EE4\uFF0C\u7528\u4E8E\u5B9E\u73B0\u7C7B\u4F3C\u7684\u529F\u80FD\u3002\u8BE5",(0,o.jsx)(n.code,{children:"debug"}),"\u547D\u4EE4\u529F\u80FD\u66F4\u5F3A\u5927\u4E00\u4E9B\uFF0C\u9664\u4E86\u652F\u6301",(0,o.jsx)(n.code,{children:"node"}),"\uFF0C\u4E5F\u652F\u6301",(0,o.jsx)(n.code,{children:"pod"}),"\u7684",(0,o.jsx)(n.code,{children:"debug"}),"\uFF0C\u5177\u4F53\u53EF\u4EE5\u53C2\u8003\uFF1A",(0,o.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/debug/debug-cluster/kubectl-node-debug/",children:"https://kubernetes.io/docs/tasks/debug/debug-cluster/kubectl-node-debug/"})]}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ k debug node/john-worker -it --image=ubuntu --profile=general\nCreating debugging pod node-debugger-john-worker-hcr2q with container debugger on node john-worker.\nIf you don't see a command prompt, try pressing enter.\nroot@john-worker:/# \n"})}),"\n",(0,o.jsx)(n.h3,{id:"images",children:"images"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"kubectl-images"}),"\u53EF\u4EE5\u5C55\u793A\u96C6\u7FA4\u4E2D\u6B63\u5728\u4F7F\u7528\u7684\u955C\u50CF\uFF0C\u5E76\u5BF9",(0,o.jsx)(n.code,{children:"namespace"}),"\u8FDB\u884C\u4E00\u4E2A\u7B80\u5355\u7684\u7EDF\u8BA1\u3002\u4F7F\u7528\u8FD9\u4E2A\u63D2\u4EF6\u53EF\u4EE5\u975E\u5E38\u65B9\u4FBF\u7684\u67E5\u770B",(0,o.jsx)(n.code,{children:"namespace"}),"\u4E2D\u4F7F\u7528\u4E86\u54EA\u4E9B\u955C\u50CF\uFF0C\u5C24\u5176\u5728\u6392\u67E5\u95EE\u9898\u9700\u8981\u67E5\u770B\u955C\u50CF\u7248\u672C\u65F6\u975E\u5E38\u6709\u7528\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u5B89\u88C5\u547D\u4EE4\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"k krew install images\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ k images -A\n[Summary]: 4 namespaces, 17 pods, 17 containers and 12 different images\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n|                    Pod                     |        Container        |                              Image                              |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| example-deployment-9488676d4-ttb6h         | nginx                   | nginx:1.14.2                                                    |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| coredns-668d6bf9bc-9r86n                   | coredns                 | registry.k8s.io/coredns/coredns:v1.11.3                         |\n+--------------------------------------------+                         +                                                                 +\n| coredns-668d6bf9bc-fpk6t                   |                         |                                                                 |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| etcd-john-control-plane                    | etcd                    | registry.k8s.io/etcd:3.5.16-0                                   |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| kindnet-2knqv                              | kindnet-cni             | docker.io/kindest/kindnetd:v20250214-acbabc1a                   |\n+--------------------------------------------+                         +                                                                 +\n| kindnet-978h2                              |                         |                                                                 |\n+--------------------------------------------+                         +                                                                 +\n| kindnet-xqhbt                              |                         |                                                                 |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| kube-apiserver-john-control-plane          | kube-apiserver          | registry.k8s.io/kube-apiserver:v1.32.2                          |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| kube-controller-manager-john-control-plane | kube-controller-manager | registry.k8s.io/kube-controller-manager:v1.32.2                 |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| kube-proxy-bmff8                           | kube-proxy              | registry.k8s.io/kube-proxy:v1.32.2                              |\n+--------------------------------------------+                         +                                                                 +\n| kube-proxy-f2fkv                           |                         |                                                                 |\n+--------------------------------------------+                         +                                                                 +\n| kube-proxy-nxd7w                           |                         |                                                                 |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| kube-scheduler-john-control-plane          | kube-scheduler          | registry.k8s.io/kube-scheduler:v1.32.2                          |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| local-path-provisioner-7dc846544d-74xnp    | local-path-provisioner  | docker.io/kindest/local-path-provisioner:v20250214-acbabc1a     |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| volcano-admission-5dd7897d96-rwfxn         | admission               | docker.io/volcanosh/vc-webhook-manager:v1.12.1                  |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| volcano-controllers-7c58d44b88-bbmwm       | volcano-controllers     | docker.io/volcanosh/vc-controller-manager:v1.12.1               |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n| volcano-scheduler-65c58864d-5wtd8          | volcano-scheduler       | volcanosh/vc-scheduler:80eea1df4b922773c47ac4f8e483b48a3ccc7090 |\n+--------------------------------------------+-------------------------+-----------------------------------------------------------------+\n"})})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return r},a:function(){return d}});var c=s(67294);let o={},l=c.createContext(o);function d(e){let n=c.useContext(l);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),c.createElement(l.Provider,{value:n},e.children)}}}]);