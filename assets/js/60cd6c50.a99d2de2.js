"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["1697"],{93827:function(e,c,a){a.r(c),a.d(c,{metadata:()=>n,contentTitle:()=>x,default:()=>s,assets:()=>r,toc:()=>i,frontMatter:()=>g});var n=JSON.parse('{"id":"\u5F00\u53D1\u8BED\u8A00/Golang/unexpected fault address 0x0 fatal error: fault signal SIGSEGV: segmentation violation","title":"unexpected fault address 0x0 fatal error: fault signal SIGSEGV: segmentation violation","description":"\u5206\u6790 Go \u7A0B\u5E8F\u4E2D\u7684\u6BB5\u9519\u8BEF\uFF08SIGSEGV\uFF09\u95EE\u9898\uFF0C\u5305\u62EC\u53EF\u80FD\u7684\u539F\u56E0\u3001\u95EE\u9898\u5B9A\u4F4D\u548C\u89E3\u51B3\u65B9\u6848","source":"@site/docs/2-\u5F00\u53D1\u8BED\u8A00/0-Golang/8-unexpected fault address 0x0 fatal error: fault signal SIGSEGV: segmentation violation.md","sourceDirName":"2-\u5F00\u53D1\u8BED\u8A00/0-Golang","slug":"/golang-sigsegv-error","permalink":"/golang-sigsegv-error","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"slug":"/golang-sigsegv-error","title":"unexpected fault address 0x0 fatal error: fault signal SIGSEGV: segmentation violation","hide_title":true,"keywords":["SIGSEGV","\u6BB5\u9519\u8BEF","\u5185\u5B58\u8BBF\u95EE\u9519\u8BEF","\u5E76\u53D1Bug","\u9519\u8BEF\u5206\u6790","\u8FDB\u7A0B\u5D29\u6E83"],"description":"\u5206\u6790 Go \u7A0B\u5E8F\u4E2D\u7684\u6BB5\u9519\u8BEF\uFF08SIGSEGV\uFF09\u95EE\u9898\uFF0C\u5305\u62EC\u53EF\u80FD\u7684\u539F\u56E0\u3001\u95EE\u9898\u5B9A\u4F4D\u548C\u89E3\u51B3\u65B9\u6848"},"sidebar":"mainSidebar","previous":{"title":"Golang\u7A0B\u5E8F\u5728Kubernetes\u4E0B\u7684\u8D44\u6E90\u63A7\u5236","permalink":"/golang-kubernetes-resource-control"},"next":{"title":"GODEBUG\u914D\u7F6EGC\u8DDF\u8E2A\u4ECB\u7ECD","permalink":"/godebug-gc-trace"}}'),o=a("85893"),t=a("50065");let g={slug:"/golang-sigsegv-error",title:"unexpected fault address 0x0 fatal error: fault signal SIGSEGV: segmentation violation",hide_title:!0,keywords:["SIGSEGV","\u6BB5\u9519\u8BEF","\u5185\u5B58\u8BBF\u95EE\u9519\u8BEF","\u5E76\u53D1Bug","\u9519\u8BEF\u5206\u6790","\u8FDB\u7A0B\u5D29\u6E83"],description:"\u5206\u6790 Go \u7A0B\u5E8F\u4E2D\u7684\u6BB5\u9519\u8BEF\uFF08SIGSEGV\uFF09\u95EE\u9898\uFF0C\u5305\u62EC\u53EF\u80FD\u7684\u539F\u56E0\u3001\u95EE\u9898\u5B9A\u4F4D\u548C\u89E3\u51B3\u65B9\u6848"},x=void 0,r={},i=[];function m(e){let c={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.p,{children:["\u73B0\u7F51\u7684\u8D44\u6E90\u91C7\u96C6\u7EC4\u4EF6\u51FA\u73B0\u4EE5\u4E0B\u81F4\u547D\u62A5\u9519\uFF0C\u8FDB\u7A0B\u76F4\u63A5\u5D29\u6E83\u751A\u81F3\u65E0\u6CD5",(0,o.jsx)(c.code,{children:"recover"}),"\u3002\u521D\u6B65\u5224\u65AD\u4E24\u4E2A\u53EF\u80FD\u539F\u56E0\uFF1A"]}),"\n",(0,o.jsxs)(c.ul,{children:["\n",(0,o.jsxs)(c.li,{children:[(0,o.jsx)(c.code,{children:"Goalng"}),"\u7A0B\u5E8F\u7684\u5E76\u53D1\u63A7\u5236",(0,o.jsx)(c.code,{children:"BUG"}),"\u3002\u8BE5\u7A0B\u5E8F\u4F7F\u7528",(0,o.jsx)(c.code,{children:"go 1.20.5"}),"\u7F16\u8BD1\u3002"]}),"\n",(0,o.jsx)(c.li,{children:"\u5185\u5B58\u786C\u4EF6\u6545\u969C\u3002\u53EF\u80FD\u6027\u8F83\u4F4E\u3002"}),"\n"]}),"\n",(0,o.jsx)(c.p,{children:"\u9700\u8981\u8FDB\u4E00\u6B65\u8DDF\u8FDB\u95EE\u9898\u3002"}),"\n",(0,o.jsx)(c.pre,{children:(0,o.jsx)(c.code,{children:"unexpected fault address 0x0\nfatal error: fault\n[signal SIGSEGV: segmentation violation code=0x80 addr=0x0 pc=0x1219cfb]\n\ngoroutine 78941 [running]:\nruntime.throw({0x1c94002?, 0x5a00000000000060?})\n	runtime/panic.go:1047 +0x5d fp=0xc02b3a5498 sp=0xc02b3a5468 pc=0x438e7d\nruntime.sigpanic()\n	runtime/signal_unix.go:855 +0x28a fp=0xc02b3a54f8 sp=0xc02b3a5498 pc=0x44ffaa\ngithub.com/prometheus/client_model/go.(*LabelPair).GetName(...)\n	github.com/prometheus/client_model@v0.5.0/go/metrics.pb.go:154\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/metric-helper/common-metrics.(*Manager).PodStorageVolumeUsage(0xc011259480, {0x1fc18a0, 0xc000126000}, {0x\n0?, 0x0?, 0xc02bd64840?})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/metric-helper/common-metrics/common_metrics_pod_storage_volume_usage.go:92 +0x77b fp=0xc02b3a57d8 \nsp=0xc02b3a54f8 pc=0x1219cfb\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/metric-model.CommonMetrics.PodStorageVolumeUsage-fm({0x1fc18a0?, 0xc000126000?}, {0x0?, 0xc010b89d80?, 0x1\nb62fa0?})\n	<autogenerated>:1 +0x50 fp=0xc02b3a5818 sp=0xc02b3a57d8 pc=0x121b750\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/metric-helper/common-metrics.(*Manager).GetBatch(0xc010b89d80?, {0x1fc18a0, 0xc000126000}, {0xc000ad6540, \n0xc, 0xc02e98cc90?})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/metric-helper/common-metrics/common_metrics.go:110 +0xb0 fp=0xc02b3a58a0 sp=0xc02b3a5818 pc=0x120d\n030\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugins/libradb.(*Plugin).getUsedCommonMetrics(0x100000000741116?, {0x1fc18a0, 0xc000126000}, {{{0xc010b89\nd80, 0x1d}, {0xc012135140, 0xb}, 0xc02e98d7a0, 0xc02e98cc90, 0x4a817c800, ...}, ...})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugins/libradb/libradb_common_metrics.go:33 +0x584 fp=0xc02b3a5940 sp=0xc02b3a58a0 pc=0x18c36a4\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugins/libradb.(*Plugin).Run(0x747c6f?, {0x1fc18a0, 0xc000126000}, {{{0xc010b89d80, 0x1d}, {0xc012135140,\n 0xb}, 0xc02e98d7a0, 0xc02e98cc90, 0x4a817c800, ...}, ...})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugins/libradb/libradb.go:100 +0x350 fp=0xc02b3a5a40 sp=0xc02b3a5940 pc=0x18c2f50\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager.(*Manager).callPluginByScrapeItem.func1({0x1fc18a0, 0xc000126000})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager/plugin_manager_plugin.go:97 +0x83 fp=0xc02b3a5c00 sp=0xc02b3a5a40 pc=0x120bea3\ngithub.com/gogf/gf/v2/util/gutil.Try({0x1fc18a0?, 0xc000126000?}, 0xc02e0d7cac?)\n	github.com/gogf/gf/v2@v2.6.1/util/gutil/gutil_try_catch.go:36 +0x71 fp=0xc02b3a5c50 sp=0xc02b3a5c00 pc=0x7eff91\ngithub.com/gogf/gf/v2/util/gutil.TryCatch({0x1fc18a0, 0xc000126000}, 0x4935d4?, 0xc02b3a5d00)\n	github.com/gogf/gf/v2@v2.6.1/util/gutil/gutil_try_catch.go:49 +0x39 fp=0xc02b3a5c80 sp=0xc02b3a5c50 pc=0x7f0199\ngithub.com/gogf/gf/v2/frame/g.TryCatch(...)\n	github.com/gogf/gf/v2@v2.6.1/frame/g/g_func.go:95\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager.(*Manager).callPluginByScrapeItem(0x18e9e3ea368?, {0x1fc18a0?, 0xc000126000?}, {{0xc010b89d\n80, 0x1d}, {0xc012135140, 0xb}, {0xc0121351a8, 0x7}, 0x4a817c800, ...})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager/plugin_manager_plugin.go:96 +0x24e fp=0xc02b3a5ec8 sp=0xc02b3a5c80 pc=0x120bc0e\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager.(*Manager).startPluginExecutionTimely.func1.2({{0xc010b89d80, 0x1d}, {0xc012135140, 0xb}, {\n0xc0121351a8, 0x7}, 0x4a817c800, {0x1fc2a20, 0xc000128028}, 0xc007097140, ...})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager/plugin_manager_plugin.go:73 +0x58 fp=0xc02b3a5f60 sp=0xc02b3a5ec8 pc=0x120b998\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager.(*Manager).startPluginExecutionTimely.func1.3()\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager/plugin_manager_plugin.go:74 +0x42 fp=0xc02b3a5fe0 sp=0xc02b3a5f60 pc=0x120b902\nruntime.goexit()\n	runtime/asm_amd64.s:1598 +0x1 fp=0xc02b3a5fe8 sp=0xc02b3a5fe0 pc=0x46fde1\ncreated by git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager.(*Manager).startPluginExecutionTimely.func1\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/pkg/plugin-manager/plugin_manager_plugin.go:71 +0x33b\n\ngoroutine 1 [chan receive, 74 minutes]:\nruntime.gopark(0xc00049ed60?, 0xc00088edb8?, 0x93?, 0x76?, 0xc00088edb8?)\n	runtime/proc.go:381 +0xd6 fp=0xc0006bad88 sp=0xc0006bad68 pc=0x43bbd6\nruntime.chanrecv(0xc0000ce2a0, 0xc00088eee0, 0x1)\n	runtime/chan.go:583 +0x49d fp=0xc0006bae18 sp=0xc0006bad88 pc=0x406f9d\nruntime.chanrecv1(0xc0000ce2a0?, 0xc00003fc80?)\n	runtime/chan.go:442 +0x18 fp=0xc0006bae40 sp=0xc0006bae18 pc=0x406a98\ngithub.com/gogf/gf/v2/os/gproc.Listen()\n	github.com/gogf/gf/v2@v2.6.1/os/gproc/gproc_signal.go:79 +0x9c fp=0xc0006baf28 sp=0xc0006bae40 pc=0x9dbcfc\ngithub.com/gogf/gf/v2/frame/g.Listen(...)\n	github.com/gogf/gf/v2@v2.6.1/frame/g/g_func.go:50\ngit.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/app.(*Main).Run(0xc00049f190?, {0x1fc1910, 0xc0001ffb30}, {{}, {0x7ffe1177efee, 0x6}, {0x7ffe1177effe, 0xa}, {\n0x7ffe1177f014, 0xb}, ...})\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/internal/app/run.go:106 +0x30b fp=0xc0006bb050 sp=0xc0006baf28 pc=0x18d180b\nruntime.call256(0xc000456180, 0xc000709b08, 0xc000265a40, 0xa0, 0xa0, 0xb8, 0xc0006bb670)\n	runtime/asm_amd64.s:732 +0x6e fp=0xc0006bb160 sp=0xc0006bb050 pc=0x46e52e\nruntime.reflectcall(0x1c00c20?, 0xc000328c80?, 0x4?, 0x1caf038?, 0x0?, 0x12?, 0x1c00c20?)\n	<autogenerated>:1 +0x3c fp=0xc0006bb1a0 sp=0xc0006bb160 pc=0x47297c\nreflect.Value.call({0x1a8b780?, 0x2e5c578?, 0x451676?}, {0x1c92964, 0x4}, {0xc000456150, 0x2, 0x2?})\n	reflect/value.go:586 +0xb0b fp=0xc0006bb790 sp=0xc0006bb1a0 pc=0x4ed3cb\nreflect.Value.Call({0x1a8b780?, 0x2e5c578?, 0xc0001ffb30?}, {0xc000456150?, 0x1c8a8a0?, 0x0?})\n	reflect/value.go:370 +0xbc fp=0xc0006bb808 sp=0xc0006bb790 pc=0x4ec67c\ngithub.com/gogf/gf/v2/os/gcmd.newCommandFromMethod.func1({0x1fc1910?, 0xc0001ff7a0?}, 0xc0007114c0)\n	github.com/gogf/gf/v2@v2.6.1/os/gcmd/gcmd_command_object.go:324 +0x88d fp=0xc0006bba38 sp=0xc0006bb808 pc=0x96c34d\ngithub.com/gogf/gf/v2/os/gcmd.(*Command).doRun(0xc0004fbee0, {0x1fc1910?, 0xc0001ff6b0?}, 0xc000018c00?)\n	github.com/gogf/gf/v2@v2.6.1/os/gcmd/gcmd_command_run.go:152 +0xac2 fp=0xc0006bbd50 sp=0xc0006bba38 pc=0x96e8c2\ngithub.com/gogf/gf/v2/os/gcmd.(*Command).RunWithValueError(0xc0004fbee0, {0x1fc1910, 0xc0001ff6b0})\n	github.com/gogf/gf/v2@v2.6.1/os/gcmd/gcmd_command_run.go:82 +0x299 fp=0xc0006bbe20 sp=0xc0006bbd50 pc=0x96dd99\ngithub.com/gogf/gf/v2/os/gcmd.(*Command).RunWithValue(0x1fca1e0?, {0x1fc1910, 0xc0001ff6b0})\n	github.com/gogf/gf/v2@v2.6.1/os/gcmd/gcmd_command_run.go:41 +0x45 fp=0xc0006bbf28 sp=0xc0006bbe20 pc=0x96d645\ngithub.com/gogf/gf/v2/os/gcmd.(*Command).Run(0x1fc18a0?, {0x1fc1910?, 0xc0001ff6b0?})\n	github.com/gogf/gf/v2@v2.6.1/os/gcmd/gcmd_command_run.go:35 +0x25 fp=0xc0006bbf50 sp=0xc0006bbf28 pc=0x96d5c5\nmain.main()\n	git.woa.com/khaos/platform/modules/khaos-metrics-agent/main.go:30 +0x55 fp=0xc0006bbf80 sp=0xc0006bbf50 pc=0x18d2135\nruntime.main()\n	runtime/proc.go:250 +0x207 fp=0xc0006bbfe0 sp=0xc0006bbf80 pc=0x43b7a7\nruntime.goexit()\n	runtime/asm_amd64.s:1598 +0x1 fp=0xc0006bbfe8 sp=0xc0006bbfe0 pc=0x46fde1\n\n...\n"})})]})}function s(e={}){let{wrapper:c}={...(0,t.a)(),...e.components};return c?(0,o.jsx)(c,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},50065:function(e,c,a){a.d(c,{Z:function(){return x},a:function(){return g}});var n=a(67294);let o={},t=n.createContext(o);function g(e){let c=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(c):{...c,...e}},[c,e])}function x(e){let c;return c=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:g(e.components),n.createElement(t.Provider,{value:c},e.children)}}}]);