"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["6867"],{58831:function(e,n,r){r.r(n),r.d(n,{metadata:()=>s,contentTitle:()=>d,default:()=>h,assets:()=>c,toc:()=>t,frontMatter:()=>i});var s=JSON.parse('{"id":"docs/AI\u6280\u672F/\u8BAD\u7EC3\u5FAE\u8C03/Ray\u5206\u5E03\u5F0F\u8BA1\u7B97\u5F15\u64CE/KubeRay\u4ECB\u7ECD\u4E0E\u4F7F\u7528","title":"Ray On K8S: KubeRay\u4ECB\u7ECD\u4E0E\u4F7F\u7528","description":"\u5168\u9762\u4ECB\u7ECD KubeRay \u7684\u6838\u5FC3\u6982\u5FF5\u3001\u67B6\u6784\u8BBE\u8BA1\u548C\u4F7F\u7528\u65B9\u6CD5\u3002KubeRay \u662F\u8FD0\u884C\u5728 Kubernetes \u4E0A\u7684\u5F00\u6E90 Ray Operator\uFF0C\u7528\u4E8E\u7B80\u5316 Ray \u5E94\u7528\u7684\u90E8\u7F72\u548C\u7BA1\u7406\u3002\u672C\u6587\u8BE6\u7EC6\u8BB2\u89E3 KubeRay \u7684\u4E09\u5927\u6838\u5FC3\u7EC4\u4EF6 RayCluster\u3001RayJob \u548C RayService \u7684\u7279\u70B9\u548C\u5E94\u7528\u573A\u666F\uFF0C\u4ECB\u7ECD\u5982\u4F55\u901A\u8FC7 Helm \u5FEB\u901F\u5B89\u88C5\u548C\u914D\u7F6E KubeRay\uFF0C\u5E76\u63D0\u4F9B\u5B8C\u6574\u7684\u8FD0\u884C\u793A\u4F8B\uFF0C\u5E2E\u52A9\u8BFB\u8005\u5FEB\u901F\u4E0A\u624B\u5E76\u638C\u63E1 KubeRay \u5728\u673A\u5668\u5B66\u4E60\u8BAD\u7EC3\u3001\u63A8\u7406\u548C\u670D\u52A1\u90E8\u7F72\u7B49\u573A\u666F\u4E2D\u7684\u5B9E\u9645\u5E94\u7528\uFF0C\u5B9E\u73B0\u4E91\u539F\u751F\u73AF\u5883\u4E0B\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u3002","source":"@site/docs/docs/1000-AI\u6280\u672F/600-\u8BAD\u7EC3\u5FAE\u8C03/300-Ray\u5206\u5E03\u5F0F\u8BA1\u7B97\u5F15\u64CE/2000-KubeRay\u4ECB\u7ECD\u4E0E\u4F7F\u7528.md","sourceDirName":"docs/1000-AI\u6280\u672F/600-\u8BAD\u7EC3\u5FAE\u8C03/300-Ray\u5206\u5E03\u5F0F\u8BA1\u7B97\u5F15\u64CE","slug":"/ai/training/kuberay-guide","permalink":"/ai/training/kuberay-guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2000,"frontMatter":{"slug":"/ai/training/kuberay-guide","title":"Ray On K8S: KubeRay\u4ECB\u7ECD\u4E0E\u4F7F\u7528","hide_title":true,"keywords":["KubeRay","Ray","Kubernetes","\u5206\u5E03\u5F0F\u8BA1\u7B97","\u673A\u5668\u5B66\u4E60","AI\u8BAD\u7EC3","RayCluster","RayJob","RayService","Kubernetes Operator","\u4E91\u539F\u751F","Ray Serve","\u6A21\u578B\u90E8\u7F72","\u6279\u91CF\u63A8\u7406","\u5206\u5E03\u5F0F\u8BAD\u7EC3","\u8D44\u6E90\u7BA1\u7406","\u5F39\u6027\u4F38\u7F29","\u5BB9\u5668\u7F16\u6392","\u96C6\u7FA4\u7BA1\u7406","\u9AD8\u53EF\u7528\u6027"],"description":"\u5168\u9762\u4ECB\u7ECD KubeRay \u7684\u6838\u5FC3\u6982\u5FF5\u3001\u67B6\u6784\u8BBE\u8BA1\u548C\u4F7F\u7528\u65B9\u6CD5\u3002KubeRay \u662F\u8FD0\u884C\u5728 Kubernetes \u4E0A\u7684\u5F00\u6E90 Ray Operator\uFF0C\u7528\u4E8E\u7B80\u5316 Ray \u5E94\u7528\u7684\u90E8\u7F72\u548C\u7BA1\u7406\u3002\u672C\u6587\u8BE6\u7EC6\u8BB2\u89E3 KubeRay \u7684\u4E09\u5927\u6838\u5FC3\u7EC4\u4EF6 RayCluster\u3001RayJob \u548C RayService \u7684\u7279\u70B9\u548C\u5E94\u7528\u573A\u666F\uFF0C\u4ECB\u7ECD\u5982\u4F55\u901A\u8FC7 Helm \u5FEB\u901F\u5B89\u88C5\u548C\u914D\u7F6E KubeRay\uFF0C\u5E76\u63D0\u4F9B\u5B8C\u6574\u7684\u8FD0\u884C\u793A\u4F8B\uFF0C\u5E2E\u52A9\u8BFB\u8005\u5FEB\u901F\u4E0A\u624B\u5E76\u638C\u63E1 KubeRay \u5728\u673A\u5668\u5B66\u4E60\u8BAD\u7EC3\u3001\u63A8\u7406\u548C\u670D\u52A1\u90E8\u7F72\u7B49\u573A\u666F\u4E2D\u7684\u5B9E\u9645\u5E94\u7528\uFF0C\u5B9E\u73B0\u4E91\u539F\u751F\u73AF\u5883\u4E0B\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u3002","toc_max_heading_level":4},"sidebar":"mainSidebar","previous":{"title":"Ray\u5206\u5E03\u5F0F\u8BA1\u7B97\u5F15\u64CE\u4ECB\u7ECD","permalink":"/ai/ray-distributed-computing"},"next":{"title":"\u901A\u8FC7Volcano Job\u63D2\u4EF6\u90E8\u7F72\u4F7F\u7528Ray","permalink":"/ai/ray/volcano-ray-plugin"}}'),l=r("85893"),a=r("50065");let i={slug:"/ai/training/kuberay-guide",title:"Ray On K8S: KubeRay\u4ECB\u7ECD\u4E0E\u4F7F\u7528",hide_title:!0,keywords:["KubeRay","Ray","Kubernetes","\u5206\u5E03\u5F0F\u8BA1\u7B97","\u673A\u5668\u5B66\u4E60","AI\u8BAD\u7EC3","RayCluster","RayJob","RayService","Kubernetes Operator","\u4E91\u539F\u751F","Ray Serve","\u6A21\u578B\u90E8\u7F72","\u6279\u91CF\u63A8\u7406","\u5206\u5E03\u5F0F\u8BAD\u7EC3","\u8D44\u6E90\u7BA1\u7406","\u5F39\u6027\u4F38\u7F29","\u5BB9\u5668\u7F16\u6392","\u96C6\u7FA4\u7BA1\u7406","\u9AD8\u53EF\u7528\u6027"],description:"\u5168\u9762\u4ECB\u7ECD KubeRay \u7684\u6838\u5FC3\u6982\u5FF5\u3001\u67B6\u6784\u8BBE\u8BA1\u548C\u4F7F\u7528\u65B9\u6CD5\u3002KubeRay \u662F\u8FD0\u884C\u5728 Kubernetes \u4E0A\u7684\u5F00\u6E90 Ray Operator\uFF0C\u7528\u4E8E\u7B80\u5316 Ray \u5E94\u7528\u7684\u90E8\u7F72\u548C\u7BA1\u7406\u3002\u672C\u6587\u8BE6\u7EC6\u8BB2\u89E3 KubeRay \u7684\u4E09\u5927\u6838\u5FC3\u7EC4\u4EF6 RayCluster\u3001RayJob \u548C RayService \u7684\u7279\u70B9\u548C\u5E94\u7528\u573A\u666F\uFF0C\u4ECB\u7ECD\u5982\u4F55\u901A\u8FC7 Helm \u5FEB\u901F\u5B89\u88C5\u548C\u914D\u7F6E KubeRay\uFF0C\u5E76\u63D0\u4F9B\u5B8C\u6574\u7684\u8FD0\u884C\u793A\u4F8B\uFF0C\u5E2E\u52A9\u8BFB\u8005\u5FEB\u901F\u4E0A\u624B\u5E76\u638C\u63E1 KubeRay \u5728\u673A\u5668\u5B66\u4E60\u8BAD\u7EC3\u3001\u63A8\u7406\u548C\u670D\u52A1\u90E8\u7F72\u7B49\u573A\u666F\u4E2D\u7684\u5B9E\u9645\u5E94\u7528\uFF0C\u5B9E\u73B0\u4E91\u539F\u751F\u73AF\u5883\u4E0B\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u3002",toc_max_heading_level:4},d=void 0,c={},t=[{value:"KubeRay\u57FA\u672C\u4ECB\u7ECD",id:"kuberay\u57FA\u672C\u4ECB\u7ECD",level:2},{value:"\u4EC0\u4E48\u662FKubeRay",id:"\u4EC0\u4E48\u662Fkuberay",level:3},{value:"KubeRay\u89E3\u51B3\u7684\u6838\u5FC3\u95EE\u9898",id:"kuberay\u89E3\u51B3\u7684\u6838\u5FC3\u95EE\u9898",level:3},{value:"KubeRay\u6838\u5FC3\u7EC4\u4EF6",id:"kuberay\u6838\u5FC3\u7EC4\u4EF6",level:3},{value:"RayCluster",id:"raycluster",level:4},{value:"RayJob",id:"rayjob",level:4},{value:"RayService",id:"rayservice",level:4},{value:"KubeRay\u6838\u5FC3\u529F\u80FD",id:"kuberay\u6838\u5FC3\u529F\u80FD",level:3},{value:"\u81EA\u52A8\u4F38\u7F29",id:"\u81EA\u52A8\u4F38\u7F29",level:4},{value:"\u5BB9\u9519\u4E0E\u9AD8\u53EF\u7528",id:"\u5BB9\u9519\u4E0E\u9AD8\u53EF\u7528",level:4},{value:"\u4E0EKubernetes\u751F\u6001\u96C6\u6210",id:"\u4E0Ekubernetes\u751F\u6001\u96C6\u6210",level:4},{value:"KubeRay\u5B89\u88C5\u4E0E\u914D\u7F6E",id:"kuberay\u5B89\u88C5\u4E0E\u914D\u7F6E",level:2},{value:"\u524D\u7F6E\u8981\u6C42",id:"\u524D\u7F6E\u8981\u6C42",level:3},{value:"\u901A\u8FC7Helm\u5B89\u88C5KubeRay Operator",id:"\u901A\u8FC7helm\u5B89\u88C5kuberay-operator",level:3},{value:"\u5B89\u88C5\u7A33\u5B9A\u7248\u672C",id:"\u5B89\u88C5\u7A33\u5B9A\u7248\u672C",level:4},{value:"\u5B89\u88C5\u6700\u65B0\u5F00\u53D1\u7248\u672C",id:"\u5B89\u88C5\u6700\u65B0\u5F00\u53D1\u7248\u672C",level:4},{value:"\u81EA\u5B9A\u4E49\u5B89\u88C5\u9009\u9879",id:"\u81EA\u5B9A\u4E49\u5B89\u88C5\u9009\u9879",level:4},{value:"\u9A8C\u8BC1\u5B89\u88C5",id:"\u9A8C\u8BC1\u5B89\u88C5",level:3},{value:"\u5378\u8F7DKubeRay",id:"\u5378\u8F7Dkuberay",level:3},{value:"KubeRay\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B",id:"kuberay\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B",level:2},{value:"\u521B\u5EFARayCluster\u5E76\u4EA4\u4E92\u5F0F\u4F7F\u7528",id:"\u521B\u5EFAraycluster\u5E76\u4EA4\u4E92\u5F0F\u4F7F\u7528",level:3},{value:"\u521B\u5EFARayCluster",id:"\u521B\u5EFAraycluster",level:4},{value:"\u8FDE\u63A5\u5E76\u4F7F\u7528\u96C6\u7FA4",id:"\u8FDE\u63A5\u5E76\u4F7F\u7528\u96C6\u7FA4",level:4},{value:"\u8BBF\u95EERay Dashboard",id:"\u8BBF\u95EEray-dashboard",level:4},{value:"\u4F7F\u7528RayJob\u8FD0\u884C\u6279\u5904\u7406\u4EFB\u52A1",id:"\u4F7F\u7528rayjob\u8FD0\u884C\u6279\u5904\u7406\u4EFB\u52A1",level:3},{value:"\u51C6\u5907Python\u4EE3\u7801",id:"\u51C6\u5907python\u4EE3\u7801",level:4},{value:"\u521B\u5EFARayJob",id:"\u521B\u5EFArayjob",level:4},{value:"\u67E5\u770B\u4EFB\u52A1\u7ED3\u679C",id:"\u67E5\u770B\u4EFB\u52A1\u7ED3\u679C",level:4},{value:"\u90E8\u7F72RayService\u5728\u7EBF\u63A8\u7406\u670D\u52A1",id:"\u90E8\u7F72rayservice\u5728\u7EBF\u63A8\u7406\u670D\u52A1",level:3},{value:"\u6E05\u7406\u8D44\u6E90",id:"\u6E05\u7406\u8D44\u6E90",level:3},{value:"\u53C2\u8003\u8D44\u6599",id:"\u53C2\u8003\u8D44\u6599",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"kuberay\u57FA\u672C\u4ECB\u7ECD",children:"KubeRay\u57FA\u672C\u4ECB\u7ECD"}),"\n",(0,l.jsx)(n.h3,{id:"\u4EC0\u4E48\u662Fkuberay",children:"\u4EC0\u4E48\u662FKubeRay"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay"}),"\u662F\u4E00\u4E2A\u5F3A\u5927\u7684\u5F00\u6E90",(0,l.jsx)(n.code,{children:"Kubernetes Operator"}),"\uFF0C\u7528\u4E8E\u7B80\u5316",(0,l.jsx)(n.code,{children:"Ray"}),"\u5E94\u7528\u5728",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u4E0A\u7684\u90E8\u7F72\u548C\u7BA1\u7406\u3002",(0,l.jsx)(n.code,{children:"Ray"}),"\u662F\u4E00\u4E2A\u7528\u4E8E\u6784\u5EFA\u548C\u8FD0\u884C\u5206\u5E03\u5F0F\u5E94\u7528\u7A0B\u5E8F\u7684\u7EDF\u4E00\u6846\u67B6\uFF0C\u7279\u522B\u9002\u5408\u673A\u5668\u5B66\u4E60\u5DE5\u4F5C\u8D1F\u8F7D\uFF0C\u800C",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u5219\u5C06",(0,l.jsx)(n.code,{children:"Ray"}),"\u7684\u5F3A\u5927\u80FD\u529B\u4E0E",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u7684\u4E91\u539F\u751F\u7279\u6027\u5B8C\u7F8E\u7ED3\u5408\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u901A\u4FD7\u7406\u89E3"}),"\uFF1A\u5982\u679C\u628A",(0,l.jsx)(n.code,{children:"Ray"}),"\u6BD4\u4F5C\u4E00\u4E2A\u5F3A\u5927\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u5F15\u64CE\uFF0C\u90A3\u4E48",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u5C31\u662F\u8BA9\u8FD9\u4E2A\u5F15\u64CE\u80FD\u591F\u5728",(0,l.jsx)(n.code,{children:"Kubernetes"}),'\u8FD9\u4E2A\u4E91\u539F\u751F\u5E73\u53F0\u4E0A\u5E73\u7A33\u8FD0\u884C\u7684"\u7BA1\u5BB6"\u3002\u5B83\u8D1F\u8D23\u81EA\u52A8\u521B\u5EFA\u3001\u7BA1\u7406\u548C\u7EF4\u62A4',(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4\uFF0C\u8BA9\u5F00\u53D1\u8005\u53EF\u4EE5\u4E13\u6CE8\u4E8E\u7F16\u5199\u5206\u5E03\u5F0F\u5E94\u7528\u4EE3\u7801\uFF0C\u800C\u65E0\u9700\u62C5\u5FC3\u5E95\u5C42\u7684\u96C6\u7FA4\u7BA1\u7406\u95EE\u9898\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"kuberay\u89E3\u51B3\u7684\u6838\u5FC3\u95EE\u9898",children:"KubeRay\u89E3\u51B3\u7684\u6838\u5FC3\u95EE\u9898"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u4E0A\u8FD0\u884C",(0,l.jsx)(n.code,{children:"Ray"}),"\u5E94\u7528\u9762\u4E34\u8BF8\u591A\u6311\u6218\uFF0C",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u4E3B\u8981\u89E3\u51B3\u4EE5\u4E0B\u95EE\u9898\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u95EE\u9898\u9886\u57DF"}),(0,l.jsx)(n.th,{children:"\u5177\u4F53\u6311\u6218"}),(0,l.jsx)(n.th,{children:"KubeRay\u89E3\u51B3\u65B9\u6848"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u96C6\u7FA4\u751F\u547D\u5468\u671F\u7BA1\u7406"})}),(0,l.jsxs)(n.td,{children:["\u624B\u52A8\u521B\u5EFA\u548C\u7EF4\u62A4",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4\u590D\u6742\u4E14\u6613\u51FA\u9519"]}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u5316\u96C6\u7FA4\u521B\u5EFA\u3001\u5220\u9664\u548C\u66F4\u65B0\u6D41\u7A0B"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u8C03\u5EA6"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"Ray"}),"\u8282\u70B9\u4E0E",(0,l.jsx)(n.code,{children:"Kubernetes Pod"}),"\u7684\u8D44\u6E90\u534F\u8C03\u56F0\u96BE"]}),(0,l.jsxs)(n.td,{children:["\u65E0\u7F1D\u96C6\u6210",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u8D44\u6E90\u8C03\u5EA6\u7CFB\u7EDF"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u5F39\u6027\u4F38\u7F29"})}),(0,l.jsx)(n.td,{children:"\u6839\u636E\u5DE5\u4F5C\u8D1F\u8F7D\u52A8\u6001\u8C03\u6574\u96C6\u7FA4\u89C4\u6A21\u56F0\u96BE"}),(0,l.jsx)(n.td,{children:"\u5185\u7F6E\u81EA\u52A8\u4F38\u7F29\u529F\u80FD\uFF0C\u652F\u6301\u8282\u70B9\u52A8\u6001\u589E\u51CF"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u5BB9\u9519\u80FD\u529B"})}),(0,l.jsx)(n.td,{children:"\u8282\u70B9\u6545\u969C\u65F6\u624B\u52A8\u6062\u590D\u96C6\u7FA4\u8017\u65F6\u8D39\u529B"}),(0,l.jsx)(n.td,{children:"\u81EA\u52A8\u6545\u969C\u68C0\u6D4B\u548C\u6062\u590D\u673A\u5236"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u4EFB\u52A1\u7BA1\u7406"})}),(0,l.jsxs)(n.td,{children:["\u63D0\u4EA4\u548C\u76D1\u63A7",(0,l.jsx)(n.code,{children:"Ray"}),"\u4EFB\u52A1\u9700\u8981\u989D\u5916\u5DE5\u5177"]}),(0,l.jsxs)(n.td,{children:["\u63D0\u4F9B\u58F0\u660E\u5F0F",(0,l.jsx)(n.code,{children:"API"}),"\u7B80\u5316\u4EFB\u52A1\u63D0\u4EA4\u548C\u7BA1\u7406"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u670D\u52A1\u90E8\u7F72"})}),(0,l.jsxs)(n.td,{children:["\u90E8\u7F72\u548C\u7EF4\u62A4",(0,l.jsx)(n.code,{children:"Ray Serve"}),"\u670D\u52A1\u590D\u6742"]}),(0,l.jsx)(n.td,{children:"\u652F\u6301\u96F6\u505C\u673A\u5347\u7EA7\u548C\u9AD8\u53EF\u7528\u670D\u52A1\u90E8\u7F72"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"kuberay\u6838\u5FC3\u7EC4\u4EF6",children:"KubeRay\u6838\u5FC3\u7EC4\u4EF6"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay"}),"\u63D0\u4F9B\u4E86\u4E09\u4E2A\u6838\u5FC3\u81EA\u5B9A\u4E49\u8D44\u6E90\u5B9A\u4E49\uFF08",(0,l.jsx)(n.code,{children:"CRD"}),"\uFF09\uFF0C\u6BCF\u4E2A\u90FD\u9488\u5BF9\u4E0D\u540C\u7684\u4F7F\u7528\u573A\u666F\uFF1A"]}),"\n",(0,l.jsx)(n.h4,{id:"raycluster",children:"RayCluster"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u7528\u9014"}),"\uFF1A\u7BA1\u7406\u957F\u671F\u8FD0\u884C\u7684",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6838\u5FC3\u7279\u6027"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5B8C\u6574\u7684\u751F\u547D\u5468\u671F\u7BA1\u7406"}),"\uFF1A\u81EA\u52A8\u5904\u7406\u96C6\u7FA4\u7684\u521B\u5EFA\u3001\u5220\u9664\u548C\u66F4\u65B0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u81EA\u52A8\u4F38\u7F29"}),"\uFF1A\u6839\u636E\u5DE5\u4F5C\u8D1F\u8F7D\u81EA\u52A8\u589E\u52A0\u6216\u51CF\u5C11\u5DE5\u4F5C\u8282\u70B9"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5BB9\u9519\u4FDD\u969C"}),"\uFF1A\u81EA\u52A8\u68C0\u6D4B\u548C\u6062\u590D\u6545\u969C\u8282\u70B9\uFF0C\u786E\u4FDD\u96C6\u7FA4\u7A33\u5B9A\u8FD0\u884C"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u9694\u79BB"}),"\uFF1A\u652F\u6301\u591A\u79DF\u6237\u573A\u666F\uFF0C\u4E0D\u540C\u7528\u6237\u53EF\u4EE5\u62E5\u6709\u72EC\u7ACB\u7684",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6838\u5FC3\u8282\u70B9"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"RayCluster"}),"\u7531\u4E24\u7C7B\u8282\u70B9\u7EC4\u6210\uFF0C\u5B83\u4EEC\u5404\u53F8\u5176\u804C\u3001\u534F\u540C\u5DE5\u4F5C\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u8282\u70B9\u7C7B\u578B"}),(0,l.jsx)(n.th,{children:"\u6570\u91CF"}),(0,l.jsx)(n.th,{children:"\u6838\u5FC3\u804C\u8D23"}),(0,l.jsx)(n.th,{children:"\u4E3B\u8981\u529F\u80FD"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Head Node"})}),(0,l.jsxs)(n.td,{children:["\u56FA\u5B9A",(0,l.jsx)(n.code,{children:"1"}),"\u4E2A"]}),(0,l.jsx)(n.td,{children:"\u96C6\u7FA4\u63A7\u5236\u4E2D\u5FC3"}),(0,l.jsxs)(n.td,{children:["- \u8FD0\u884C",(0,l.jsx)(n.code,{children:"GCS"}),"\uFF08\u5168\u5C40\u63A7\u5236\u5B58\u50A8\uFF09\u7BA1\u7406\u96C6\u7FA4\u5143\u6570\u636E",(0,l.jsx)("br",{})," - \u63D0\u4F9B",(0,l.jsx)(n.code,{children:"Dashboard"}),"\u76D1\u63A7\u754C\u9762",(0,l.jsx)("br",{})," - \u6267\u884C\u4EFB\u52A1\u8C03\u5EA6\u548C\u8D44\u6E90\u5206\u914D",(0,l.jsx)("br",{}),"- \u4F5C\u4E3A\u96C6\u7FA4\u5165\u53E3\u63A5\u6536\u4EFB\u52A1\u63D0\u4EA4"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Worker Nodes"})}),(0,l.jsxs)(n.td,{children:["\u53EF\u4F38\u7F29\uFF08",(0,l.jsx)(n.code,{children:"N"}),"\u4E2A\uFF09"]}),(0,l.jsx)(n.td,{children:"\u4EFB\u52A1\u6267\u884C\u8282\u70B9"}),(0,l.jsxs)(n.td,{children:["- \u6267\u884C\u5177\u4F53\u7684\u8BA1\u7B97\u4EFB\u52A1",(0,l.jsx)("br",{})," - \u5B58\u50A8\u4EFB\u52A1\u6570\u636E\u548C\u4E2D\u95F4\u7ED3\u679C",(0,l.jsx)("br",{}),"- \u54CD\u5E94",(0,l.jsx)(n.code,{children:"Head"}),"\u8282\u70B9\u7684\u8C03\u5EA6\u6307\u4EE4",(0,l.jsx)("br",{}),"- \u652F\u6301\u52A8\u6001\u6269\u7F29\u5BB9"]})]})]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Head Node"}),"\u662F\u96C6\u7FA4\u7684\u5355\u70B9\uFF0C\u4F46",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u4F1A\u81EA\u52A8\u76D1\u63A7\u5E76\u5728\u6545\u969C\u65F6\u91CD\u542F"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Worker Nodes"}),"\u53EF\u4EE5\u6839\u636E\u5DE5\u4F5C\u8D1F\u8F7D\u81EA\u52A8\u6269\u7F29\u5BB9\uFF0C\u63D0\u9AD8\u8D44\u6E90\u5229\u7528\u7387"]}),"\n",(0,l.jsx)(n.li,{children:"\u6240\u6709\u8282\u70B9\u4E4B\u95F4\u901A\u8FC7\u9AD8\u6548\u7684\u901A\u4FE1\u534F\u8BAE\u4FDD\u6301\u6570\u636E\u540C\u6B65"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u9002\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u957F\u671F\u8FD0\u884C\u7684\u4EA4\u4E92\u5F0F\u5F00\u53D1\u73AF\u5883"}),"\n",(0,l.jsxs)(n.li,{children:["\u591A\u4E2A\u7528\u6237\u5171\u4EAB\u7684",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4"]}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u9891\u7E41\u63D0\u4EA4\u4E0D\u540C\u4EFB\u52A1\u7684\u573A\u666F"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.mermaid,{value:'graph TB\n    subgraph K8s["Kubernetes \u96C6\u7FA4"]\n        subgraph RC["RayCluster \u8D44\u6E90"]\n            subgraph HN["Head Node (1 Pod)"]\n                Dashboard[Dashboard]\n                Scheduler[Scheduler]\n                GCS[GCS]\n            end\n            subgraph WN["Worker Nodes (N Pods)"]\n                Tasks[Ray Tasks]\n                Executors[Executors]\n            end\n        end\n        Operator["KubeRay Operator \u6301\u7EED\u76D1\u63A7\u548C\u7EF4\u62A4\u96C6\u7FA4\u5065\u5EB7"]\n    end\n    \n    HN -.\u901A\u4FE1.-> WN\n    Operator -.\u7BA1\u7406.-> RC\n    \n    style K8s fill:#f0f9ff,stroke:#0288d1,stroke-width:2px\n    style RC fill:#fffbf0,stroke:#f57c00,stroke-width:2px\n    style HN fill:#f1f8f4,stroke:#388e3c,stroke-width:2px\n    style WN fill:#faf5fc,stroke:#7b1fa2,stroke-width:2px\n    style Operator fill:#fef0f5,stroke:#c2185b,stroke-width:2px'}),"\n",(0,l.jsx)(n.h4,{id:"rayjob",children:"RayJob"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u7528\u9014"}),"\uFF1A\u81EA\u52A8\u521B\u5EFA",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4\u5E76\u63D0\u4EA4\u4E00\u6B21\u6027\u6279\u5904\u7406\u4EFB\u52A1\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6838\u5FC3\u7279\u6027"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u81EA\u52A8\u5316\u5DE5\u4F5C\u6D41"}),"\uFF1A\u521B\u5EFA\u96C6\u7FA4\u3001\u63D0\u4EA4\u4EFB\u52A1\u3001\u6E05\u7406\u8D44\u6E90\u4E00\u6C14\u5475\u6210"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4EFB\u52A1\u9694\u79BB"}),"\uFF1A\u6BCF\u4E2A\u4EFB\u52A1\u53EF\u4EE5\u62E5\u6709\u72EC\u7ACB\u7684\u96C6\u7FA4\u914D\u7F6E"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u4F18\u5316"}),"\uFF1A\u4EFB\u52A1\u5B8C\u6210\u540E\u53EF\u81EA\u52A8\u5220\u9664\u96C6\u7FA4\uFF0C\u8282\u7701\u8D44\u6E90"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u72B6\u6001\u8DDF\u8E2A"}),"\uFF1A\u5B9E\u65F6\u76D1\u63A7\u4EFB\u52A1\u6267\u884C\u72B6\u6001\u548C\u7ED3\u679C"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u9002\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E00\u6B21\u6027\u7684\u6279\u5904\u7406\u4EFB\u52A1\uFF08\u5982\u6570\u636E\u5904\u7406\u3001\u6A21\u578B\u8BAD\u7EC3\uFF09"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"CI/CD"}),"\u6D41\u7A0B\u4E2D\u7684\u81EA\u52A8\u5316\u6D4B\u8BD5"]}),"\n",(0,l.jsx)(n.li,{children:"\u5B9A\u671F\u6267\u884C\u7684\u6279\u91CF\u63A8\u7406\u4EFB\u52A1"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.mermaid,{value:'flowchart LR\n    subgraph S1["1: \u521B\u5EFA\u9636\u6BB5"]\n        A[\u63D0\u4EA4 RayJob]\n        A1[\u521B\u5EFA\u96C6\u7FA4]\n        A2[\u52A0\u8F7D\u4EE3\u7801]\n    end\n    \n    subgraph S2["2: \u8FD0\u884C\u9636\u6BB5"]\n        B[\u6267\u884C\u4EFB\u52A1 RayCluster]\n        B1[\u8FD0\u884CRay\u4EE3\u7801]\n        B2[\u76D1\u63A7\u8FDB\u5EA6]\n    end\n    \n    subgraph S3["3: \u6E05\u7406\u9636\u6BB5"]\n        C[\u5220\u9664\u96C6\u7FA4]\n        C1[\u91CA\u653E\u8D44\u6E90]\n        C2[\u4FDD\u5B58\u7ED3\u679C]\n    end\n    \n    A --\x3e A1 --\x3e A2 --\x3e B\n    B --\x3e B1 --\x3e B2 --\x3e C\n    C --\x3e C1 --\x3e C2\n    \n    style S1 fill:#f1f8f4,stroke:#388e3c,stroke-width:2px\n    style S2 fill:#fffbf0,stroke:#f57c00,stroke-width:2px\n    style S3 fill:#faf5fc,stroke:#7b1fa2,stroke-width:2px\n    style A fill:#e8f5e9,stroke:#388e3c\n    style B fill:#fff3e0,stroke:#f57c00\n    style C fill:#f3e5f5,stroke:#7b1fa2'}),"\n",(0,l.jsx)(n.h4,{id:"rayservice",children:"RayService"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u7528\u9014"}),"\uFF1A\u90E8\u7F72\u548C\u7BA1\u7406\u751F\u4EA7\u7EA7\u7684",(0,l.jsx)(n.code,{children:"Ray Serve"}),"\u5E94\u7528\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6838\u5FC3\u7279\u6027"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u96F6\u505C\u673A\u5347\u7EA7"}),"\uFF1A\u66F4\u65B0\u670D\u52A1\u65F6\u4E0D\u4E2D\u65AD\u73B0\u6709\u8BF7\u6C42"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u9AD8\u53EF\u7528\u6027"}),"\uFF1A\u652F\u6301\u591A\u526F\u672C\u90E8\u7F72\u548C\u81EA\u52A8\u6545\u969C\u8F6C\u79FB"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6D41\u91CF\u7BA1\u7406"}),"\uFF1A\u667A\u80FD\u8DEF\u7531\u548C\u8D1F\u8F7D\u5747\u8861"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7248\u672C\u63A7\u5236"}),"\uFF1A\u652F\u6301\u84DD\u7EFF\u90E8\u7F72\u548C\u91D1\u4E1D\u96C0\u53D1\u5E03"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u9002\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5728\u7EBF\u63A8\u7406\u670D\u52A1\uFF08\u5982\u6A21\u578B",(0,l.jsx)(n.code,{children:"API"}),"\uFF09"]}),"\n",(0,l.jsx)(n.li,{children:"\u5B9E\u65F6\u6570\u636E\u5904\u7406\u670D\u52A1"}),"\n",(0,l.jsx)(n.li,{children:"\u9700\u8981\u9AD8\u53EF\u7528\u6027\u7684\u751F\u4EA7\u73AF\u5883"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.mermaid,{value:'graph TB\n    Ingress["Kubernetes Ingress"]\n    \n    subgraph RS["RayService"]\n        subgraph Cluster["Ray Cluster"]\n            Head[Head Node]\n            Workers[Worker Nodes]\n        end\n        \n        subgraph Serve["Ray Serve Deployment"]\n            Replicas[Replicas]\n            LB[Load Balancer]\n        end\n    end\n    \n    Ingress --\x3e|\u6D41\u91CF\u8DEF\u7531| LB\n    LB --\x3e Replicas\n    Replicas --\x3e Cluster\n    \n    Note["\u5347\u7EA7\u8FC7\u7A0B\uFF1A\u4FDD\u6301\u65E7\u7248\u672C\u5904\u7406\u73B0\u6709\u8BF7\u6C42\uFF0C\u65B0\u7248\u672C\u5904\u7406\u65B0\u8BF7\u6C42"]\n    \n    style Ingress fill:#f0f9ff,stroke:#0288d1,stroke-width:2px\n    style RS fill:#fffbf0,stroke:#f57c00,stroke-width:3px\n    style Cluster fill:#f1f8f4,stroke:#388e3c,stroke-width:2px\n    style Serve fill:#faf5fc,stroke:#7b1fa2,stroke-width:2px\n    style Note fill:#fffef0,stroke:#f57f17,stroke-width:2px'}),"\n",(0,l.jsx)(n.h3,{id:"kuberay\u6838\u5FC3\u529F\u80FD",children:"KubeRay\u6838\u5FC3\u529F\u80FD"}),"\n",(0,l.jsxs)(n.p,{children:["\u9664\u4E86\u4E09\u5927\u6838\u5FC3\u7EC4\u4EF6\uFF0C",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u8FD8\u63D0\u4F9B\u4EE5\u4E0B\u91CD\u8981\u529F\u80FD\uFF1A"]}),"\n",(0,l.jsx)(n.h4,{id:"\u81EA\u52A8\u4F38\u7F29",children:"\u81EA\u52A8\u4F38\u7F29"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay"}),"\u652F\u6301\u57FA\u4E8E\u8D44\u6E90\u5229\u7528\u7387\u548C\u4EFB\u52A1\u9700\u6C42\u7684\u81EA\u52A8\u4F38\u7F29\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u4F38\u7F29\u7C7B\u578B"}),(0,l.jsx)(n.th,{children:"\u89E6\u53D1\u6761\u4EF6"}),(0,l.jsx)(n.th,{children:"\u884C\u4E3A\u63CF\u8FF0"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u6269\u5BB9"})}),(0,l.jsx)(n.td,{children:"\u4EFB\u52A1\u961F\u5217\u79EF\u538B\u6216\u8D44\u6E90\u4E0D\u8DB3"}),(0,l.jsxs)(n.td,{children:["\u81EA\u52A8\u521B\u5EFA\u65B0\u7684\u5DE5\u4F5C\u8282\u70B9",(0,l.jsx)(n.code,{children:"Pod"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u7F29\u5BB9"})}),(0,l.jsx)(n.td,{children:"\u8282\u70B9\u7A7A\u95F2\u8D85\u8FC7\u9608\u503C\u65F6\u95F4"}),(0,l.jsx)(n.td,{children:"\u4F18\u96C5\u5173\u95ED\u7A7A\u95F2\u8282\u70B9\uFF0C\u91CA\u653E\u8D44\u6E90"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u624B\u52A8\u4F38\u7F29"})}),(0,l.jsxs)(n.td,{children:["\u7528\u6237\u66F4\u65B0",(0,l.jsx)(n.code,{children:"replicas"}),"\u914D\u7F6E"]}),(0,l.jsx)(n.td,{children:"\u6839\u636E\u914D\u7F6E\u589E\u52A0\u6216\u51CF\u5C11\u8282\u70B9\u6570\u91CF"})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"\u5BB9\u9519\u4E0E\u9AD8\u53EF\u7528",children:"\u5BB9\u9519\u4E0E\u9AD8\u53EF\u7528"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay"}),"\u5185\u7F6E\u591A\u5C42\u5BB9\u9519\u673A\u5236\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8282\u70B9\u7EA7\u5BB9\u9519"}),"\uFF1A\u81EA\u52A8\u68C0\u6D4B\u548C\u91CD\u542F\u5931\u8D25\u7684",(0,l.jsx)(n.code,{children:"Pod"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u96C6\u7FA4\u7EA7\u5BB9\u9519"}),"\uFF1A",(0,l.jsx)(n.code,{children:"Head"}),"\u8282\u70B9\u6545\u969C\u65F6\u81EA\u52A8\u6062\u590D\u96C6\u7FA4\u72B6\u6001"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u4EFB\u52A1\u7EA7\u5BB9\u9519"}),"\uFF1A\u652F\u6301\u4EFB\u52A1\u91CD\u8BD5\u548C\u65AD\u70B9\u7EED\u4F20"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6570\u636E\u6301\u4E45\u5316"}),"\uFF1A\u53EF\u9009\u7684\u72B6\u6001\u6301\u4E45\u5316\u5230\u5916\u90E8\u5B58\u50A8"]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"\u4E0Ekubernetes\u751F\u6001\u96C6\u6210",children:"\u4E0EKubernetes\u751F\u6001\u96C6\u6210"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay"}),"\u6DF1\u5EA6\u96C6\u6210",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u751F\u6001\u7CFB\u7EDF\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u76D1\u63A7"}),"\uFF1A\u517C\u5BB9",(0,l.jsx)(n.code,{children:"Prometheus"}),"\u548C",(0,l.jsx)(n.code,{children:"Grafana"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u65E5\u5FD7"}),"\uFF1A\u96C6\u6210\u6807\u51C6",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u65E5\u5FD7\u7CFB\u7EDF"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8C03\u5EA6"}),"\uFF1A\u652F\u6301",(0,l.jsx)(n.code,{children:"Volcano"}),"\u3001",(0,l.jsx)(n.code,{children:"YuniKorn"}),"\u3001",(0,l.jsx)(n.code,{children:"Kueue"}),"\u7B49\u8C03\u5EA6\u5668"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7F51\u7EDC"}),"\uFF1A\u517C\u5BB9\u5404\u7C7B",(0,l.jsx)(n.code,{children:"Ingress Controller"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5B58\u50A8"}),"\uFF1A\u652F\u6301",(0,l.jsx)(n.code,{children:"PersistentVolume"}),"\u6301\u4E45\u5316\u5B58\u50A8"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"kuberay\u5B89\u88C5\u4E0E\u914D\u7F6E",children:"KubeRay\u5B89\u88C5\u4E0E\u914D\u7F6E"}),"\n",(0,l.jsx)(n.h3,{id:"\u524D\u7F6E\u8981\u6C42",children:"\u524D\u7F6E\u8981\u6C42"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5B89\u88C5",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u4E4B\u524D\uFF0C\u8BF7\u786E\u4FDD\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7EC4\u4EF6"}),(0,l.jsx)(n.th,{children:"\u6700\u4F4E\u7248\u672C\u8981\u6C42"}),(0,l.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Kubernetes"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"v1.23.0+"})}),(0,l.jsxs)(n.td,{children:["\u9700\u8981\u652F\u6301",(0,l.jsx)(n.code,{children:"CRD"}),"\u548C",(0,l.jsx)(n.code,{children:"Operator"}),"\u7279\u6027"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"kubectl"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"v1.23.0+"})}),(0,l.jsxs)(n.td,{children:["\u7528\u4E8E\u64CD\u4F5C",(0,l.jsx)(n.code,{children:"Kubernetes"}),"\u96C6\u7FA4"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Helm"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"v3.0+"})}),(0,l.jsxs)(n.td,{children:["\u7528\u4E8E\u5B89\u88C5",(0,l.jsx)(n.code,{children:"KubeRay Operator"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"\u5BB9\u5668\u8FD0\u884C\u65F6"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"Docker 19.03+"})," \u6216 ",(0,l.jsx)(n.code,{children:"containerd"})]}),(0,l.jsx)(n.td,{children:"\u7528\u4E8E\u8FD0\u884C\u5BB9\u5668"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u8D44\u6E90\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5F00\u53D1\u73AF\u5883\uFF1A\u81F3\u5C11",(0,l.jsx)(n.code,{children:"2"}),"\u6838",(0,l.jsx)(n.code,{children:"CPU"}),"\uFF0C",(0,l.jsx)(n.code,{children:"4GB"}),"\u5185\u5B58"]}),"\n",(0,l.jsx)(n.li,{children:"\u751F\u4EA7\u73AF\u5883\uFF1A\u6839\u636E\u5DE5\u4F5C\u8D1F\u8F7D\u89C4\u6A21\u8C03\u6574\uFF0C\u5EFA\u8BAE\u9884\u7559\u5145\u8DB3\u8D44\u6E90"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u901A\u8FC7helm\u5B89\u88C5kuberay-operator",children:"\u901A\u8FC7Helm\u5B89\u88C5KubeRay Operator"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Helm"}),"\u662F\u5B89\u88C5",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u7684\u63A8\u8350\u65B9\u5F0F\uFF0C\u6B65\u9AA4\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.h4,{id:"\u5B89\u88C5\u7A33\u5B9A\u7248\u672C",children:"\u5B89\u88C5\u7A33\u5B9A\u7248\u672C"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u6DFB\u52A0 KubeRay Helm \u4ED3\u5E93\nhelm repo add kuberay https://ray-project.github.io/kuberay-helm/\n\n# \u66F4\u65B0\u4ED3\u5E93\u4FE1\u606F\nhelm repo update\n\n# \u5B89\u88C5 KubeRay Operator\uFF08\u5305\u542B CRD \u548C Operator\uFF09\nhelm install kuberay-operator kuberay/kuberay-operator --version 1.1.0\n\n# \u9A8C\u8BC1\u5B89\u88C5\uFF0C\u68C0\u67E5 Operator Pod \u72B6\u6001\nkubectl get pods\n# \u671F\u671B\u8F93\u51FA\u7C7B\u4F3C\uFF1A\n# NAME                                READY   STATUS    RESTARTS   AGE\n# kuberay-operator-6fcbb94f64-mbfnr   1/1     Running   0          30s\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u5B89\u88C5\u6700\u65B0\u5F00\u53D1\u7248\u672C",children:"\u5B89\u88C5\u6700\u65B0\u5F00\u53D1\u7248\u672C"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679C\u9700\u8981\u4F53\u9A8C\u6700\u65B0\u7279\u6027\uFF0C\u53EF\u4EE5\u4ECE\u6E90\u7801\u5B89\u88C5\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u514B\u9686 KubeRay \u4ED3\u5E93\ngit clone https://github.com/ray-project/kuberay.git\ncd kuberay\n\n# \u4ECE\u672C\u5730 Helm Chart \u5B89\u88C5\nhelm install kuberay-operator ./helm-chart/kuberay-operator\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u81EA\u5B9A\u4E49\u5B89\u88C5\u9009\u9879",children:"\u81EA\u5B9A\u4E49\u5B89\u88C5\u9009\u9879"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"KubeRay Operator"}),"\u652F\u6301\u591A\u79CD\u81EA\u5B9A\u4E49\u914D\u7F6E\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u5B89\u88C5\u5230\u6307\u5B9A\u547D\u540D\u7A7A\u95F4\nhelm install kuberay-operator kuberay/kuberay-operator \\\n  --namespace kuberay-system \\\n  --create-namespace\n\n# \u81EA\u5B9A\u4E49 Operator \u8D44\u6E90\u914D\u7F6E\nhelm install kuberay-operator kuberay/kuberay-operator \\\n  --set operatorResources.limits.cpu=500m \\\n  --set operatorResources.limits.memory=512Mi\n\n# \u542F\u7528 Webhook\uFF08\u7528\u4E8E\u8D44\u6E90\u9A8C\u8BC1\uFF09\nhelm install kuberay-operator kuberay/kuberay-operator \\\n  --set webhooks.enabled=true\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u9A8C\u8BC1\u5B89\u88C5",children:"\u9A8C\u8BC1\u5B89\u88C5"}),"\n",(0,l.jsxs)(n.p,{children:["\u5B89\u88C5\u5B8C\u6210\u540E\uFF0C\u9A8C\u8BC1",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u662F\u5426\u6B63\u5E38\u5DE5\u4F5C\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# \u68C0\u67E5 Operator Pod \u72B6\u6001\nkubectl get pods -n default\n# \u5E94\u8BE5\u770B\u5230 kuberay-operator Pod \u5904\u4E8E Running \u72B6\u6001\n\n# \u68C0\u67E5 CRD \u662F\u5426\u5DF2\u5B89\u88C5\nkubectl get crd | grep ray\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# rayclusters.ray.io\n# rayjobs.ray.io\n# rayservices.ray.io\n\n# \u67E5\u770B Operator \u65E5\u5FD7\nkubectl logs -l app.kubernetes.io/name=kuberay-operator\n# \u5E94\u8BE5\u770B\u5230\u7C7B\u4F3C "Starting controller" \u7684\u65E5\u5FD7\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5378\u8F7Dkuberay",children:"\u5378\u8F7DKubeRay"}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u9700\u5378\u8F7D",(0,l.jsx)(n.code,{children:"KubeRay"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# \u5378\u8F7D Operator\nhelm uninstall kuberay-operator\n\n# \u5220\u9664 CRD\uFF08\u6CE8\u610F\uFF1A\u8FD9\u4F1A\u5220\u9664\u6240\u6709\u76F8\u5173\u8D44\u6E90\uFF09\nkubectl delete crd rayclusters.ray.io\nkubectl delete crd rayjobs.ray.io\nkubectl delete crd rayservices.ray.io\n\n# \u6216\u8005\u4F7F\u7528 kustomize \u5220\u9664\nkubectl delete -k "github.com/ray-project/kuberay/ray-operator/config/crd?ref=v1.1.0"\n'})}),"\n",(0,l.jsx)(n.admonition,{title:"\u6CE8\u610F",type:"warning",children:(0,l.jsxs)(n.p,{children:["\u5220\u9664",(0,l.jsx)(n.code,{children:"CRD"}),"\u4F1A\u540C\u65F6\u5220\u9664\u6240\u6709\u57FA\u4E8E\u8BE5",(0,l.jsx)(n.code,{children:"CRD"}),"\u521B\u5EFA\u7684\u8D44\u6E90\u5B9E\u4F8B\uFF08\u5982",(0,l.jsx)(n.code,{children:"RayCluster"}),"\u3001",(0,l.jsx)(n.code,{children:"RayJob"}),"\u7B49\uFF09\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002"]})}),"\n",(0,l.jsx)(n.h2,{id:"kuberay\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B",children:"KubeRay\u5FEB\u901F\u4E0A\u624B\u793A\u4F8B"}),"\n",(0,l.jsxs)(n.p,{children:["\u672C\u8282\u901A\u8FC7\u4E00\u4E2A\u5B8C\u6574\u7684\u793A\u4F8B\uFF0C\u6F14\u793A\u5982\u4F55\u4F7F\u7528",(0,l.jsx)(n.code,{children:"KubeRay"}),"\u521B\u5EFA\u96C6\u7FA4\u5E76\u8FD0\u884C\u4E00\u4E2A\u7B80\u5355\u7684",(0,l.jsx)(n.code,{children:"Ray"}),"\u4EFB\u52A1\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u521B\u5EFAraycluster\u5E76\u4EA4\u4E92\u5F0F\u4F7F\u7528",children:"\u521B\u5EFARayCluster\u5E76\u4EA4\u4E92\u5F0F\u4F7F\u7528"}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u57FA\u672C\u7684",(0,l.jsx)(n.code,{children:"RayCluster"}),"\uFF0C\u7136\u540E\u8FDE\u63A5\u5230\u96C6\u7FA4\u6267\u884C\u7B80\u5355\u7684\u5206\u5E03\u5F0F\u8BA1\u7B97\u3002"]}),"\n",(0,l.jsx)(n.h4,{id:"\u521B\u5EFAraycluster",children:"\u521B\u5EFARayCluster"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"RayCluster"}),"\u8D44\u6E90\u5B9A\u4E49\u6587\u4EF6\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="ray-cluster-simple.yaml"',children:'apiVersion: ray.io/v1\nkind: RayCluster\nmetadata:\n  name: ray-cluster-simple\nspec:\n  # Ray \u7248\u672C\n  rayVersion: \'2.52.0\'\n  \n  # Head \u8282\u70B9\u914D\u7F6E\n  headGroupSpec:\n    # Ray \u542F\u52A8\u53C2\u6570\n    rayStartParams:\n      dashboard-host: \'0.0.0.0\'\n    # Pod \u6A21\u677F\n    template:\n      spec:\n        containers:\n        - name: ray-head\n          image: rayproject/ray:2.52.0\n          ports:\n          - containerPort: 6379\n            name: gcs\n          - containerPort: 8265\n            name: dashboard\n          - containerPort: 10001\n            name: client\n          resources:\n            limits:\n              cpu: "1"\n              memory: "2Gi"\n            requests:\n              cpu: "500m"\n              memory: "1Gi"\n  \n  # Worker \u8282\u70B9\u914D\u7F6E\n  workerGroupSpecs:\n  - replicas: 2\n    minReplicas: 1\n    maxReplicas: 5\n    groupName: small-group\n    rayStartParams: {}\n    template:\n      spec:\n        containers:\n        - name: ray-worker\n          image: rayproject/ray:2.52.0\n          resources:\n            limits:\n              cpu: "1"\n              memory: "1Gi"\n            requests:\n              cpu: "500m"\n              memory: "512Mi"\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u5E94\u7528\u8FD9\u4E2A\u914D\u7F6E\u6587\u4EF6\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u521B\u5EFA RayCluster\nkubectl apply -f ray-cluster-simple.yaml\n\n# \u67E5\u770B\u96C6\u7FA4\u72B6\u6001\nkubectl get raycluster\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# NAME                 DESIRED WORKERS   AVAILABLE WORKERS   STATUS   AGE\n# ray-cluster-simple   2                 2                   ready    1m\n\n# \u67E5\u770B\u6240\u6709 Ray Pods\nkubectl get pods -l ray.io/cluster=ray-cluster-simple\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# NAME                                          READY   STATUS    RESTARTS   AGE\n# ray-cluster-simple-head-xxxxx                 1/1     Running   0          1m\n# ray-cluster-simple-worker-small-group-xxxxx   1/1     Running   0          1m\n# ray-cluster-simple-worker-small-group-yyyyy   1/1     Running   0          1m\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u8FDE\u63A5\u5E76\u4F7F\u7528\u96C6\u7FA4",children:"\u8FDE\u63A5\u5E76\u4F7F\u7528\u96C6\u7FA4"}),"\n",(0,l.jsxs)(n.p,{children:["\u8FDE\u63A5\u5230",(0,l.jsx)(n.code,{children:"Ray"}),"\u96C6\u7FA4\u6267\u884C\u5206\u5E03\u5F0F\u4EFB\u52A1\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u65B9\u6CD51\uFF1A\u76F4\u63A5\u5728 Head Pod \u4E2D\u6267\u884C\nkubectl exec -it $(kubectl get pod -l ray.io/node-type=head,ray.io/cluster=ray-cluster-simple -o jsonpath='{.items[0].metadata.name}') -- python3 -c \"\nimport ray\nray.init()\n\n# \u5B9A\u4E49\u4E00\u4E2A\u7B80\u5355\u7684\u8FDC\u7A0B\u51FD\u6570\n@ray.remote\ndef hello_world(name):\n    return f'Hello {name} from Ray!'\n\n# \u5E76\u884C\u6267\u884C\nfutures = [hello_world.remote(f'Worker-{i}') for i in range(10)]\nresults = ray.get(futures)\nprint(results)\n\n# \u67E5\u770B\u96C6\u7FA4\u4FE1\u606F\nprint(f'Available resources: {ray.available_resources()}')\n\"\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u8BBF\u95EEray-dashboard",children:"\u8BBF\u95EERay Dashboard"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"Ray Dashboard"}),"\u63D0\u4F9B\u4E86\u96C6\u7FA4\u76D1\u63A7\u548C\u4EFB\u52A1\u7BA1\u7406\u754C\u9762\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u7AEF\u53E3\u8F6C\u53D1\u5230\u672C\u5730\nkubectl port-forward service/ray-cluster-simple-head-svc 8265:8265\n\n# \u5728\u6D4F\u89C8\u5668\u4E2D\u6253\u5F00\n# http://localhost:8265\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u5728",(0,l.jsx)(n.code,{children:"Dashboard"}),"\u4E2D\u53EF\u4EE5\u67E5\u770B\uFF1A"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u96C6\u7FA4\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5"}),"\n",(0,l.jsx)(n.li,{children:"\u8FD0\u884C\u4E2D\u7684\u4EFB\u52A1"}),"\n",(0,l.jsx)(n.li,{children:"\u65E5\u5FD7\u548C\u6027\u80FD\u6307\u6807"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u4F7F\u7528rayjob\u8FD0\u884C\u6279\u5904\u7406\u4EFB\u52A1",children:"\u4F7F\u7528RayJob\u8FD0\u884C\u6279\u5904\u7406\u4EFB\u52A1"}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u4F7F\u7528",(0,l.jsx)(n.code,{children:"RayJob"}),"\u81EA\u52A8\u521B\u5EFA\u96C6\u7FA4\u3001\u6267\u884C\u4EFB\u52A1\u5E76\u6E05\u7406\u8D44\u6E90\u3002"]}),"\n",(0,l.jsx)(n.h4,{id:"\u51C6\u5907python\u4EE3\u7801",children:"\u51C6\u5907Python\u4EE3\u7801"}),"\n",(0,l.jsxs)(n.p,{children:["\u9996\u5148\u521B\u5EFA\u4E00\u4E2A",(0,l.jsx)(n.code,{children:"ConfigMap"}),"\u6765\u5B58\u50A8\u8981\u6267\u884C\u7684",(0,l.jsx)(n.code,{children:"Python"}),"\u4EE3\u7801\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="ray-job-code.yaml"',children:'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ray-job-code-sample\ndata:\n  sample_code.py: |\n    import ray\n    import time\n    \n    # \u521D\u59CB\u5316 Ray\n    ray.init()\n    \n    # \u5B9A\u4E49\u8BA1\u7B97\u5BC6\u96C6\u578B\u4EFB\u52A1\n    @ray.remote\n    def compute_pi(num_samples):\n        import random\n        count = 0\n        for _ in range(num_samples):\n            x, y = random.random(), random.random()\n            if x*x + y*y <= 1:\n                count += 1\n        return count\n    \n    # \u5206\u5E03\u5F0F\u8BA1\u7B97 \u03C0 \u503C\n    print("Starting distributed computation of Pi...")\n    num_tasks = 100\n    num_samples_per_task = 1_000_000\n    \n    start_time = time.time()\n    futures = [compute_pi.remote(num_samples_per_task) for _ in range(num_tasks)]\n    results = ray.get(futures)\n    \n    total_count = sum(results)\n    total_samples = num_tasks * num_samples_per_task\n    pi_estimate = 4 * total_count / total_samples\n    \n    elapsed_time = time.time() - start_time\n    \n    print(f"Estimated Pi: {pi_estimate}")\n    print(f"Computation time: {elapsed_time:.2f} seconds")\n    print(f"Tasks completed: {num_tasks}")\n    print("Job completed successfully!")\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u5E94\u7528\u8FD9\u4E2A\u914D\u7F6E\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f ray-job-code.yaml\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u521B\u5EFArayjob",children:"\u521B\u5EFARayJob"}),"\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA",(0,l.jsx)(n.code,{children:"RayJob"}),"\u8D44\u6E90\u5B9A\u4E49\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="ray-job-sample.yaml"',children:'apiVersion: ray.io/v1\nkind: RayJob\nmetadata:\n  name: rayjob-sample\nspec:\n  # \u6307\u5B9A\u8981\u6267\u884C\u7684 Python \u811A\u672C\n  entrypoint: python /home/ray/samples/sample_code.py\n  \n  # \u4EFB\u52A1\u5B8C\u6210\u540E\u81EA\u52A8\u5220\u9664\u96C6\u7FA4\n  shutdownAfterJobFinishes: true\n  \n  # \u4EFB\u52A1\u5B8C\u6210\u540E\u7B49\u5F8510\u79D2\u518D\u5220\u9664\u96C6\u7FA4\uFF08\u4FBF\u4E8E\u67E5\u770B\u65E5\u5FD7\uFF09\n  ttlSecondsAfterFinished: 10\n  \n  # \u8FD0\u884C\u65F6\u73AF\u5883\u914D\u7F6E\n  runtimeEnvYAML: |\n    pip:\n      - requests==2.26.0\n    env_vars:\n      LOG_LEVEL: "INFO"\n  \n  # RayCluster \u914D\u7F6E\n  rayClusterSpec:\n    rayVersion: \'2.52.0\'\n    \n    # Head \u8282\u70B9\u914D\u7F6E\n    headGroupSpec:\n      rayStartParams: {}\n      template:\n        spec:\n          containers:\n          - name: ray-head\n            image: rayproject/ray:2.52.0\n            ports:\n            - containerPort: 6379\n              name: gcs-server\n            - containerPort: 8265\n              name: dashboard\n            - containerPort: 10001\n              name: client\n            resources:\n              limits:\n                cpu: "1"\n                memory: "2Gi"\n              requests:\n                cpu: "500m"\n                memory: "1Gi"\n            # \u6302\u8F7D\u4EE3\u7801\n            volumeMounts:\n            - mountPath: /home/ray/samples\n              name: code-sample\n          volumes:\n          - name: code-sample\n            configMap:\n              name: ray-job-code-sample\n              items:\n              - key: sample_code.py\n                path: sample_code.py\n    \n    # Worker \u8282\u70B9\u914D\u7F6E\n    workerGroupSpecs:\n    - replicas: 2\n      minReplicas: 1\n      maxReplicas: 5\n      groupName: worker-group\n      rayStartParams: {}\n      template:\n        spec:\n          containers:\n          - name: ray-worker\n            image: rayproject/ray:2.52.0\n            resources:\n              limits:\n                cpu: "1"\n                memory: "1Gi"\n              requests:\n                cpu: "500m"\n                memory: "512Mi"\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u63D0\u4EA4\u5E76\u76D1\u63A7\u4EFB\u52A1\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u63D0\u4EA4 RayJob\nkubectl apply -f ray-job-sample.yaml\n\n# \u67E5\u770B RayJob \u72B6\u6001\nkubectl get rayjob rayjob-sample\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# NAME            JOB STATUS   DEPLOYMENT STATUS   START TIME   END TIME   AGE\n# rayjob-sample   RUNNING      Running             1m                      1m\n\n# \u67E5\u770B\u4EFB\u52A1\u65E5\u5FD7\nkubectl logs -l ray.io/cluster=rayjob-sample-raycluster -c ray-head\n\n# \u76D1\u63A7\u4EFB\u52A1\u8FDB\u5EA6\uFF08\u6301\u7EED\u67E5\u770B\uFF09\nkubectl get rayjob rayjob-sample -w\n\n# \u4EFB\u52A1\u5B8C\u6210\u540E\u67E5\u770B\u6700\u7EC8\u72B6\u6001\nkubectl get rayjob rayjob-sample\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# NAME            JOB STATUS   DEPLOYMENT STATUS   START TIME   END TIME   AGE\n# rayjob-sample   SUCCEEDED    Complete            5m           4m         5m\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u67E5\u770B\u4EFB\u52A1\u7ED3\u679C",children:"\u67E5\u770B\u4EFB\u52A1\u7ED3\u679C"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u4EFB\u52A1\u6267\u884C\u65E5\u5FD7\nkubectl logs -l ray.io/cluster=rayjob-sample-raycluster -c ray-head --tail=50\n\n# \u671F\u671B\u770B\u5230\u7C7B\u4F3C\u8F93\u51FA\uFF1A\n# Starting distributed computation of Pi...\n# Estimated Pi: 3.14159...\n# Computation time: 12.34 seconds\n# Tasks completed: 100\n# Job completed successfully!\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u90E8\u7F72rayservice\u5728\u7EBF\u63A8\u7406\u670D\u52A1",children:"\u90E8\u7F72RayService\u5728\u7EBF\u63A8\u7406\u670D\u52A1"}),"\n",(0,l.jsxs)(n.p,{children:["\u8FD9\u4E2A\u793A\u4F8B\u5C55\u793A\u5982\u4F55\u4F7F\u7528",(0,l.jsx)(n.code,{children:"RayService"}),"\u90E8\u7F72\u4E00\u4E2A\u7B80\u5355\u7684\u6A21\u578B\u63A8\u7406\u670D\u52A1\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u521B\u5EFA\u4E00\u4E2A\u63D0\u4F9B\u7B80\u5355\u6587\u672C\u5904\u7406\u7684",(0,l.jsx)(n.code,{children:"RayService"}),"\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",metastring:'title="ray-service-sample.yaml"',children:'apiVersion: ray.io/v1\nkind: RayService\nmetadata:\n  name: rayservice-sample\nspec:\n  # Service \u914D\u7F6E\n  serviceUnhealthySecondThreshold: 300\n  deploymentUnhealthySecondThreshold: 300\n  \n  # Serve \u5E94\u7528\u914D\u7F6E\n  serveConfigV2: |\n    applications:\n    - name: text_processor\n      import_path: text_app:deployment\n      runtime_env:\n        working_dir: "https://github.com/ray-project/test_deploy_group/archive/refs/heads/serve_config_deployment_test.zip"\n  \n  # RayCluster \u914D\u7F6E\n  rayClusterSpec:\n    rayVersion: \'2.52.0\'\n    \n    # Head \u8282\u70B9\n    headGroupSpec:\n      rayStartParams:\n        dashboard-host: \'0.0.0.0\'\n        num-cpus: \'0\'\n      template:\n        spec:\n          containers:\n          - name: ray-head\n            image: rayproject/ray:2.52.0\n            ports:\n            - containerPort: 6379\n              name: gcs\n            - containerPort: 8265\n              name: dashboard\n            - containerPort: 10001\n              name: client\n            - containerPort: 8000\n              name: serve\n            resources:\n              limits:\n                cpu: "2"\n                memory: "4Gi"\n              requests:\n                cpu: "1"\n                memory: "2Gi"\n    \n    # Worker \u8282\u70B9\n    workerGroupSpecs:\n    - replicas: 1\n      minReplicas: 1\n      maxReplicas: 5\n      groupName: serve-group\n      rayStartParams: {}\n      template:\n        spec:\n          containers:\n          - name: ray-worker\n            image: rayproject/ray:2.52.0\n            resources:\n              limits:\n                cpu: "2"\n                memory: "2Gi"\n              requests:\n                cpu: "1"\n                memory: "1Gi"\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u90E8\u7F72\u548C\u6D4B\u8BD5\u670D\u52A1\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# \u90E8\u7F72 RayService\nkubectl apply -f ray-service-sample.yaml\n\n# \u67E5\u770B\u670D\u52A1\u72B6\u6001\nkubectl get rayservice rayservice-sample\n# \u671F\u671B\u8F93\u51FA\uFF1A\n# NAME                SERVICE STATUS   NUM SERVE ENDPOINTS\n# rayservice-sample   Running          1\n\n# \u7AEF\u53E3\u8F6C\u53D1\u5230\u672C\u5730\nkubectl port-forward service/rayservice-sample-serve-svc 8000:8000\n\n# \u6D4B\u8BD5\u670D\u52A1\uFF08\u5728\u53E6\u4E00\u4E2A\u7EC8\u7AEF\uFF09\ncurl -X POST http://localhost:8000/ -H "Content-Type: application/json" -d \'{"text": "Hello Ray"}\'\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u6E05\u7406\u8D44\u6E90",children:"\u6E05\u7406\u8D44\u6E90"}),"\n",(0,l.jsx)(n.p,{children:"\u5B8C\u6210\u5B9E\u9A8C\u540E\uFF0C\u6E05\u7406\u521B\u5EFA\u7684\u8D44\u6E90\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u5220\u9664 RayCluster\nkubectl delete raycluster ray-cluster-simple\n\n# RayJob \u901A\u5E38\u4F1A\u81EA\u52A8\u6E05\u7406\uFF0C\u4F46\u5982\u679C\u9700\u8981\u624B\u52A8\u5220\u9664\uFF1A\nkubectl delete rayjob rayjob-sample\n\n# \u5220\u9664 RayService\nkubectl delete rayservice rayservice-sample\n\n# \u5220\u9664 ConfigMap\nkubectl delete configmap ray-job-code-sample\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u53C2\u8003\u8D44\u6599",children:"\u53C2\u8003\u8D44\u6599"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/ray-project/kuberay",children:"KubeRay GitHub \u4ED3\u5E93"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.ray.io/en/latest/cluster/kubernetes/index.html",children:"KubeRay \u5B98\u65B9\u6587\u6863"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://docs.ray.io/",children:"Ray \u5B98\u65B9\u6587\u6863"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://kubernetes.io/docs/",children:"Kubernetes \u5B98\u65B9\u6587\u6863"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},50065:function(e,n,r){r.d(n,{Z:function(){return d},a:function(){return i}});var s=r(67294);let l={},a=s.createContext(l);function i(e){let n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);