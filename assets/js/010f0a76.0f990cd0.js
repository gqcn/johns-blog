"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["1668"],{32152:function(e,n,s){s.r(n),s.d(n,{metadata:()=>t,contentTitle:()=>c,default:()=>l,assets:()=>d,toc:()=>a,frontMatter:()=>o});var t=JSON.parse('{"id":"docs/\u4E91\u539F\u751F/Kubernetes/Kubernetes \u5E38\u89C1\u95EE\u9898","title":"Kubernetes \u5E38\u89C1\u95EE\u9898","description":"\u603B\u7ED3\u548C\u89E3\u51B3 Kubernetes \u4E2D\u7684\u5E38\u89C1\u95EE\u9898\uFF0C\u5305\u62EC namespace \u5220\u9664\u5931\u8D25\u3001Pod \u72B6\u6001\u5F02\u5E38\u7B49\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6848","source":"@site/docs/docs/2000-\u4E91\u539F\u751F/2000-Kubernetes/7000-Kubernetes \u5E38\u89C1\u95EE\u9898.md","sourceDirName":"docs/2000-\u4E91\u539F\u751F/2000-Kubernetes","slug":"/cloud-native/kubernetes-common-issues","permalink":"/cloud-native/kubernetes-common-issues","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7000,"frontMatter":{"slug":"/cloud-native/kubernetes-common-issues","title":"Kubernetes \u5E38\u89C1\u95EE\u9898","hide_title":true,"keywords":["Kubernetes","\u5E38\u89C1\u95EE\u9898","namespace","Terminating","\u95EE\u9898\u6392\u67E5","\u8FD0\u7EF4\u7ECF\u9A8C"],"description":"\u603B\u7ED3\u548C\u89E3\u51B3 Kubernetes \u4E2D\u7684\u5E38\u89C1\u95EE\u9898\uFF0C\u5305\u62EC namespace \u5220\u9664\u5931\u8D25\u3001Pod \u72B6\u6001\u5F02\u5E38\u7B49\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6848"},"sidebar":"mainSidebar","previous":{"title":"Kubernetes NetworkPolicy","permalink":"/cloud-native/kubernetes-network-policy"},"next":{"title":"Pod stuck in ContainerCreating/Terminating","permalink":"/cloud-native/kubernetes-pod-stuck-issues"}}'),i=s("85893"),r=s("50065");let o={slug:"/cloud-native/kubernetes-common-issues",title:"Kubernetes \u5E38\u89C1\u95EE\u9898",hide_title:!0,keywords:["Kubernetes","\u5E38\u89C1\u95EE\u9898","namespace","Terminating","\u95EE\u9898\u6392\u67E5","\u8FD0\u7EF4\u7ECF\u9A8C"],description:"\u603B\u7ED3\u548C\u89E3\u51B3 Kubernetes \u4E2D\u7684\u5E38\u89C1\u95EE\u9898\uFF0C\u5305\u62EC namespace \u5220\u9664\u5931\u8D25\u3001Pod \u72B6\u6001\u5F02\u5E38\u7B49\u95EE\u9898\u7684\u89E3\u51B3\u65B9\u6848"},c=void 0,d={},a=[{value:"\u5220\u9664<code>ns</code>\u5931\u8D25\uFF0C<code>ns</code>\u4E00\u76F4\u5904\u4E8E<code>Terminating</code>\u72B6\u6001",id:"\u5220\u9664ns\u5931\u8D25ns\u4E00\u76F4\u5904\u4E8Eterminating\u72B6\u6001",level:2}];function u(e){let n={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"\u5220\u9664ns\u5931\u8D25ns\u4E00\u76F4\u5904\u4E8Eterminating\u72B6\u6001",children:["\u5220\u9664",(0,i.jsx)(n.code,{children:"ns"}),"\u5931\u8D25\uFF0C",(0,i.jsx)(n.code,{children:"ns"}),"\u4E00\u76F4\u5904\u4E8E",(0,i.jsx)(n.code,{children:"Terminating"}),"\u72B6\u6001"]}),"\n",(0,i.jsxs)(n.p,{children:["\u9996\u5148\uFF0C\u4FDD\u8BC1",(0,i.jsx)(n.code,{children:"ns"}),"\u4E0B\u6240\u6709\u7684",(0,i.jsx)(n.code,{children:"pod"}),"\u5DF2\u7ECF\u5220\u9664\uFF0C\u5982\u679C",(0,i.jsx)(n.code,{children:"pod"}),"\u672A\u5220\u9664\u5B8C\u6BD5\uFF0C\u90A3\u4E48\u4FDD\u8BC1",(0,i.jsx)(n.code,{children:"pod"}),"\u5220\u9664\u5B8C\u6BD5\u540E\u518D\u770B",(0,i.jsx)(n.code,{children:"ns"}),"\u662F\u5426\u5220\u9664\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u6B21\uFF0C\u67E5\u770B",(0,i.jsx)(n.code,{children:"ns"}),"\u7684\u8BE6\u60C5\uFF0C\u901A\u5E38\u8FD9\u4E2A\u65F6\u5019",(0,i.jsx)(n.code,{children:"ns"}),"\u4F1A\u6709",(0,i.jsx)(n.code,{children:"finalizers"}),"\u7684\u5B58\u5728\u5BFC\u81F4\u65E0\u6CD5\u5220\u9664\u3002\u76F4\u63A5",(0,i.jsx)(n.code,{children:"edit ns"}),"\u662F\u4E0D\u5F97\u884C\u7684\uFF0C\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u5C06",(0,i.jsx)(n.code,{children:"ns"}),"\u4E2D\u7684",(0,i.jsx)(n.code,{children:"finalizers"}),"\u5220\u9664\u5373\u53EF\uFF1A"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(35676).Z+"",width:"1970",height:"1152"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'## \u5BFC\u51FAns\u8BE6\u60C5\nkubectl get namespace khaos -o json > tmp.json\n## \u4FEE\u6539tmp.json\uFF0C\u53BB\u6389finalizers\u4E2D\u7684\u5173\u8054\nvim tmp.json\n## \u5F00\u542Fkubernetes api\u4EE3\u7406\uFF0C\u4EE5\u4FBF\u672C\u5730\u53EF\u8BBF\u95EE\nkubectl proxy\n## \u5C06\u4FEE\u6539\u597D\u7684tmp.json\u901A\u8FC7api\u63A5\u53E3\u4FEE\u6539ns\u4FE1\u606F\uFF0C\u6211\u4EEC\u8FD9\u91CC\u4FEE\u6539\u7684\u662Fkhaos\u7A7A\u95F4\ncurl -k -H "Content-Type: application/json" -X PUT --data-binary @tmp.json http://127.0.0.1:8001/api/v1/namespaces/khaos/finalize\n'})})]})}function l(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},35676:function(e,n,s){s.d(n,{Z:function(){return t}});let t=s.p+"assets/images/image-2024-1-30_16-31-59-6702fb51ce76a5cc6fde10ee6d6eca98.png"},50065:function(e,n,s){s.d(n,{Z:function(){return c},a:function(){return o}});var t=s(67294);let i={},r=t.createContext(i);function o(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);