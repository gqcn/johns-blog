"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["9038"],{28433:function(e,n,s){s.r(n),s.d(n,{metadata:()=>l,contentTitle:()=>r,default:()=>j,assets:()=>h,toc:()=>o,frontMatter:()=>c});var l=JSON.parse('{"id":"docs/\u4E91\u539F\u751F/Volcano/Volcano Queue&Job\u8BE6\u89E3","title":"Volcano Queue&Job\u8BE6\u89E3","description":"\u8BE6\u7EC6\u4ECB\u7ECDVolcano\u8C03\u5EA6\u7CFB\u7EDF\u4E2DQueue\u548CJob\u4E24\u4E2A\u6838\u5FC3\u5BF9\u8C61\u7684\u8BBE\u8BA1\u4E0E\u4F7F\u7528\uFF0C\u5305\u62EC\u8D44\u6E90\u7BA1\u7406\u3001\u961F\u5217\u914D\u7F6E\u3001\u4F5C\u4E1A\u5B9A\u4E49\u3001\u91CD\u8BD5\u7B56\u7565\u3001\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB\u7B49\u9AD8\u7EA7\u7279\u6027\uFF0C\u5E2E\u52A9\u7528\u6237\u5145\u5206\u5229\u7528Volcano\u8FDB\u884C\u9AD8\u6548\u7684\u6279\u5904\u7406\u4EFB\u52A1\u8C03\u5EA6\u3002","source":"@site/docs/docs/1000-\u4E91\u539F\u751F/2-Volcano/3500-Volcano Queue&Job\u8BE6\u89E3.md","sourceDirName":"docs/1000-\u4E91\u539F\u751F/2-Volcano","slug":"/cloud-native/volcano-queue-job","permalink":"/cloud-native/volcano-queue-job","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3500,"frontMatter":{"slug":"/cloud-native/volcano-queue-job","title":"Volcano Queue&Job\u8BE6\u89E3","hide_title":true,"keywords":["Volcano","Queue","Job","\u4E91\u539F\u751F","\u6279\u5904\u7406","\u8C03\u5EA6\u7CFB\u7EDF","\u8D44\u6E90\u7BA1\u7406","\u591A\u79DF\u6237","Kubernetes","\u9AD8\u6027\u80FD\u8BA1\u7B97","\u4EFB\u52A1\u4F9D\u8D56","\u91CD\u8BD5\u7B56\u7565","\u8D44\u6E90\u9694\u79BB","\u4EB2\u548C\u6027","\u961F\u5217\u6743\u91CD"],"description":"\u8BE6\u7EC6\u4ECB\u7ECDVolcano\u8C03\u5EA6\u7CFB\u7EDF\u4E2DQueue\u548CJob\u4E24\u4E2A\u6838\u5FC3\u5BF9\u8C61\u7684\u8BBE\u8BA1\u4E0E\u4F7F\u7528\uFF0C\u5305\u62EC\u8D44\u6E90\u7BA1\u7406\u3001\u961F\u5217\u914D\u7F6E\u3001\u4F5C\u4E1A\u5B9A\u4E49\u3001\u91CD\u8BD5\u7B56\u7565\u3001\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB\u7B49\u9AD8\u7EA7\u7279\u6027\uFF0C\u5E2E\u52A9\u7528\u6237\u5145\u5206\u5229\u7528Volcano\u8FDB\u884C\u9AD8\u6548\u7684\u6279\u5904\u7406\u4EFB\u52A1\u8C03\u5EA6\u3002"},"sidebar":"mainSidebar","previous":{"title":"Volcano\u6CE8\u89E3\u8BE6\u89E3","permalink":"/cloud-native/volcano-annotations"},"next":{"title":"Volcano Queue&Job&Pod\u8D44\u6E90\u62A2\u5360\u8BBE\u8BA1","permalink":"/cloud-native/volcano-queue-job-pod-preemption"}}'),d=s("85893"),i=s("50065");let c={slug:"/cloud-native/volcano-queue-job",title:"Volcano Queue&Job\u8BE6\u89E3",hide_title:!0,keywords:["Volcano","Queue","Job","\u4E91\u539F\u751F","\u6279\u5904\u7406","\u8C03\u5EA6\u7CFB\u7EDF","\u8D44\u6E90\u7BA1\u7406","\u591A\u79DF\u6237","Kubernetes","\u9AD8\u6027\u80FD\u8BA1\u7B97","\u4EFB\u52A1\u4F9D\u8D56","\u91CD\u8BD5\u7B56\u7565","\u8D44\u6E90\u9694\u79BB","\u4EB2\u548C\u6027","\u961F\u5217\u6743\u91CD"],description:"\u8BE6\u7EC6\u4ECB\u7ECDVolcano\u8C03\u5EA6\u7CFB\u7EDF\u4E2DQueue\u548CJob\u4E24\u4E2A\u6838\u5FC3\u5BF9\u8C61\u7684\u8BBE\u8BA1\u4E0E\u4F7F\u7528\uFF0C\u5305\u62EC\u8D44\u6E90\u7BA1\u7406\u3001\u961F\u5217\u914D\u7F6E\u3001\u4F5C\u4E1A\u5B9A\u4E49\u3001\u91CD\u8BD5\u7B56\u7565\u3001\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB\u7B49\u9AD8\u7EA7\u7279\u6027\uFF0C\u5E2E\u52A9\u7528\u6237\u5145\u5206\u5229\u7528Volcano\u8FDB\u884C\u9AD8\u6548\u7684\u6279\u5904\u7406\u4EFB\u52A1\u8C03\u5EA6\u3002"},r=void 0,h={},o=[{value:"Queue",id:"queue",level:2},{value:"\u8D44\u6E90\u7BA1\u7406\u673A\u5236",id:"\u8D44\u6E90\u7BA1\u7406\u673A\u5236",level:3},{value:"\u4F7F\u7528 capacity \u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",id:"\u4F7F\u7528-capacity-\u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",level:4},{value:"\u4F7F\u7528 proportion \u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",id:"\u4F7F\u7528-proportion-\u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",level:4},{value:"\u4F18\u5148\u7EA7\u4E0E\u6743\u91CD",id:"\u4F18\u5148\u7EA7\u4E0E\u6743\u91CD",level:3},{value:"\u961F\u5217\u72B6\u6001",id:"\u961F\u5217\u72B6\u6001",level:3},{value:"\u72B6\u6001\u72B6\u6001\u7C7B\u578B",id:"\u72B6\u6001\u72B6\u6001\u7C7B\u578B",level:4},{value:"\u68C0\u67E5\u961F\u5217\u72B6\u6001",id:"\u68C0\u67E5\u961F\u5217\u72B6\u6001",level:4},{value:"\u72B6\u6001\u63A7\u5236",id:"\u72B6\u6001\u63A7\u5236",level:4},{value:"\u65B9\u5F0F\u4E00\uFF1A\u4F7F\u7528<code>kubectl vc</code>\u547D\u4EE4\u884C\u5DE5\u5177\uFF08\u63A8\u8350\uFF09",id:"\u65B9\u5F0F\u4E00\u4F7F\u7528kubectl-vc\u547D\u4EE4\u884C\u5DE5\u5177\u63A8\u8350",level:5},{value:"\u65B9\u5F0F\u4E8C\uFF1A\u521B\u5EFA<code>Command</code>\u8D44\u6E90",id:"\u65B9\u5F0F\u4E8C\u521B\u5EFAcommand\u8D44\u6E90",level:5},{value:"\u65B9\u5F0F\u4E09\uFF1A\u4F7F\u7528Volcano API\u5BA2\u6237\u7AEF",id:"\u65B9\u5F0F\u4E09\u4F7F\u7528volcano-api\u5BA2\u6237\u7AEF",level:5},{value:"\u8D44\u6E90\u62A2\u5360\u673A\u5236",id:"\u8D44\u6E90\u62A2\u5360\u673A\u5236",level:3},{value:"\u5C42\u7EA7\u961F\u5217",id:"\u5C42\u7EA7\u961F\u5217",level:3},{value:"\u5C42\u7EA7\u961F\u5217\u7684\u914D\u7F6E\u65B9\u5F0F",id:"\u5C42\u7EA7\u961F\u5217\u7684\u914D\u7F6E\u65B9\u5F0F",level:4},{value:"\u5C42\u7EA7\u961F\u5217\u7684\u4F7F\u7528\u793A\u4F8B",id:"\u5C42\u7EA7\u961F\u5217\u7684\u4F7F\u7528\u793A\u4F8B",level:4},{value:"\u5C42\u7EA7\u961F\u5217\u7684\u5DE5\u4F5C\u539F\u7406",id:"\u5C42\u7EA7\u961F\u5217\u7684\u5DE5\u4F5C\u539F\u7406",level:4},{value:"\u5C42\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u56DE\u6536\u4E0E\u62A2\u5360",id:"\u5C42\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u56DE\u6536\u4E0E\u62A2\u5360",level:4},{value:"\u5C42\u7EA7\u961F\u5217\u7684\u4F18\u52BF",id:"\u5C42\u7EA7\u961F\u5217\u7684\u4F18\u52BF",level:4},{value:"\u961F\u5217\u4EB2\u548C\u6027\uFF08affinity\uFF09",id:"\u961F\u5217\u4EB2\u548C\u6027affinity",level:3},{value:"\u8282\u70B9\u7EC4\u4ECB\u7ECD",id:"\u8282\u70B9\u7EC4\u4ECB\u7ECD",level:4},{value:"\u4EB2\u548C\u6027\u7C7B\u578B",id:"\u4EB2\u548C\u6027\u7C7B\u578B",level:4},{value:"\u914D\u7F6E\u793A\u4F8B",id:"\u914D\u7F6E\u793A\u4F8B",level:4},{value:"\u5DE5\u4F5C\u539F\u7406",id:"\u5DE5\u4F5C\u539F\u7406",level:4},{value:"\u6269\u5C55\u96C6\u7FA4\uFF08extendClusters\uFF09",id:"\u6269\u5C55\u96C6\u7FA4extendclusters",level:3},{value:"\u914D\u7F6E\u7ED3\u6784",id:"\u914D\u7F6E\u7ED3\u6784",level:4},{value:"\u5DE5\u4F5C\u539F\u7406",id:"\u5DE5\u4F5C\u539F\u7406-1",level:4},{value:"\u5E94\u7528\u573A\u666F",id:"\u5E94\u7528\u573A\u666F",level:4},{value:"\u914D\u7F6E\u793A\u4F8B",id:"\u914D\u7F6E\u793A\u4F8B-1",level:4},{value:"\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879",id:"\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879",level:4},{value:"\u961F\u5217\u4F7F\u7528\u65B9\u5F0F",id:"\u961F\u5217\u4F7F\u7528\u65B9\u5F0F",level:3},{value:"1. Volcano Job",id:"1-volcano-job",level:4},{value:"2. Kubernetes Pod",id:"2-kubernetes-pod",level:4},{value:"3. Kubernetes Deployment",id:"3-kubernetes-deployment",level:4},{value:"4. Kubernetes StatefulSet",id:"4-kubernetes-statefulset",level:4},{value:"5. PodGroup",id:"5-podgroup",level:4},{value:"\u6CE8\u610F\u4E8B\u9879",id:"\u6CE8\u610F\u4E8B\u9879",level:4},{value:"Job",id:"job",level:2},{value:"\u57FA\u672C\u7ED3\u6784",id:"\u57FA\u672C\u7ED3\u6784",level:3},{value:"Job\u72B6\u6001",id:"job\u72B6\u6001",level:3},{value:"\u6279\u91CF\u8C03\u5EA6",id:"\u6279\u91CF\u8C03\u5EA6",level:3},{value:"\u5DE5\u4F5C\u539F\u7406",id:"\u5DE5\u4F5C\u539F\u7406-2",level:4},{value:"\u5E94\u7528\u573A\u666F\u793A\u4F8B",id:"\u5E94\u7528\u573A\u666F\u793A\u4F8B",level:4},{value:"\u4E0E\u5176\u4ED6\u5C5E\u6027\u7684\u914D\u5408",id:"\u4E0E\u5176\u4ED6\u5C5E\u6027\u7684\u914D\u5408",level:4},{value:"\u91CD\u8BD5\u7B56\u7565",id:"\u91CD\u8BD5\u7B56\u7565",level:3},{value:"\u91CD\u8BD5\u63A7\u5236\u53C2\u6570",id:"\u91CD\u8BD5\u63A7\u5236\u53C2\u6570",level:4},{value:"\u652F\u6301\u7684\u4E8B\u4EF6\u7C7B\u578B(event)",id:"\u652F\u6301\u7684\u4E8B\u4EF6\u7C7B\u578Bevent",level:4},{value:"\u652F\u6301\u7684\u52A8\u4F5C\u7C7B\u578B(action)",id:"\u652F\u6301\u7684\u52A8\u4F5C\u7C7B\u578Baction",level:4},{value:"\u91CD\u8BD5\u7B56\u7565\u914D\u7F6E\u793A\u4F8B",id:"\u91CD\u8BD5\u7B56\u7565\u914D\u7F6E\u793A\u4F8B",level:4},{value:"\u91CD\u8BD5\u7B56\u7565\u6700\u4F73\u5B9E\u8DF5",id:"\u91CD\u8BD5\u7B56\u7565\u6700\u4F73\u5B9E\u8DF5",level:4},{value:"\u4E0E\u5176\u4ED6\u7279\u6027\u7684\u7ED3\u5408",id:"\u4E0E\u5176\u4ED6\u7279\u6027\u7684\u7ED3\u5408",level:4},{value:"\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB",id:"\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB",level:3},{value:"\u4F9D\u8D56\u5173\u7CFB\u914D\u7F6E",id:"\u4F9D\u8D56\u5173\u7CFB\u914D\u7F6E",level:4},{value:"\u5DE5\u4F5C\u539F\u7406",id:"\u5DE5\u4F5C\u539F\u7406-3",level:4},{value:"\u5E94\u7528\u573A\u666F",id:"\u5E94\u7528\u573A\u666F-1",level:4},{value:"\u6CE8\u610F\u4E8B\u9879\u4E0E\u6700\u4F73\u5B9E\u8DF5",id:"\u6CE8\u610F\u4E8B\u9879\u4E0E\u6700\u4F73\u5B9E\u8DF5",level:4}];function x(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["\u672C\u6587\u8BE6\u7EC6\u4ECB\u7ECD",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E2D",(0,d.jsx)(n.code,{children:"Queue"}),"\u548C",(0,d.jsx)(n.code,{children:"Job"}),"\u6838\u5FC3\u5BF9\u8C61\u7684\u5173\u952E\u8BBE\u8BA1\u4EE5\u53CA\u4F7F\u7528\u3002\u5173\u4E8E\u8FD9\u4E24\u4E2A\u5BF9\u8C61\u7684\u57FA\u7840\u4ECB\u7ECD\uFF0C\u8BF7\u53C2\u8003",(0,d.jsx)(n.code,{children:"Volcano"}),"\u57FA\u672C\u4ECB\u7ECD\u7AE0\u8282 ",(0,d.jsx)(n.a,{href:"/cloud-native/volcano-introduction",children:"Volcano\u4ECB\u7ECD"}),"\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"queue",children:"Queue"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u662F",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u7CFB\u7EDF\u4E2D\u7684\u6838\u5FC3\u6982\u5FF5\uFF0C\u7528\u4E8E\u7BA1\u7406\u548C\u5206\u914D\u96C6\u7FA4\u8D44\u6E90\u3002\n\u5B83\u5145\u5F53\u4E86\u8D44\u6E90\u6C60\u7684\u89D2\u8272\uFF0C\u5141\u8BB8\u7BA1\u7406\u5458\u5C06\u96C6\u7FA4\u8D44\u6E90\u5212\u5206\u7ED9\u4E0D\u540C\u7684\u7528\u6237\u7EC4\u6216\u5E94\u7528\u573A\u666F\u3002\u8BE5\u81EA\u5B9A\u4E49\u8D44\u6E90\u53EF\u4EE5\u5F88\u597D\u5730\u7528\u4E8E\u591A\u79DF\u6237\u573A\u666F\u4E0B\u7684\u8D44\u6E90\u9694\u79BB\u3002"]}),"\n",(0,d.jsx)(n.p,{children:"\u8BE5\u5BF9\u8C61\u7684\u6570\u636E\u7ED3\u6784\u5982\u4E0B\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: gpu-queue\nspec:\n  weight: 1                                      # \u961F\u5217\u6743\u91CD\uFF0C\u8303\u56F41-65535\n  priority: 100                                  # \u961F\u5217\u4F18\u5148\u7EA7\n  capability:                                    # \u961F\u5217\u8D44\u6E90\u5BB9\u91CF\n    cpu: "100"\n    memory: "1000Gi"\n    nvidia.com/gpu: "10"\n  deserved:                                      # \u5E94\u5F97\u8D44\u6E90\u91CF\n    cpu: "80"\n    memory: "800Gi"\n    nvidia.com/gpu: "8"\n  guarantee:                                     # \u8D44\u6E90\u4FDD\u969C\u914D\u7F6E\n    resource:                                    # \u4FDD\u969C\u7684\u8D44\u6E90\u91CF\n      cpu: "50"\n      memory: "500Gi"\n      nvidia.com/gpu: "5"\n  reclaimable: true                              # \u662F\u5426\u5141\u8BB8\u8D44\u6E90\u56DE\u6536\n  parent: "root"                                 # \u7236\u961F\u5217\n  affinity:                                      # \u961F\u5217\u4EB2\u548C\u6027\u914D\u7F6E\n    nodeGroupAffinity:                           # \u8282\u70B9\u7EC4\u4EB2\u548C\u6027\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - "gpu-nodes"                            # \u5FC5\u987B\u8C03\u5EA6\u5230GPU\u8282\u70B9\n      preferredDuringSchedulingIgnoredDuringExecution:\n        - "high-memory-nodes"                    # \u4F18\u5148\u8C03\u5EA6\u5230\u9AD8\u5185\u5B58\u8282\u70B9\n    nodeGroupAntiAffinity:                       # \u8282\u70B9\u7EC4\u53CD\u4EB2\u548C\u6027\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - "npu-nodes"                            # \u4E0D\u80FD\u8C03\u5EA6\u5230NPU\u8282\u70B9\n  extendClusters:                                # \u6269\u5C55\u96C6\u7FA4\u914D\u7F6E\n    - name: "cluster-1"\n      weight: 1\n      capacity:                                  # \u96C6\u7FA4\u5BB9\u91CF\n        cpu: "1000"\n        memory: "1000Gi"\n        nvidia.com/gpu: "20"\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8BE5\u961F\u5217\u5BF9\u8C61\u4E0A\uFF0C\u6211\u53BB\u6389\u4E86\u6CA1\u6709\u592A\u5927\u610F\u4E49\u7684\u4E00\u4E9B\u914D\u7F6E\u9879\uFF0C\u4EE5\u4FBF\u66F4\u597D\u7406\u89E3\u961F\u5217\u529F\u80FD\u3002\u53BB\u6389\u7684\u914D\u7F6E\u9879\u5982\u4E0B\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u6CE8\u89E3\u4E0A\u5B9E\u73B0\u7684\u5C42\u7EA7\u961F\u5217\u914D\u7F6E\uFF0C\u5982\uFF1A","\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'annotations:\n  "volcano.sh/hierarchy": "root/eng/prod"\n  "volcano.sh/hierarchy-weights": "1/2/8"\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\u4EC5\u4F5C\u961F\u5217\u7C7B\u578B\u6807\u8BB0\u4F7F\u7528\u7684",(0,d.jsx)(n.code,{children:"spec.type"}),"\u914D\u7F6E\u9879\uFF0C\u6CA1\u6709\u5B9E\u9645\u529F\u80FD\u4F5C\u7528\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u8D44\u6E90\u7BA1\u7406\u673A\u5236",children:"\u8D44\u6E90\u7BA1\u7406\u673A\u5236"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684",(0,d.jsx)(n.code,{children:"Queue"}),"\u8D44\u6E90\u5BF9\u8C61\u91C7\u7528\u4E86\u4E00\u4E2A\u7075\u6D3B\u7684\u4E09\u7EA7\u8D44\u6E90\u7BA1\u7406\u673A\u5236\uFF0C\u8FD9\u4E09\u4E2A\u7EA7\u522B\u5206\u522B\u662F\uFF1A",(0,d.jsx)(n.code,{children:"capability"}),"\uFF08\u8D44\u6E90\u4E0A\u9650\uFF09\u3001",(0,d.jsx)(n.code,{children:"deserved"}),"\uFF08\u5E94\u5F97\u8D44\u6E90\uFF09\u548C",(0,d.jsx)(n.code,{children:"guarantee"}),"\uFF08\u4FDD\u969C\u8D44\u6E90\uFF09\u3002\u8FD9\u79CD\u8BBE\u8BA1\u5141\u8BB8\u96C6\u7FA4\u7BA1\u7406\u5458\u7CBE\u7EC6\u63A7\u5236\u8D44\u6E90\u5206\u914D\uFF0C\u7279\u522B\u9002\u5408\u591A\u79DF\u6237\u73AF\u5883\u4E0B\u7684\u8D44\u6E90\u7BA1\u7406\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u8D44\u6E90\u7BA1\u7406\u673A\u5236\u7684\u5177\u4F53\u884C\u4E3A\u53D6\u51B3\u4E8E\u4F7F\u7528\u7684\u8C03\u5EA6\u63D2\u4EF6\u3002\u4E0B\u9762\u5206\u522B\u4ECB\u7ECD ",(0,d.jsx)(n.code,{children:"capacity"})," \u63D2\u4EF6\u548C ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236\u3002"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"capacity"})," \u63D2\u4EF6\u65F6\uFF1A",(0,d.jsx)(n.code,{children:"capability"}),"\u3001",(0,d.jsx)(n.code,{children:"deserved"}),"\u548C",(0,d.jsx)(n.code,{children:"guarantee"})," \u4E09\u9879\u914D\u7F6E\u90FD\u6309\u9884\u8BBE\u503C\u4E25\u683C\u6267\u884C\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u65F6\uFF1A\u4E3B\u8981\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"weight"})," \u52A8\u6001\u8BA1\u7B97 ",(0,d.jsx)(n.code,{children:"deserved"}),"\uFF0C",(0,d.jsx)(n.code,{children:"capability"})," \u548C ",(0,d.jsx)(n.code,{children:"guarantee"})," \u4ECD\u7136\u6709\u6548\u3002"]}),"\n",(0,d.jsx)(n.li,{children:"\u4E24\u79CD\u63D2\u4EF6\u4E0D\u80FD\u540C\u65F6\u542F\u7528\uFF0C\u9700\u8981\u6839\u636E\u5B9E\u9645\u9700\u6C42\u9009\u62E9\u5408\u9002\u7684\u8D44\u6E90\u7BA1\u7406\u7B56\u7565\u3002"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4F7F\u7528-capacity-\u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",children:"\u4F7F\u7528 capacity \u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236"}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53\u542F\u7528 ",(0,d.jsx)(n.code,{children:"capacity"})," \u63D2\u4EF6\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"Queue"}),"\u7684\u4E09\u7EA7\u8D44\u6E90\u914D\u7F6E\uFF08",(0,d.jsx)(n.code,{children:"capability"}),"\u3001",(0,d.jsx)(n.code,{children:"deserved"}),"\u3001",(0,d.jsx)(n.code,{children:"guarantee"}),"\uFF09\u4F1A\u4E25\u683C\u6309\u7167\u9884\u8BBE\u503C\u8FDB\u884C\u8D44\u6E90\u7BA1\u7406\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"1. capability\uFF08\u8D44\u6E90\u4E0A\u9650\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u80FD\u591F\u4F7F\u7528\u7684\u8D44\u6E90\u4E0A\u9650\uFF0C\u961F\u5217\u4E2D\u7684\u6240\u6709\u4F5C\u4E1A\u4F7F\u7528\u7684\u8D44\u6E90\u603B\u548C\u4E0D\u80FD\u8D85\u8FC7\u8FD9\u4E2A\u4E0A\u9650\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4EE3\u8868\u961F\u5217\u80FD\u591F\u4F7F\u7528\u7684\u6700\u5927\u8D44\u6E90\u91CF"}),"\n",(0,d.jsx)(n.li,{children:"\u8BBE\u7F6E\u4E86\u8D44\u6E90\u4F7F\u7528\u7684\u786C\u9650\u5236\uFF0C\u9632\u6B62\u5355\u4E2A\u961F\u5217\u8FC7\u5EA6\u6D88\u8017\u96C6\u7FA4\u8D44\u6E90"}),"\n",(0,d.jsxs)(n.li,{children:["\u53EF\u4EE5\u9488\u5BF9\u591A\u79CD\u8D44\u6E90\u7C7B\u578B\u8BBE\u7F6E\uFF08",(0,d.jsx)(n.code,{children:"CPU"}),"\u3001\u5185\u5B58\u3001",(0,d.jsx)(n.code,{children:"GPU"}),"\u7B49\uFF09"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u793A\u4F8B\u573A\u666F"}),"\uFF1A \u5047\u8BBE\u4E00\u4E2A\u751F\u4EA7\u961F\u5217\u8BBE\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"capability.cpu=100"}),"\uFF0C\u90A3\u4E48\u5373\u4F7F\u96C6\u7FA4\u6709\u66F4\u591A\u7A7A\u95F2\u8D44\u6E90\uFF0C\u8BE5\u961F\u5217\u4E2D\u7684\u6240\u6709\u4F5C\u4E1A\u4F7F\u7528\u7684",(0,d.jsx)(n.code,{children:"CPU"}),"\u603B\u548C\u4E5F\u4E0D\u80FD\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"100"}),"\u6838\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"2. deserved\uFF08\u5E94\u5F97\u8D44\u6E90\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u5728\u8D44\u6E90\u7ADE\u4E89\u60C5\u51B5\u4E0B\u5E94\u8BE5\u83B7\u5F97\u7684\u8D44\u6E90\u91CF\uFF0C\u662F\u8D44\u6E90\u5206\u914D\u548C\u56DE\u6536\u7684\u57FA\u51C6\u7EBF\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5F53\u96C6\u7FA4\u8D44\u6E90\u5145\u8DB3\u65F6(",(0,d.jsx)(n.code,{children:"allocated"})," < ",(0,d.jsx)(n.code,{children:"deserved"}),")\uFF0C\u961F\u5217\u53EF\u4EE5\u4F7F\u7528\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"deserved"}),"\u7684\u8D44\u6E90\uFF08\u4F46\u4E0D\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"capability"}),"\uFF09"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u96C6\u7FA4\u8D44\u6E90\u7D27\u5F20\u65F6(",(0,d.jsx)(n.code,{children:"allocated"})," >= ",(0,d.jsx)(n.code,{children:"deserved"}),")\uFF0C\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"deserved"}),"\u7684\u8D44\u6E90\u53EF\u80FD\u88AB\u56DE\u6536\u7ED9\u5176\u4ED6\u961F\u5217\u4F7F\u7528"]}),"\n",(0,d.jsx)(n.li,{children:"\u662F\u8D44\u6E90\u501F\u7528\u548C\u56DE\u6536\u673A\u5236\u7684\u6838\u5FC3\u53C2\u8003\u503C"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u914D\u7F6E\u5EFA\u8BAE"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5728\u540C\u7EA7\u961F\u5217\u573A\u666F\u4E0B\uFF0C\u6240\u6709\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"deserved"}),"\u503C\u603B\u548C\u5E94\u7B49\u4E8E\u96C6\u7FA4\u603B\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5728\u5C42\u7EA7\u961F\u5217\u573A\u666F\u4E0B\uFF0C\u5B50\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"deserved"}),"\u503C\u603B\u548C\u5E94\u7B49\u4E8E\u7236\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"deserved"}),"\u503C"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u793A\u4F8B\u573A\u666F"}),"\uFF1A \u5047\u8BBE\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u8BBE\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"deserved.cpu=80"}),"\uFF0C\u5F53\u8D44\u6E90\u5145\u8DB3\u65F6\uFF0C\u5B83\u53EF\u4EE5\u4F7F\u7528\u591A\u8FBE",(0,d.jsx)(n.code,{children:"100"}),"\u6838\uFF08",(0,d.jsx)(n.code,{children:"capability"}),"\u4E0A\u9650\uFF09\uFF1B\u4F46\u5F53\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u5B83\u53EA\u80FD\u4FDD\u8BC1\u83B7\u5F97",(0,d.jsx)(n.code,{children:"80"}),"\u6838\uFF0C\u8D85\u51FA\u90E8\u5206\u53EF\u80FD\u88AB\u56DE\u6536\u3002\u5F53\u8D44\u6E90\u6781\u5EA6\u7D27\u5F20\u65F6\uFF0C\u4F1A\u4FDD\u8BC1\u540E\u7EED\u4ECB\u7ECD\u7684\u961F\u5217",(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90\uFF0C"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"3. guarantee\uFF08\u4FDD\u969C\u8D44\u6E90\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u88AB\u4FDD\u8BC1\u80FD\u591F\u4F7F\u7528\u7684\u6700\u5C0F\u8D44\u6E90\u91CF\uFF0C\u5373\u4F7F\u5728\u96C6\u7FA4\u8D44\u6E90\u7D27\u5F20\u7684\u60C5\u51B5\u4E0B\u4E5F\u4E0D\u4F1A\u88AB\u56DE\u6536\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u63D0\u4F9B\u4E86\u8D44\u6E90\u4F7F\u7528\u7684\u6700\u4F4E\u4FDD\u969C"}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u90E8\u5206\u8D44\u6E90\u4E13\u5C5E\u4E8E\u8BE5\u961F\u5217\uFF0C\u4E0D\u4F1A\u88AB\u5176\u4ED6\u961F\u5217\u501F\u7528\u6216\u62A2\u5360"}),"\n",(0,d.jsx)(n.li,{children:"\u5373\u4F7F\u5728\u8D44\u6E90\u7D27\u5F20\u7684\u60C5\u51B5\u4E0B\uFF0C\u8C03\u5EA6\u5668\u4E5F\u4F1A\u786E\u4FDD\u961F\u5217\u80FD\u83B7\u5F97\u8FD9\u4E9B\u8D44\u6E90"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u793A\u4F8B\u573A\u666F"}),"\uFF1A \u5047\u8BBE\u5173\u952E\u4E1A\u52A1\u961F\u5217\u8BBE\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"guarantee.cpu=50"}),"\uFF0C\u5373\u4F7F\u96C6\u7FA4\u8D44\u6E90\u975E\u5E38\u7D27\u5F20\uFF0C\u8BE5\u961F\u5217\u4E5F\u80FD\u4FDD\u8BC1\u83B7\u5F97",(0,d.jsx)(n.code,{children:"50"}),"\u6838",(0,d.jsx)(n.code,{children:"CPU"}),"\u8D44\u6E90\u7528\u4E8E\u8FD0\u884C\u5173\u952E\u4E1A\u52A1\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4E09\u8005\u4E4B\u95F4\u7684\u5173\u7CFB"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u5C42\u7EA7\u5173\u7CFB\uFF1Aguarantee \u2264 deserved \u2264 capability"})}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"guarantee"}),"\u662F\u6700\u4F4E\u4FDD\u969C"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"deserved"}),"\u662F\u6B63\u5E38\u60C5\u51B5\u4E0B\uFF08\u8D44\u6E90\u4E0D\u662F\u6781\u5EA6\u7D27\u5F20\u60C5\u51B5\u4E0B\uFF09\u5E94\u5F97\u7684\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"capability"}),"\u662F\u6700\u9AD8\u4E0A\u9650"]}),"\n"]}),"\n",(0,d.jsxs)(n.ol,{start:"2",children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u5206\u914D\u4F18\u5148\u7EA7"}),"\uFF1A"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u9996\u5148\u4FDD\u8BC1\u6240\u6709\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:["\u7136\u540E\u6309\u7167",(0,d.jsx)(n.code,{children:"deserved"}),"\u503C\u548C\u6743\u91CD\u5206\u914D\u5269\u4F59\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:["\u6700\u540E\u5141\u8BB8\u961F\u5217\u4F7F\u7528\u7A7A\u95F2\u8D44\u6E90\uFF0C\u4F46\u4E0D\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"capability"})]}),"\n"]}),"\n",(0,d.jsxs)(n.ol,{start:"3",children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u56DE\u6536\u987A\u5E8F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u9996\u5148\u56DE\u6536\u8D85\u51FA",(0,d.jsx)(n.code,{children:"capability"}),"\u7684\u8D44\u6E90"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u8FD9\u79CD\u60C5\u51B5\u901A\u5E38\u4E0D\u4F1A\u53D1\u751F\uFF0C\u56E0\u4E3A\u8C03\u5EA6\u5668\u4F1A\u786E\u4FDD\u961F\u5217\u4F7F\u7528\u7684\u8D44\u6E90\u4E0D\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"capability"}),"\u4E0A\u9650"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.ol,{start:"2",children:["\n",(0,d.jsxs)(n.li,{children:["\u7136\u540E\u56DE\u6536\u8D85\u51FA",(0,d.jsx)(n.code,{children:"deserved"}),"\u4F46\u672A\u8D85\u51FA",(0,d.jsx)(n.code,{children:"capability"}),"\u7684\u8D44\u6E90"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u5F53\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u961F\u5217\u4F7F\u7528\u7684\u8D85\u8FC7",(0,d.jsx)(n.code,{children:"deserved"}),"\u503C\u7684\u8D44\u6E90\u53EF\u80FD\u88AB\u56DE\u6536"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:'\u8FD9\u90E8\u5206\u8D44\u6E90\u88AB\u89C6\u4E3A"\u501F\u7528"\u7684\u8D44\u6E90\uFF0C\u5728\u8D44\u6E90\u7D27\u5F20\u65F6\u9700\u8981"\u5F52\u8FD8"'}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.ol,{start:"3",children:["\n",(0,d.jsxs)(n.li,{children:["\u6700\u540E\u8003\u8651\u56DE\u6536\u8D85\u51FA",(0,d.jsx)(n.code,{children:"guarantee"}),"\u4F46\u672A\u8D85\u51FA",(0,d.jsx)(n.code,{children:"deserved"}),"\u7684\u8D44\u6E90"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u53EA\u6709\u5728\u6781\u5EA6\u8D44\u6E90\u7D27\u5F20\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E14\u6709\u66F4\u9AD8\u4F18\u5148\u7EA7\u7684\u961F\u5217\u9700\u8981\u8D44\u6E90\u65F6"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:["\u8FD9\u79CD\u56DE\u6536\u901A\u5E38\u901A\u8FC7\u62A2\u5360\uFF08",(0,d.jsx)(n.code,{children:"preemption"}),"\uFF09\u673A\u5236\u5B9E\u73B0\uFF0C\u800C\u4E0D\u662F\u7B80\u5355\u7684\u8D44\u6E90\u56DE\u6536"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.ol,{start:"4",children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90\u6C38\u8FDC\u4E0D\u4F1A\u88AB\u56DE\u6536"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90\u662F\u961F\u5217\u7684\u6700\u4F4E\u4FDD\u969C\uFF0C\u5373\u4F7F\u5728\u6781\u5EA6\u8D44\u6E90\u7D27\u5F20\u7684\u60C5\u51B5\u4E0B\u4E5F\u4E0D\u4F1A\u88AB\u56DE\u6536"]}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u662F\u4FDD\u8BC1\u5173\u952E\u4E1A\u52A1\u7A33\u5B9A\u8FD0\u884C\u7684\u57FA\u7840"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4F7F\u7528-proportion-\u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236",children:"\u4F7F\u7528 proportion \u63D2\u4EF6\u7684\u8D44\u6E90\u7BA1\u7406\u673A\u5236"}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53\u542F\u7528 ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u65F6\uFF0C\u8D44\u6E90\u7BA1\u7406\u673A\u5236\u53D1\u751F\u4E86\u91CD\u8981\u53D8\u5316\uFF0C\u4E3B\u8981\u57FA\u4E8E ",(0,d.jsx)(n.code,{children:"weight"}),"\uFF08\u6743\u91CD\uFF09\u8FDB\u884C\u52A8\u6001\u8D44\u6E90\u5206\u914D\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6838\u5FC3\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u52A8\u6001 deserved \u8BA1\u7B97"}),"\uFF1A",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u4F1A\u5FFD\u7565\u961F\u5217\u4E2D\u9884\u8BBE\u7684 ",(0,d.jsx)(n.code,{children:"deserved"})," \u503C\uFF0C\u800C\u662F\u57FA\u4E8E ",(0,d.jsx)(n.code,{children:"weight"})," \u52A8\u6001\u8BA1\u7B97\u6BCF\u4E2A\u961F\u5217\u7684\u5E94\u5F97\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6743\u91CD\u6BD4\u4F8B\u5206\u914D"}),"\uFF1A\u6BCF\u4E2A\u961F\u5217\u7684 ",(0,d.jsx)(n.code,{children:"deserved"})," = \u96C6\u7FA4\u603B\u8D44\u6E90 \xd7 (\u961F\u5217",(0,d.jsx)(n.code,{children:"weight"})," / \u6240\u6709\u961F\u5217",(0,d.jsx)(n.code,{children:"weight"}),"\u603B\u548C)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7B80\u5316\u914D\u7F6E"}),"\uFF1A\u4E3B\u8981\u4F9D\u8D56 ",(0,d.jsx)(n.code,{children:"weight"})," \u548C ",(0,d.jsx)(n.code,{children:"capability"})," \u914D\u7F6E\uFF0C",(0,d.jsx)(n.code,{children:"guarantee"})," \u914D\u7F6E\u4ECD\u7136\u6709\u6548"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u914D\u7F6E\u5B57\u6BB5\u4F5C\u7528"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"1. weight\uFF08\u6743\u91CD\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u5728\u8D44\u6E90\u5206\u914D\u4E2D\u7684\u6743\u91CD\u503C\uFF0C\u7528\u4E8E\u8BA1\u7B97\u961F\u5217\u5E94\u5F97\u7684\u8D44\u6E90\u6BD4\u4F8B\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u8FD9\u662F ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u6700\u6838\u5FC3\u7684\u914D\u7F6E\u53C2\u6570"]}),"\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u8D8A\u5927\uFF0C\u961F\u5217\u83B7\u5F97\u7684\u8D44\u6E90\u6BD4\u4F8B\u8D8A\u9AD8"}),"\n",(0,d.jsxs)(n.li,{children:["\u52A8\u6001\u8BA1\u7B97\uFF1A",(0,d.jsx)(n.code,{children:"deserved = \u603B\u8D44\u6E90 \xd7 (\u961F\u5217weight / \u603Bweight)"})]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"# \u961F\u5217A\uFF1Aweight=3\uFF0C\u961F\u5217B\uFF1Aweight=1\n# \u5047\u8BBE\u96C6\u7FA4\u603B\u8D44\u6E90 100 CPU\n# \u961F\u5217A deserved = 100 \xd7 (3/4) = 75 CPU\n# \u961F\u5217B deserved = 100 \xd7 (1/4) = 25 CPU\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"2. capability\uFF08\u8D44\u6E90\u4E0A\u9650\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u4E2D\u4ECD\u7136\u4F5C\u4E3A\u786C\u9650\u5236\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u961F\u5217\u4F7F\u7528\u7684\u8D44\u6E90\u4E0D\u80FD\u8D85\u8FC7 ",(0,d.jsx)(n.code,{children:"capability"})," \u8BBE\u7F6E\u7684\u4E0A\u9650"]}),"\n",(0,d.jsxs)(n.li,{children:["\u4E0E ",(0,d.jsx)(n.code,{children:"capacity"})," \u63D2\u4EF6\u4E2D\u7684\u4F5C\u7528\u76F8\u540C"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"3. guarantee\uFF08\u4FDD\u969C\u8D44\u6E90\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u4E2D\u7684\u4F5C\u7528\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4ECD\u7136\u63D0\u4F9B\u6700\u4F4E\u8D44\u6E90\u4FDD\u969C"}),"\n",(0,d.jsxs)(n.li,{children:["\u4F46\u7531\u4E8E ",(0,d.jsx)(n.code,{children:"deserved"})," \u662F\u52A8\u6001\u8BA1\u7B97\u7684\uFF0C\u5B9E\u9645\u6548\u679C\u53EF\u80FD\u4E0E ",(0,d.jsx)(n.code,{children:"capacity"})," \u63D2\u4EF6\u4E0D\u540C"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u5206\u914D\u6D41\u7A0B"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7B2C\u4E00\u8F6E\u5206\u914D"}),"\uFF1A\u6309\u6743\u91CD\u6BD4\u4F8B\u8BA1\u7B97\u6BCF\u4E2A\u961F\u5217\u7684 ",(0,d.jsx)(n.code,{children:"deserved"})," \u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7EA6\u675F\u68C0\u67E5"}),"\uFF1A\u786E\u4FDD ",(0,d.jsx)(n.code,{children:"deserved"})," \u4E0D\u8D85\u8FC7\u961F\u5217\u7684 ",(0,d.jsx)(n.code,{children:"capability"}),"\uFF0C\u4E0D\u4F4E\u4E8E ",(0,d.jsx)(n.code,{children:"guarantee"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5269\u4F59\u8D44\u6E90\u5206\u914D"}),"\uFF1A\u5982\u679C\u67D0\u4E9B\u961F\u5217\u56E0 ",(0,d.jsx)(n.code,{children:"capability"})," \u9650\u5236\u65E0\u6CD5\u4F7F\u7528\u5168\u90E8\u5E94\u5F97\u8D44\u6E90\uFF0C\u5C06\u5269\u4F59\u8D44\u6E90\u91CD\u65B0\u6309\u6743\u91CD\u5206\u914D\u7ED9\u5176\u4ED6\u961F\u5217"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u52A8\u6001\u8C03\u6574"}),"\uFF1A\u5F53\u96C6\u7FA4\u8D44\u6E90\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u91CD\u65B0\u8BA1\u7B97\u6240\u6709\u961F\u5217\u7684 ",(0,d.jsx)(n.code,{children:"deserved"})," \u503C"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0E capacity \u63D2\u4EF6\u7684\u5173\u952E\u533A\u522B"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7279\u6027"}),(0,d.jsx)(n.th,{children:"capacity \u63D2\u4EF6"}),(0,d.jsx)(n.th,{children:"proportion \u63D2\u4EF6"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"deserved"})," \u6765\u6E90"]}),(0,d.jsx)(n.td,{children:"\u961F\u5217\u914D\u7F6E\u4E2D\u7684\u56FA\u5B9A\u503C"}),(0,d.jsxs)(n.td,{children:["\u57FA\u4E8E ",(0,d.jsx)(n.code,{children:"weight"})," \u52A8\u6001\u8BA1\u7B97"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u4E3B\u8981\u914D\u7F6E\u53C2\u6570"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"capability"}),"\u3001",(0,d.jsx)(n.code,{children:"deserved"}),"\u3001",(0,d.jsx)(n.code,{children:"guarantee"})]}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"weight"}),"\u3001",(0,d.jsx)(n.code,{children:"capability"}),"\u3001",(0,d.jsx)(n.code,{children:"guarantee"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u8D44\u6E90\u5206\u914D\u7B56\u7565"}),(0,d.jsx)(n.td,{children:"\u9759\u6001\u9884\u5206\u914D"}),(0,d.jsx)(n.td,{children:"\u52A8\u6001\u6743\u91CD\u5206\u914D"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u914D\u7F6E\u590D\u6742\u5EA6"}),(0,d.jsx)(n.td,{children:"\u8F83\u9AD8\uFF08\u9700\u8981\u7CBE\u786E\u8BBE\u7F6E\u4E09\u4E2A\u8D44\u6E90\u503C\uFF09"}),(0,d.jsxs)(n.td,{children:["\u8F83\u4F4E\uFF08\u4E3B\u8981\u914D\u7F6E ",(0,d.jsx)(n.code,{children:"weight"}),"\uFF09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u9002\u7528\u573A\u666F"}),(0,d.jsx)(n.td,{children:"\u9700\u8981\u7CBE\u786E\u8D44\u6E90\u63A7\u5236\u7684\u73AF\u5883"}),(0,d.jsx)(n.td,{children:"\u9700\u8981\u7075\u6D3B\u8D44\u6E90\u5206\u914D\u7684\u73AF\u5883"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\u8D44\u6E90\u5229\u7528\u7387"}),(0,d.jsx)(n.td,{children:"\u8F83\u4F4E\uFF08\u9884\u7559\u8D44\u6E90\u53EF\u80FD\u95F2\u7F6E\uFF09"}),(0,d.jsx)(n.td,{children:"\u8F83\u9AD8\uFF08\u52A8\u6001\u5206\u914D\u672A\u4F7F\u7528\u8D44\u6E90\uFF09"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u4F18\u5148\u7EA7\u4E0E\u6743\u91CD",children:"\u4F18\u5148\u7EA7\u4E0E\u6743\u91CD"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u961F\u5217\u7CFB\u7EDF\u4E2D\u7684",(0,d.jsx)(n.code,{children:"priority"}),"\uFF08\u4F18\u5148\u7EA7\uFF09\u548C",(0,d.jsx)(n.code,{children:"weight"}),"\uFF08\u6743\u91CD\uFF09\u662F\u4E24\u4E2A\u4E0D\u540C\u7684\u6982\u5FF5\uFF0C\u5B83\u4EEC\u5728\u8D44\u6E90\u5206\u914D\u548C\u62A2\u5360\u673A\u5236\u4E2D\u626E\u6F14\u4E0D\u540C\u7684\u89D2\u8272\uFF1A"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"1. priority\uFF08\u4F18\u5148\u7EA7\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u7684\u4F18\u5148\u7EA7\uFF0C\u7528\u4E8E\u786E\u5B9A\u961F\u5217\u95F4\u8D44\u6E90\u5206\u914D\u548C\u62A2\u5360\u7684\u987A\u5E8F\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4F18\u5148\u7EA7\u662F\u7EDD\u5BF9\u7684\uFF0C\u9AD8\u4F18\u5148\u7EA7\u961F\u5217\u603B\u662F\u6BD4\u4F4E\u4F18\u5148\u7EA7\u961F\u5217\u5148\u83B7\u5F97\u8D44\u6E90"}),"\n",(0,d.jsxs)(n.li,{children:["\u5728\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u9AD8\u4F18\u5148\u7EA7\u961F\u5217\u53EF\u4EE5\u62A2\u5360\uFF08",(0,d.jsx)(n.code,{children:"reclaim"}),"\uFF09\u4F4E\u4F18\u5148\u7EA7\u961F\u5217\u7684\u8D44\u6E90"]}),"\n",(0,d.jsx)(n.li,{children:"\u4F18\u5148\u7EA7\u503C\u8D8A\u5927\uFF0C\u961F\u5217\u4F18\u5148\u7EA7\u8D8A\u9AD8"}),"\n",(0,d.jsx)(n.li,{children:"\u4F18\u5148\u7EA7\u662F\u961F\u5217\u95F4\u8D44\u6E90\u7ADE\u4E89\u7684\u7B2C\u4E00\u51B3\u5B9A\u56E0\u7D20"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F7F\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u533A\u5206\u751F\u4EA7\u73AF\u5883\u548C\u5F00\u53D1\u73AF\u5883\u961F\u5217"}),"\n",(0,d.jsx)(n.li,{children:"\u786E\u4FDD\u5173\u952E\u4E1A\u52A1\u961F\u5217\u4F18\u5148\u83B7\u5F97\u8D44\u6E90"}),"\n",(0,d.jsx)(n.li,{children:"\u5B9E\u73B0\u591A\u79DF\u6237\u73AF\u5883\u4E2D\u7684\u8D44\u6E90\u4F18\u5148\u7EA7\u7B56\u7565"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F18\u5148\u7EA7\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u7684\u4F18\u5148\u7EA7\u4E3A",(0,d.jsx)(n.code,{children:"100"}),"\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u7684\u4F18\u5148\u7EA7\u4E3A",(0,d.jsx)(n.code,{children:"50"}),"\uFF0C\u5F53\u6709\u5F88\u591A\u4EFB\u52A1\u5904\u4E8E",(0,d.jsx)(n.code,{children:"Pending"}),"\u72B6\u6001\u65F6\uFF0C\u90A3\u4E48\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u7684\u4EFB\u52A1\u4F1A\u4F18\u5148\u83B7\u5F97\u8C03\u5EA6\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"2. weight\uFF08\u6743\u91CD\uFF09"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5B9A\u4E49"}),"\uFF1A\u961F\u5217\u7684\u6743\u91CD\uFF0C\u7528\u4E8E\u5728\u4F18\u5148\u7EA7\u76F8\u540C\u7684\u961F\u5217\u4E4B\u95F4\u6309\u6BD4\u4F8B\u5206\u914D\u8D44\u6E90\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70B9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u662F\u76F8\u5BF9\u7684\uFF0C\u53EA\u5728\u4F18\u5148\u7EA7\u76F8\u540C\u7684\u961F\u5217\u4E4B\u95F4\u8D77\u4F5C\u7528"}),"\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u51B3\u5B9A\u4E86\u961F\u5217\u83B7\u5F97\u8D44\u6E90\u7684\u6BD4\u4F8B\uFF0C\u800C\u4E0D\u662F\u7EDD\u5BF9\u4F18\u5148\u987A\u5E8F"}),"\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u503C\u8D8A\u5927\uFF0C\u5728\u540C\u4F18\u5148\u7EA7\u961F\u5217\u4E2D\u83B7\u5F97\u7684\u8D44\u6E90\u6BD4\u4F8B\u8D8A\u9AD8"}),"\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u662F\u961F\u5217\u95F4\u8D44\u6E90\u7ADE\u4E89\u7684\u7B2C\u4E8C\u51B3\u5B9A\u56E0\u7D20\uFF08\u4F18\u5148\u7EA7\u76F8\u540C\u65F6\u624D\u8003\u8651\u6743\u91CD\uFF09"}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F7F\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5728\u540C\u4E00\u90E8\u95E8\u7684\u591A\u4E2A\u9879\u76EE\u961F\u5217\u4E4B\u95F4\u5206\u914D\u8D44\u6E90"}),"\n",(0,d.jsx)(n.li,{children:"\u5B9E\u73B0\u8D44\u6E90\u7684\u6309\u6BD4\u4F8B\u5206\u914D\u7B56\u7565"}),"\n",(0,d.jsx)(n.li,{children:"\u5728\u975E\u62A2\u5360\u573A\u666F\u4E0B\u5FAE\u8C03\u8D44\u6E90\u5206\u914D"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsxs)(n.strong,{children:["\u5728\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"proportion"})," \u63D2\u4EF6\u65F6"]}),"\uFF1A",(0,d.jsx)(n.code,{children:"weight"})," \u6210\u4E3A\u52A8\u6001\u8BA1\u7B97 ",(0,d.jsx)(n.code,{children:"deserved"})," \u8D44\u6E90\u7684\u6838\u5FC3\u53C2\u6570"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E24\u8005\u5173\u7CFB"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u51B3\u7B56\u987A\u5E8F"}),"\uFF1A\u8C03\u5EA6\u5668\u9996\u5148\u6839\u636E\u4F18\u5148\u7EA7\uFF08",(0,d.jsx)(n.code,{children:"priority"}),"\uFF09\u6392\u5E8F\u961F\u5217\uFF0C\u7136\u540E\u624D\u8003\u8651\u6743\u91CD\uFF08",(0,d.jsx)(n.code,{children:"weight"}),"\uFF09"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u5206\u914D"}),"\uFF1A","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4E0D\u540C\u4F18\u5148\u7EA7\uFF1A\u9AD8\u4F18\u5148\u7EA7\u961F\u5217\u53EF\u4EE5\u62A2\u5360\u4F4E\u4F18\u5148\u7EA7\u961F\u5217\u7684\u8D44\u6E90"}),"\n",(0,d.jsx)(n.li,{children:"\u76F8\u540C\u4F18\u5148\u7EA7\uFF1A\u6839\u636E\u6743\u91CD\u6309\u6BD4\u4F8B\u5206\u914D\u8D44\u6E90"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6743\u91CD\u793A\u4F8B"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u7684\u4F18\u5148\u7EA7\u4E3A",(0,d.jsx)(n.code,{children:"100"}),"\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u7684\u4F18\u5148\u7EA7\u4E3A",(0,d.jsx)(n.code,{children:"50"}),"\uFF0C\u90A3\u4E48\u5373\u4F7F\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u7684\u6743\u91CD\u8FDC\u9AD8\u4E8E\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u4ECD\u7136\u4F1A\u4F18\u5148\u83B7\u5F97\u8D44\u6E90\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u961F\u5217",(0,d.jsx)(n.code,{children:"C"}),"\u548C\u961F\u5217",(0,d.jsx)(n.code,{children:"D"}),"\u7684\u4F18\u5148\u7EA7\u90FD\u662F",(0,d.jsx)(n.code,{children:"100"}),"\uFF0C\u6743\u91CD\u5206\u522B\u662F",(0,d.jsx)(n.code,{children:"2"}),"\u548C",(0,d.jsx)(n.code,{children:"1"}),"\uFF0C\u90A3\u4E48\u5728\u8D44\u6E90\u5206\u914D\u65F6\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"C"}),"\u4F1A\u83B7\u5F97\u7EA6",(0,d.jsx)(n.code,{children:"2/3"}),"\u7684\u8D44\u6E90\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"D"}),"\u83B7\u5F97\u7EA6",(0,d.jsx)(n.code,{children:"1/3"}),"\u7684\u8D44\u6E90\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u548C\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u7684\u4F18\u5148\u7EA7\u90FD\u4E3A",(0,d.jsx)(n.code,{children:"100"}),"\u65F6\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"A"}),"\u7684\u6743\u91CD\u4E3A",(0,d.jsx)(n.code,{children:"1"}),"\uFF0C\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u7684\u6743\u91CD\u4E3A",(0,d.jsx)(n.code,{children:"2"}),"\uFF0C\u5F53\u6709\u5F88\u591A\u4EFB\u52A1\u5904\u4E8E",(0,d.jsx)(n.code,{children:"Pending"}),"\u72B6\u6001\u65F6\uFF0C\u90A3\u4E48\u961F\u5217",(0,d.jsx)(n.code,{children:"B"}),"\u4F1A\u4F18\u5148\u83B7\u5F97\u8C03\u5EA6\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u961F\u5217\u72B6\u6001",children:"\u961F\u5217\u72B6\u6001"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Queue"}),"\u6709\u56DB\u79CD\u72B6\u6001\uFF0C\u7528\u4E8E\u63A7\u5236\u961F\u5217\u7684\u884C\u4E3A\u548C\u4F5C\u4E1A\u8C03\u5EA6\u3002\u8FD9\u4E9B\u72B6\u6001\u5728\u96C6\u7FA4\u7EF4\u62A4\u548C\u8D44\u6E90\u7BA1\u7406\u4E2D\u975E\u5E38\u91CD\u8981\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u72B6\u6001\u72B6\u6001\u7C7B\u578B",children:"\u72B6\u6001\u72B6\u6001\u7C7B\u578B"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Open\uFF08\u5F00\u653E\uFF09"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u5904\u4E8E\u6B63\u5E38\u5DE5\u4F5C\u72B6\u6001"}),"\n",(0,d.jsx)(n.li,{children:"\u53EF\u4EE5\u63A5\u53D7\u65B0\u7684\u4F5C\u4E1A\u63D0\u4EA4"}),"\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u4E2D\u7684\u4F5C\u4E1A\u53EF\u4EE5\u88AB\u6B63\u5E38\u8C03\u5EA6\u6267\u884C"}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u662F\u961F\u5217\u7684\u9ED8\u8BA4\u72B6\u6001"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Closing\uFF08\u5173\u95ED\u4E2D\uFF09"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u6B63\u5728\u5173\u95ED\u7684\u8FC7\u6E21\u72B6\u6001"}),"\n",(0,d.jsx)(n.li,{children:"\u4E0D\u518D\u63A5\u53D7\u65B0\u7684\u4F5C\u4E1A\u63D0\u4EA4"}),"\n",(0,d.jsx)(n.li,{children:"\u5DF2\u6709\u4F5C\u4E1A\u4ECD\u7136\u53EF\u4EE5\u7EE7\u7EED\u8FD0\u884C"}),"\n",(0,d.jsx)(n.li,{children:"\u5F53\u961F\u5217\u4E2D\u6240\u6709\u4F5C\u4E1A\u90FD\u5B8C\u6210\u540E\uFF0C\u961F\u5217\u4F1A\u8F6C\u53D8\u4E3AClosed\u72B6\u6001"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Closed\uFF08\u5DF2\u5173\u95ED\uFF09"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u5B8C\u5168\u5173\u95ED\u72B6\u6001"}),"\n",(0,d.jsx)(n.li,{children:"\u4E0D\u63A5\u53D7\u65B0\u7684\u4F5C\u4E1A\u63D0\u4EA4"}),"\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u4E2D\u7684\u4F5C\u4E1A\u4E0D\u4F1A\u88AB\u8C03\u5EA6\uFF08\u5373\u4F7F\u6709\u8DB3\u591F\u7684\u8D44\u6E90\uFF09"}),"\n",(0,d.jsx)(n.li,{children:"\u901A\u5E38\u7528\u4E8E\u7CFB\u7EDF\u7EF4\u62A4\u6216\u8D44\u6E90\u91CD\u65B0\u5206\u914D"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Unknown\uFF08\u672A\u77E5\uFF09"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u72B6\u6001\u4E0D\u660E\u786E"}),"\n",(0,d.jsx)(n.li,{children:"\u901A\u5E38\u662F\u7531\u4E8E\u7CFB\u7EDF\u9519\u8BEF\u6216\u901A\u4FE1\u95EE\u9898\u5BFC\u81F4"}),"\n",(0,d.jsx)(n.li,{children:"\u63A7\u5236\u5668\u4F1A\u5C1D\u8BD5\u5C06\u961F\u5217\u6062\u590D\u5230\u5DF2\u77E5\u72B6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u68C0\u67E5\u961F\u5217\u72B6\u6001",children:"\u68C0\u67E5\u961F\u5217\u72B6\u6001"}),"\n",(0,d.jsx)(n.p,{children:"\u8981\u68C0\u67E5\u961F\u5217\u7684\u5F53\u524D\u72B6\u6001\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u67E5\u770B\u5355\u4E2A\u961F\u5217\u72B6\u6001\nkubectl get queue <\u961F\u5217\u540D\u79F0> -o jsonpath='{.status.state}'\n\n# \u67E5\u770B\u6240\u6709\u961F\u5217\u72B6\u6001\nkubectl get queue -o custom-columns=NAME:.metadata.name,STATE:.status.state\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u72B6\u6001\u63A7\u5236",children:"\u72B6\u6001\u63A7\u5236"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u4F7F\u7528\u547D\u4EE4\uFF08Command\uFF09\u673A\u5236\u6765\u63A7\u5236\u961F\u5217\u7684\u72B6\u6001\uFF0C\u800C\u4E0D\u662F\u901A\u8FC7\u76F4\u63A5\u4FEE\u6539",(0,d.jsx)(n.code,{children:"Queue"}),"\u5BF9\u8C61\u7684\u5B57\u6BB5\u3002\u4EE5\u4E0B\u662F\u63A7\u5236\u961F\u5217\u72B6\u6001\u7684\u65B9\u6CD5\uFF1A"]}),"\n",(0,d.jsxs)(n.h5,{id:"\u65B9\u5F0F\u4E00\u4F7F\u7528kubectl-vc\u547D\u4EE4\u884C\u5DE5\u5177\u63A8\u8350",children:["\u65B9\u5F0F\u4E00\uFF1A\u4F7F\u7528",(0,d.jsx)(n.code,{children:"kubectl vc"}),"\u547D\u4EE4\u884C\u5DE5\u5177\uFF08\u63A8\u8350\uFF09"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u63D0\u4F9B\u4E86\u4E13\u95E8\u7684\u547D\u4EE4\u884C\u5DE5\u5177\u6765\u64CD\u4F5C\u961F\u5217\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u5173\u95ED\u961F\u5217\nkubectl vc queue operate --action close --name <\u961F\u5217\u540D\u79F0>\n\n# \u5F00\u542F\u961F\u5217\nkubectl vc queue operate --action open --name <\u961F\u5217\u540D\u79F0>\n"})}),"\n",(0,d.jsxs)(n.h5,{id:"\u65B9\u5F0F\u4E8C\u521B\u5EFAcommand\u8D44\u6E90",children:["\u65B9\u5F0F\u4E8C\uFF1A\u521B\u5EFA",(0,d.jsx)(n.code,{children:"Command"}),"\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5982\u679C\u9700\u8981\u4EE5\u7F16\u7A0B\u65B9\u5F0F\u6216\u5728\u81EA\u52A8\u5316\u811A\u672C\u4E2D\u63A7\u5236\u961F\u5217\u72B6\u6001\uFF0C\u53EF\u4EE5\u521B\u5EFA",(0,d.jsx)(n.code,{children:"Command"}),"\u8D44\u6E90\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: bus.volcano.sh/v1alpha1\nkind: Command\nmetadata:\n  generateName: queue-name-close-  # \u4F1A\u81EA\u52A8\u751F\u6210\u552F\u4E00\u540D\u79F0\n  namespace: default\n  ownerReferences:\n  - apiVersion: scheduling.volcano.sh/v1beta1\n    kind: Queue\n    name: <\u961F\u5217\u540D\u79F0>\n    uid: <\u961F\u5217UID>  # \u9700\u8981\u83B7\u53D6\u961F\u5217\u7684\u5B9E\u9645UID\ntargetObject:\n  apiVersion: scheduling.volcano.sh/v1beta1\n  kind: Queue\n  name: <\u961F\u5217\u540D\u79F0>\n  uid: <\u961F\u5217UID>\naction: CloseQueue  # \u6216 OpenQueue\n"})}),"\n",(0,d.jsx)(n.h5,{id:"\u65B9\u5F0F\u4E09\u4F7F\u7528volcano-api\u5BA2\u6237\u7AEF",children:"\u65B9\u5F0F\u4E09\uFF1A\u4F7F\u7528Volcano API\u5BA2\u6237\u7AEF"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728",(0,d.jsx)(n.code,{children:"Go"}),"\u7A0B\u5E8F\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684\u5BA2\u6237\u7AEF\u5E93\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'import (\n    "context"\n    "fmt"\n    \n    metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"\n    "volcano.sh/apis/pkg/apis/bus/v1alpha1"\n    "volcano.sh/apis/pkg/client/clientset/versioned"\n)\n\nfunc closeQueue(client *versioned.Clientset, queueName string) error {\n    // \u83B7\u53D6\u961F\u5217\u4FE1\u606F\n    queue, err := client.SchedulingV1beta1().Queues().Get(context.TODO(), queueName, metav1.GetOptions{})\n    if err != nil {\n        return err\n    }\n    \n    // \u521B\u5EFA\u63A7\u5236\u5668\u5F15\u7528\n    ctrlRef := metav1.NewControllerRef(queue, v1beta1.SchemeGroupVersion.WithKind("Queue"))\n    \n    // \u521B\u5EFA\u547D\u4EE4\n    cmd := &v1alpha1.Command{\n        ObjectMeta: metav1.ObjectMeta{\n            GenerateName: fmt.Sprintf("%s-close-", queue.Name),\n            OwnerReferences: []metav1.OwnerReference{*ctrlRef},\n        },\n        TargetObject: ctrlRef,\n        Action:       string(v1alpha1.CloseQueueAction),\n    }\n    \n    // \u63D0\u4EA4\u547D\u4EE4\n    _, err = client.BusV1alpha1().Commands(queue.Namespace).Create(context.TODO(), cmd, metav1.CreateOptions{})\n    return err\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u8D44\u6E90\u62A2\u5360\u673A\u5236",children:"\u8D44\u6E90\u62A2\u5360\u673A\u5236"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E2D\uFF0C\u8D44\u6E90\u62A2\u5360\u6709\u4E24\u79CD\u4E3B\u8981\u5B9E\u73B0\u65B9\u5F0F\uFF1A\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"Queue"}),"\u5C5E\u6027\u7684\u62A2\u5360\u548C\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u7684\u62A2\u5360\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u6CE8\u610F\u4E8B\u9879\uFF1A"})}),"\n",(0,d.jsxs)(n.p,{children:["\u8981\u4F7F",(0,d.jsx)(n.code,{children:"queue"}),"\u7684",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u914D\u7F6E\u771F\u6B63\u751F\u6548\uFF0C\u5FC5\u987B\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u914D\u7F6E\u4E2D\u540C\u65F6\u542F\u7528",(0,d.jsx)(n.code,{children:"preempt"}),"\u52A8\u4F5C\uFF08",(0,d.jsx)(n.code,{children:"action"}),"\uFF09\u548C",(0,d.jsx)(n.code,{children:"reclaim"}),"\u52A8\u4F5C\uFF08",(0,d.jsx)(n.code,{children:"action"}),"\uFF09\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u5668\u914D\u7F6E\u793A\u4F8B\uFF1A"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'actions: "enqueue, allocate, preempt, reclaim, backfill"\n# \u5176\u4ED6\u914D\u7F6E...\n'})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"actions"}),"\u5B57\u6BB5\u4E2D\u5FC5\u987B\u5305\u542B",(0,d.jsx)(n.code,{children:"reclaim"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"tiers"}),"\u7ED3\u6784\u4E2D\u7684\u67D0\u4E2A\u63D2\u4EF6\u5C42\u7EA7\u4E2D\u5FC5\u987B\u5305\u542B",(0,d.jsx)(n.code,{children:"name: reclaim"}),"\u7684\u63D2\u4EF6\u914D\u7F6E"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5982\u679C\u672A\u542F\u7528",(0,d.jsx)(n.code,{children:"preempt"}),"\u6216",(0,d.jsx)(n.code,{children:"reclaim"})," ",(0,d.jsx)(n.code,{children:"action"}),"\uFF0C\u5373\u4F7F\u914D\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"reclaimable: true"}),"\uFF0C\u4E5F\u4E0D\u4F1A\u6709\u5B9E\u9645\u6548\u679C\u3002"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"reclaim action"}),"\u8D1F\u8D23\u8BC6\u522B\u53EF\u56DE\u6536\u7684\u8D44\u6E90\u5E76\u6267\u884C\u56DE\u6536\u64CD\u4F5C\uFF0C\u4F46\u5B83\u4F9D\u8D56\u4E8E",(0,d.jsx)(n.code,{children:"preempt"}),"\u63D2\u4EF6\u63D0\u4F9B\u7684\u62A2\u5360\u673A\u5236\u6765\u5B9E\u9645\u7EC8\u6B62\uFF08",(0,d.jsx)(n.code,{children:"kill"}),"\uFF09\u4F4E\u4F18\u5148\u7EA7\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684\u5B9E\u73B0\u4E2D\uFF0C",(0,d.jsx)(n.code,{children:"reclaim action"}),"\u4F1A\u8C03\u7528",(0,d.jsx)(n.code,{children:"preempt"}),"\u63D2\u4EF6\u6CE8\u518C\u7684\u56DE\u8C03\u51FD\u6570\u6765\u5224\u65AD\u54EA\u4E9B\u4EFB\u52A1\u53EF\u4EE5\u88AB\u56DE\u6536\uFF0C\u5982\u679C\u6CA1\u6709\u542F\u7528",(0,d.jsx)(n.code,{children:"preempt action"}),"\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u5C31\u65E0\u6CD5\u5B8C\u6210\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8D44\u6E90\u56DE\u6536\u7684\u5B8C\u6574\u6D41\u7A0B\u9700\u8981\u4E24\u4E2A",(0,d.jsx)(n.code,{children:"action"}),"\u534F\u540C\u5DE5\u4F5C\uFF1A"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"reclaim action"}),"\u8D1F\u8D23\u8BC6\u522B\u8D44\u6E90\u7D27\u5F20\u7684\u60C5\u51B5\u5E76\u89E6\u53D1\u56DE\u6536\u6D41\u7A0B"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"preempt action"}),"\u8D1F\u8D23\u5B9E\u9645\u6267\u884C\u62A2\u5360\u64CD\u4F5C\uFF0C\u5305\u62EC\u7EC8\u6B62\u4F4E\u4F18\u5148\u7EA7\u4EFB\u52A1"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"1. \u57FA\u4E8E Queue \u5C5E\u6027\u7684\u62A2\u5360"})}),"\n",(0,d.jsxs)(n.p,{children:["\u8FD9\u79CD\u62A2\u5360\u673A\u5236\u4E3B\u8981\u57FA\u4E8E\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"weight"}),"\u548C",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u5C5E\u6027\u7EC4\u5408\u5B9E\u73B0\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5F53\u96C6\u7FA4\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"Volcano"}),"\u53EF\u80FD\u4F1A\u4ECE\u4F4E",(0,d.jsx)(n.code,{children:"weight"}),"\u961F\u5217\u4E2D\u56DE\u6536\u8D44\u6E90\uFF0C\u4EE5\u6EE1\u8DB3\u9AD8",(0,d.jsx)(n.code,{children:"weight"}),"\u961F\u5217\u7684\u9700\u6C42"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8FD9\u79CD\u56DE\u6536\u53EF\u80FD\u5305\u62EC\u7EC8\u6B62\u4F4E",(0,d.jsx)(n.code,{children:"weight"}),"\u961F\u5217\u4E2D\u7684\u4EFB\u52A1"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u8BBE\u7F6E\u4E3A",(0,d.jsx)(n.code,{children:"true"}),"\u65F6\uFF0C\u8BE5\u961F\u5217\u7684\u8D44\u6E90\u53EF\u88AB\u56DE\u6536\u6216\u62A2\u5360"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u53D1\u751F\u961F\u5217\u7EA7\u522B\u7684\u8D44\u6E90\u62A2\u5360\u65F6\uFF0C\u88AB\u56DE\u6536\u961F\u5217\u4E2D\u7684\u90E8\u5206\u4EFB\u52A1\uFF08",(0,d.jsx)(n.code,{children:"Pod"}),"\uFF09\u4F1A\u88AB\u8C03\u5EA6\u5668\u76F4\u63A5\u7EC8\u6B62\uFF08",(0,d.jsx)(n.code,{children:"kill"}),"\uFF09\uFF0C\u4EE5\u91CA\u653E\u8D44\u6E90\u7ED9\u9AD8\u4F18\u5148\u7EA7\u961F\u5217\u4F7F\u7528\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u62A2\u5360\u6761\u4EF6"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u88AB\u62A2\u5360\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u5C5E\u6027\u5FC5\u987B\u8BBE\u7F6E\u4E3A",(0,d.jsx)(n.code,{children:"true"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u62A2\u5360\u901A\u5E38\u53EA\u53D1\u751F\u5728\u8D44\u6E90\u6781\u5EA6\u7D27\u5F20\u4E14\u65E0\u6CD5\u6EE1\u8DB3\u9AD8",(0,d.jsx)(n.code,{children:"weight"}),"\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90\u9700\u6C42\u65F6"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"2. \u57FA\u4E8E PriorityClass \u7684\u62A2\u5360"})}),"\n",(0,d.jsxs)(n.p,{children:["\u867D\u7136",(0,d.jsx)(n.code,{children:"Queue"}),"\u5BF9\u8C61\u672C\u8EAB\u6CA1\u6709",(0,d.jsx)(n.code,{children:"priorityClassName"}),"\u5C5E\u6027\uFF0C\u4F46",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E0E",(0,d.jsx)(n.code,{children:"Kubernetes"}),"\u7684",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u673A\u5236\u96C6\u6210\uFF0C\u5728",(0,d.jsx)(n.code,{children:"PodGroup"}),"\uFF08\u4F5C\u4E1A\u7EC4\uFF09\u7EA7\u522B\u652F\u6301\u57FA\u4E8E\u4F18\u5148\u7EA7\u7684\u62A2\u5360\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u6CE8\u610F\u4E8B\u9879\uFF1A"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u8981\u4F7F",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u7684\u5F3A\u5360\u751F\u6548\uFF0C\u5FC5\u987B\u8981",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u542F\u7528",(0,d.jsx)(n.code,{children:"preempt"}),"\u52A8\u4F5C\uFF08",(0,d.jsx)(n.code,{children:"action"}),"\uFF09\uFF0C\u56E0\u4E3A",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u662F",(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684\u81EA\u5B9A\u4E49\u8D44\u6E90\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u662F\u5176\u4ED6",(0,d.jsx)(n.code,{children:"Kubernetes"}),"\u539F\u751F\u8D44\u6E90\u5982",(0,d.jsx)(n.code,{children:"Pod"}),"\uFF0C\u5219\u4E0D\u9700\u8981",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\uFF0C",(0,d.jsx)(n.code,{children:"Kubernetes"}),"\u539F\u751F\u80FD\u529B\u5DF2\u652F\u6301\u3002\u5F53\u9AD8\u4F18\u5148\u7EA7",(0,d.jsx)(n.code,{children:"Pod"}),"\u65E0\u6CD5\u8C03\u5EA6\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"kube-scheduler"}),"\u4F1A\u5C1D\u8BD5\u62A2\u5360\u4F4E\u4F18\u5148\u7EA7",(0,d.jsx)(n.code,{children:"Pod"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5DE5\u4F5C\u539F\u7406"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PodGroup"}),"\u53EF\u4EE5\u8BBE\u7F6E",(0,d.jsx)(n.code,{children:"priorityClassName"}),"\u5C5E\u6027\uFF0C\u5173\u8054\u5230",(0,d.jsx)(n.code,{children:"Kubernetes"}),"\u7684",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:["\u6BCF\u4E2A",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u5BF9\u5E94\u4E00\u4E2A\u6574\u6570\u503C\uFF0C\u8868\u793A\u4F18\u5148\u7EA7"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5F53\u96C6\u7FA4\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u9AD8\u4F18\u5148\u7EA7\u7684",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u53EF\u4EE5\u62A2\u5360\u4F4E\u4F18\u5148\u7EA7\u7684",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8FD9\u79CD\u62A2\u5360\u662F\u901A\u8FC7\u7EC8\u6B62\uFF08",(0,d.jsx)(n.code,{children:"kill"}),"\uFF09\u4F4E\u4F18\u5148\u7EA7",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u4E2D\u7684",(0,d.jsx)(n.code,{children:"Pod"}),"\u6765\u5B9E\u73B0\u7684"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u793A\u4F8B\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'# \u5728Kubernetes\u4E2D\u5B9A\u4E49PriorityClass\napiVersion: scheduling.k8s.io/v1\nkind: PriorityClass\nmetadata:\n  name: high-priority\nvalue: 1000000\nglobalDefault: false\ndescription: "This priority class should be used for critical production jobs"\n---\n# \u5728PodGroup\u4E2D\u4F7F\u7528PriorityClass\napiVersion: scheduling.volcano.sh/v1beta1\nkind: PodGroup\nmetadata:\n  name: critical-job\nspec:\n  minMember: 3\n  priorityClassName: high-priority  # \u5173\u8054\u5230\u4E0A\u9762\u5B9A\u4E49\u7684PriorityClass\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"3. \u4E24\u79CD\u62A2\u5360\u673A\u5236\u7684\u533A\u522B\u4E0E\u914D\u5408"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F5C\u7528\u8303\u56F4\u4E0D\u540C"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u5C5E\u6027\u62A2\u5360\u662F\u961F\u5217\u7EA7\u522B\u7684\uFF0C\u5F71\u54CD\u6574\u4E2A\u961F\u5217\u7684\u8D44\u6E90\u5206\u914D"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u62A2\u5360\u662F",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u7EA7\u522B\u7684\uFF0C\u53EF\u4EE5\u8DE8\u961F\u5217\u8FDB\u884C\u62A2\u5360"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u51B3\u7B56\u4F9D\u636E\u4E0D\u540C"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u5C5E\u6027\u62A2\u5360\u4E3B\u8981\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"weight"}),"\u548C",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u5C5E\u6027"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u62A2\u5360\u4E3B\u8981\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u7684\u4F18\u5148\u7EA7\u503C"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5E94\u7528\u573A\u666F\u4E0D\u540C"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u5C5E\u6027\u62A2\u5360\u9002\u7528\u4E8E\u8D44\u6E90\u5206\u7EC4\u548C\u591A\u79DF\u6237\u573A\u666F\uFF0C\u5B9E\u73B0\u961F\u5217\u95F4\u7684\u8D44\u6E90\u9694\u79BB"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u62A2\u5360\u9002\u7528\u4E8E\u540C\u4E00\u961F\u5217\u5185\u6216\u8DE8\u961F\u5217\u7684\u4F5C\u4E1A\u4F18\u5148\u7EA7\u7BA1\u7406"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u914D\u5408\u4F7F\u7528"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5728\u5B9E\u9645\u4F7F\u7528\u4E2D\uFF0C\u8FD9\u4E24\u79CD\u673A\u5236\u53EF\u4EE5\u914D\u5408\u4F7F\u7528"}),"\n",(0,d.jsxs)(n.li,{children:["\u9996\u5148\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"Queue"}),"\u5C5E\u6027\u8FDB\u884C\u961F\u5217\u7EA7\u522B\u7684\u8D44\u6E90\u5206\u914D"]}),"\n",(0,d.jsxs)(n.li,{children:["\u7136\u540E\u57FA\u4E8E",(0,d.jsx)(n.code,{children:"PriorityClass"}),"\u5728\u961F\u5217\u5185\u90E8\u6216\u8DE8\u961F\u5217\u8FDB\u884C\u7EC6\u7C92\u5EA6\u7684\u4F5C\u4E1A\u4F18\u5148\u7EA7\u7BA1\u7406"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u5C42\u7EA7\u961F\u5217",children:"\u5C42\u7EA7\u961F\u5217"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E2D\uFF0C\u5C42\u7EA7\u961F\u5217\u7ED3\u6784\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u8D44\u6E90\u7BA1\u7406\u65B9\u5F0F\uFF0C\u5141\u8BB8\u5C06\u961F\u5217\u7EC4\u7EC7\u6210\u6811\u5F62\u7ED3\u6784\uFF0C\u5B9E\u73B0\u66F4\u7CBE\u7EC6\u7684\u8D44\u6E90\u5206\u914D\u548C\u63A7\u5236\u3002",(0,d.jsx)(n.code,{children:"Volcano"}),"\u652F\u6301\u5C42\u7EA7\u961F\u5217\u7ED3\u6784\uFF0C\u5141\u8BB8\u6839\u636E\u7EC4\u7EC7\u7ED3\u6784\u6216\u4E1A\u52A1\u9700\u6C42\u521B\u5EFA\u591A\u5C42\u6B21\u7684\u961F\u5217\u4F53\u7CFB\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5C42\u7EA7\u961F\u5217\u7684\u914D\u7F6E\u65B9\u5F0F",children:"\u5C42\u7EA7\u961F\u5217\u7684\u914D\u7F6E\u65B9\u5F0F"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E2D\uFF0C\u901A\u8FC7",(0,d.jsx)(n.code,{children:"spec.parent"}),"\u5C5E\u6027\u53EF\u4EE5\u7B80\u5355\u76F4\u63A5\u5730\u914D\u7F6E\u5C42\u7EA7\u961F\u5217\u5173\u7CFB\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: dev-queue\nspec:\n  weight: 2\n  reclaimable: true\n  parent: "root.eng"  # \u6307\u5B9A\u7236\u961F\u5217\uFF0C\u4F7F\u7528\u70B9\u53F7\u5206\u9694\u5C42\u7EA7\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u5C42\u7EA7\u961F\u5217\u7684\u4F7F\u7528\u793A\u4F8B",children:"\u5C42\u7EA7\u961F\u5217\u7684\u4F7F\u7528\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.p,{children:["\u4E0B\u9762\u662F\u4E00\u4E2A\u4F7F\u7528",(0,d.jsx)(n.code,{children:"parent"}),"\u5C5E\u6027\u521B\u5EFA\u4E09\u5C42\u961F\u5217\u7ED3\u6784\u7684\u793A\u4F8B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'# \u6839\u961F\u5217\napiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: root\nspec:\n  weight: 1\n  reclaimable: false\n---\n# \u5DE5\u7A0B\u90E8\u961F\u5217\uFF08\u7B2C\u4E8C\u5C42\uFF09\napiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: eng\nspec:\n  weight: 2\n  reclaimable: false\n  parent: "root"  # \u6307\u5B9A\u7236\u961F\u5217\u4E3Aroot\n---\n# \u5F00\u53D1\u73AF\u5883\u961F\u5217\uFF08\u7B2C\u4E09\u5C42\uFF09\napiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: dev\nspec:\n  weight: 2\n  reclaimable: true\n  parent: "root.eng"  # \u6307\u5B9A\u7236\u961F\u5217\u4E3Aroot.eng\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u5C42\u7EA7\u961F\u5217\u7684\u5DE5\u4F5C\u539F\u7406",children:"\u5C42\u7EA7\u961F\u5217\u7684\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,d.jsx)(n.p,{children:"\u5C42\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u5206\u914D\u9075\u5FAA\u4EE5\u4E0B\u539F\u5219\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u81EA\u4E0A\u800C\u4E0B\u7684\u8D44\u6E90\u5206\u914D"}),"\uFF1A\u96C6\u7FA4\u8D44\u6E90\u9996\u5148\u5206\u914D\u7ED9\u6839\u961F\u5217\uFF0C\u7136\u540E\u6839\u961F\u5217\u5C06\u8D44\u6E90\u5206\u914D\u7ED9\u5B50\u961F\u5217\uFF0C\u4EE5\u6B64\u7C7B\u63A8"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6743\u91CD\u6BD4\u4F8B\u5206\u914D"}),"\uFF1A\u540C\u4E00\u7236\u961F\u5217\u4E0B\u7684\u5B50\u961F\u5217\u6839\u636E\u5176\u6743\u91CD\u6BD4\u4F8B\u5206\u914D\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u9650\u5236"}),"\uFF1A\u5B50\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"deserved"}),"\u8D44\u6E90\u603B\u548C\u4E0D\u80FD\u8D85\u8FC7\u7236\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"deserved"}),"\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u7EE7\u627F"}),"\uFF1A\u5982\u679C\u5B50\u961F\u5217\u6CA1\u6709\u8BBE\u7F6E",(0,d.jsx)(n.code,{children:"capability"}),"\uFF0C\u5B83\u4F1A\u7EE7\u627F\u7236\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"capability"}),"\u503C"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5C42\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u56DE\u6536\u4E0E\u62A2\u5360",children:"\u5C42\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u56DE\u6536\u4E0E\u62A2\u5360"}),"\n",(0,d.jsx)(n.p,{children:"\u5C42\u7EA7\u961F\u5217\u4E2D\u7684\u8D44\u6E90\u56DE\u6536\u9075\u5FAA\u7279\u5B9A\u7684\u89C4\u5219\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u540C\u7EA7\u961F\u5217\u4F18\u5148"}),"\uFF1A\u5F53\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u4F1A\u4F18\u5148\u4ECE\u540C\u7EA7\u7684\u961F\u5217\u4E2D\u56DE\u6536\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5C42\u7EA7\u4F20\u9012"}),"\uFF1A\u5982\u679C\u540C\u7EA7\u961F\u5217\u7684\u8D44\u6E90\u56DE\u6536\u4E0D\u8DB3\uFF0C\u4F1A\u5411\u4E0A\u4F20\u9012\u8D44\u6E90\u9700\u6C42\uFF0C\u7531\u7236\u961F\u5217\u534F\u8C03\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u4FDD\u969C\u673A\u5236"}),"\uFF1A\u5373\u4F7F\u5728\u8D44\u6E90\u7D27\u5F20\u65F6\uFF0C\u4E5F\u4F1A\u4FDD\u8BC1\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"guarantee"}),"\u8D44\u6E90\u4E0D\u88AB\u56DE\u6536"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5C42\u7EA7\u961F\u5217\u7684\u4F18\u52BF",children:"\u5C42\u7EA7\u961F\u5217\u7684\u4F18\u52BF"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7EC4\u7EC7\u7ED3\u6784\u6620\u5C04"}),"\uFF1A\u53EF\u4EE5\u76F4\u63A5\u6620\u5C04\u4F01\u4E1A\u7684\u7EC4\u7EC7\u7ED3\u6784\uFF0C\u5982\u90E8\u95E8/\u56E2\u961F/\u9879\u76EE"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7CBE\u7EC6\u5316\u8D44\u6E90\u7BA1\u7406"}),"\uFF1A\u5B9E\u73B0\u591A\u5C42\u6B21\u7684\u8D44\u6E90\u914D\u989D\u548C\u9650\u5236"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7075\u6D3B\u7684\u8D44\u6E90\u5171\u4EAB"}),"\uFF1A\u540C\u4E00\u7236\u961F\u5217\u4E0B\u7684\u5B50\u961F\u5217\u53EF\u4EE5\u5171\u4EAB\u8D44\u6E90"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7B80\u5316\u7BA1\u7406"}),"\uFF1A\u53EF\u4EE5\u5728\u7236\u961F\u5217\u7EA7\u522B\u8BBE\u7F6E\u7B56\u7565\uFF0C\u81EA\u52A8\u5E94\u7528\u5230\u6240\u6709\u5B50\u961F\u5217"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u961F\u5217\u4EB2\u548C\u6027affinity",children:"\u961F\u5217\u4EB2\u548C\u6027\uFF08affinity\uFF09"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684",(0,d.jsx)(n.code,{children:"Queue"}),"\u5BF9\u8C61\u63D0\u4F9B\u4E86\u5F3A\u5927\u7684\u4EB2\u548C\u6027\u914D\u7F6E\u529F\u80FD\uFF0C\u5141\u8BB8\u7BA1\u7406\u5458\u63A7\u5236\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\u5E94\u8BE5\u8C03\u5EA6\u5230\u54EA\u4E9B\u8282\u70B9\u4E0A\u3002\u8FD9\u4E00\u529F\u80FD\u7279\u522B\u9002\u7528\u4E8E\u9700\u8981\u7279\u5B9A\u786C\u4EF6\u8D44\u6E90\uFF08\u5982",(0,d.jsx)(n.code,{children:"GPU"}),"\u3001\u9AD8\u5185\u5B58\u8282\u70B9\uFF09\u7684\u5DE5\u4F5C\u8D1F\u8F7D\u3002"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A",(0,d.jsx)(n.code,{children:"Queue"}),"\u7684",(0,d.jsx)(n.code,{children:"affinity"}),"\u914D\u7F6E",(0,d.jsx)(n.strong,{children:"\u5FC5\u987B"}),"\u542F\u7528",(0,d.jsx)(n.code,{children:"nodegroup"}),"\u63D2\u4EF6\u624D\u80FD\u751F\u6548\u3002\u8BE5\u63D2\u4EF6\u8D1F\u8D23\u89E3\u6790\u961F\u5217\u7684\u4EB2\u548C\u6027\u914D\u7F6E\u5E76\u5728\u8C03\u5EA6\u8FC7\u7A0B\u4E2D\u5E94\u7528\u8FD9\u4E9B\u89C4\u5219\u3002\u5982\u679C\u672A\u542F\u7528",(0,d.jsx)(n.code,{children:"nodegroup"}),"\u63D2\u4EF6\uFF0C\u5373\u4F7F\u5728",(0,d.jsx)(n.code,{children:"Queue"}),"\u5BF9\u8C61\u4E2D\u914D\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"affinity"}),"\uFF0C\u8FD9\u4E9B\u914D\u7F6E\u4E5F\u4E0D\u4F1A\u5F71\u54CD\u8C03\u5EA6\u51B3\u7B56\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u8282\u70B9\u7EC4\u4ECB\u7ECD",children:"\u8282\u70B9\u7EC4\u4ECB\u7ECD"}),"\n",(0,d.jsxs)(n.p,{children:["\u8282\u70B9\u7EC4\u662F",(0,d.jsx)(n.code,{children:"Volcano"}),"\u4E2D\u7684\u4E00\u4E2A\u903B\u8F91\u6982\u5FF5\uFF0C\u7528\u4E8E\u5C06\u5177\u6709\u76F8\u4F3C\u7279\u6027\u6216\u7528\u9014\u7684\u8282\u70B9\u5F52\u7C7B\u7BA1\u7406\u3002\u8282\u70B9\u7EC4\u901A\u8FC7\u8282\u70B9\u6807\u7B7E ",(0,d.jsx)(n.code,{children:"volcano.sh/nodegroup-name"})," \u6765\u5B9A\u4E49\u3002"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u6838\u5FC3\u539F\u7406\uFF1A"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6807\u7B7E\u9A71\u52A8\u5206\u7EC4"}),"\uFF1A",(0,d.jsx)(n.code,{children:"Volcano"}),"\u901A\u8FC7\u8BFB\u53D6\u8282\u70B9\u4E0A\u7684 ",(0,d.jsx)(n.code,{children:"volcano.sh/nodegroup-name"})," \u6807\u7B7E\u503C\u6765\u8BC6\u522B\u8282\u70B9\u6240\u5C5E\u7684\u7EC4"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u65F6\u5339\u914D"}),"\uFF1A\u5F53\u8C03\u5EA6\u5668\u5904\u7406\u5E26\u6709 ",(0,d.jsx)(n.code,{children:"nodeGroupAffinity"})," \u7684\u961F\u5217\u65F6\uFF0C\u4F1A\u6839\u636E\u8282\u70B9\u7EC4\u540D\u79F0\u8FDB\u884C\u5339\u914D\u8FC7\u6EE4"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u52A8\u6001\u7BA1\u7406"}),"\uFF1A\u8282\u70B9\u7EC4\u662F\u52A8\u6001\u7684\uFF0C\u53EF\u4EE5\u968F\u65F6\u901A\u8FC7\u4FEE\u6539\u8282\u70B9\u6807\u7B7E\u6765\u8C03\u6574\u8282\u70B9\u7684\u5206\u7EC4\u5F52\u5C5E"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8282\u70B9\u6807\u7B7E\u5B9A\u4E49\u793A\u4F8B\uFF1A"})}),"\n",(0,d.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F\u4E0D\u540C\u7C7B\u578B\u8282\u70B9\u7684\u6807\u7B7E\u914D\u7F6E\u793A\u4F8B\uFF0C\u5C55\u793A\u4E86\u5982\u4F55\u901A\u8FC7\u6807\u7B7E\u5C06\u8282\u70B9\u5206\u914D\u5230\u4E0D\u540C\u7684\u8282\u70B9\u7EC4\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'# GPU \u8BA1\u7B97\u8282\u70B9 - \u5C5E\u4E8E gpu-nodes \u8282\u70B9\u7EC4\napiVersion: v1\nkind: Node\nmetadata:\n  name: gpu-node-1\n  labels:\n    volcano.sh/nodegroup-name: gpu-nodes    # \u5173\u952E\u6807\u7B7E\uFF1A\u5B9A\u4E49\u8282\u70B9\u7EC4\n    nvidia.com/gpu.present: "true"\n    nvidia.com/gpu.count: "8"\n    # \u5176\u4ED6\u6807\u7B7E...\nspec:\n  # ... \u8282\u70B9\u89C4\u683C\u914D\u7F6E\n---\n# NPU \u8BA1\u7B97\u8282\u70B9 - \u5C5E\u4E8E npu-nodes \u8282\u70B9\u7EC4\uFF08\u7528\u4E8E\u53CD\u4EB2\u548C\u6027\u6392\u9664\uFF09\napiVersion: v1\nkind: Node\nmetadata:\n  name: npu-node-1\n  labels:\n    volcano.sh/nodegroup-name: npu-nodes    # \u5173\u952E\u6807\u7B7E\uFF1A\u5B9A\u4E49\u8282\u70B9\u7EC4\n    # \u5176\u4ED6\u6807\u7B7E...\nspec:\n  # ... \u8282\u70B9\u89C4\u683C\u914D\u7F6E\n---\n# \u6D4B\u8BD5\u8282\u70B9 - \u5C5E\u4E8E test-nodes \u8282\u70B9\u7EC4\uFF08\u7528\u4E8E\u53CD\u4EB2\u548C\u6027\u6392\u9664\uFF09\napiVersion: v1\nkind: Node\nmetadata:\n  name: test-node-1\n  labels:\n    volcano.sh/nodegroup-name: test-nodes    # \u5173\u952E\u6807\u7B7E\uFF1A\u5B9A\u4E49\u8282\u70B9\u7EC4\n    # \u5176\u4ED6\u6807\u7B7E...\nspec:\n  # ... \u8282\u70B9\u89C4\u683C\u914D\u7F6E\n'})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u5DE5\u4F5C\u6D41\u7A0B\uFF1A"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8282\u70B9\u6CE8\u518C"}),"\uFF1A\u8282\u70B9\u542F\u52A8\u65F6\uFF0C\u901A\u8FC7\u6807\u7B7E ",(0,d.jsx)(n.code,{children:"volcano.sh/nodegroup-name"})," \u58F0\u660E\u81EA\u5DF1\u5C5E\u4E8E\u54EA\u4E2A\u8282\u70B9\u7EC4"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u961F\u5217\u914D\u7F6E"}),"\uFF1A\u7BA1\u7406\u5458\u5728",(0,d.jsx)(n.code,{children:"Queue"}),"\u4E2D\u914D\u7F6E",(0,d.jsx)(n.code,{children:"nodeGroupAffinity"}),"\uFF0C\u6307\u5B9A\u5141\u8BB8\u6216\u7981\u6B62\u7684\u8282\u70B9\u7EC4"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u51B3\u7B56"}),"\uFF1A\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u9700\u8981\u8C03\u5EA6\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u4F1A\uFF1A","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u8BFB\u53D6",(0,d.jsx)(n.code,{children:"Pod"}),"\u6240\u5C5E\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"nodeGroupAffinity"}),"\u914D\u7F6E"]}),"\n",(0,d.jsxs)(n.li,{children:["\u904D\u5386\u5019\u9009\u8282\u70B9\uFF0C\u68C0\u67E5\u6BCF\u4E2A\u8282\u70B9\u7684 ",(0,d.jsx)(n.code,{children:"volcano.sh/nodegroup-name"})," \u6807\u7B7E"]}),"\n",(0,d.jsx)(n.li,{children:"\u6839\u636E\u4EB2\u548C\u6027\u89C4\u5219\u8FC7\u6EE4\u8282\u70B9\uFF0C\u53EA\u4FDD\u7559\u7B26\u5408\u8981\u6C42\u7684\u8282\u70B9"}),"\n",(0,d.jsx)(n.li,{children:"\u5728\u7B26\u5408\u6761\u4EF6\u7684\u8282\u70B9\u4E2D\u8FDB\u884C\u6700\u7EC8\u8C03\u5EA6\u9009\u62E9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u4E0E nodeAffinity \u7684\u533A\u522B\uFF1A"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7279\u6027"}),(0,d.jsx)(n.th,{children:"nodeGroupAffinity"}),(0,d.jsx)(n.th,{children:"nodeAffinity"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u62BD\u8C61\u5C42\u6B21"})}),(0,d.jsx)(n.td,{children:"\u8282\u70B9\u7EC4\u7EA7\u522B\uFF0C\u57FA\u4E8E\u903B\u8F91\u5206\u7EC4"}),(0,d.jsx)(n.td,{children:"\u8282\u70B9\u7EA7\u522B\uFF0C\u57FA\u4E8E\u5177\u4F53\u6807\u7B7E"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u914D\u7F6E\u590D\u6742\u5EA6"})}),(0,d.jsx)(n.td,{children:"\u7B80\u5355\uFF0C\u76F4\u63A5\u6307\u5B9A\u7EC4\u540D"}),(0,d.jsxs)(n.td,{children:["\u590D\u6742\uFF0C\u9700\u8981",(0,d.jsx)(n.code,{children:"matchExpressions"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u7BA1\u7406\u65B9\u5F0F"})}),(0,d.jsx)(n.td,{children:"\u7EDF\u4E00\u7BA1\u7406\u8282\u70B9\u7EC4\uFF0C\u4FBF\u4E8E\u6279\u91CF\u64CD\u4F5C"}),(0,d.jsx)(n.td,{children:"\u9700\u8981\u7BA1\u7406\u5177\u4F53\u7684\u8282\u70B9\u6807\u7B7E\u89C4\u5219"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u9002\u7528\u573A\u666F"})}),(0,d.jsx)(n.td,{children:"\u5927\u89C4\u6A21\u96C6\u7FA4\u7684\u8282\u70B9\u5206\u7EC4\u7BA1\u7406"}),(0,d.jsx)(n.td,{children:"\u7CBE\u786E\u7684\u8282\u70B9\u9009\u62E9\u63A7\u5236"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u914D\u7F6E\u793A\u4F8B"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'["gpu-nodes", "npu-nodes"]'})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'matchExpressions: [{key: "nvidia.com/gpu.present", operator: In, values: ["true"]}]'})})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"\u8FD9\u79CD\u8BBE\u8BA1\u4F7F\u5F97\u8282\u70B9\u7EC4\u7BA1\u7406\u66F4\u52A0\u7075\u6D3B\u548C\u53EF\u6269\u5C55\uFF0C\u7279\u522B\u9002\u5408\u5927\u89C4\u6A21\u3001\u591A\u79DF\u6237\u7684\u96C6\u7FA4\u73AF\u5883\u3002"}),"\n",(0,d.jsx)(n.h4,{id:"\u4EB2\u548C\u6027\u7C7B\u578B",children:"\u4EB2\u548C\u6027\u7C7B\u578B"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u7684",(0,d.jsx)(n.code,{children:"affinity"}),"\u914D\u7F6E\u652F\u6301\u4E24\u79CD\u4E3B\u8981\u7C7B\u578B\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsxs)(n.strong,{children:["\u8282\u70B9\u7EC4\u4EB2\u548C\u6027\uFF08",(0,d.jsx)(n.code,{children:"nodeGroupAffinity"}),"\uFF09"]}),"\uFF1A\u6307\u5B9A\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\u5E94\u8BE5\u8C03\u5EA6\u5230\u7684\u8282\u70B9\u7EC4"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsxs)(n.strong,{children:["\u8282\u70B9\u7EC4\u53CD\u4EB2\u548C\u6027\uFF08",(0,d.jsx)(n.code,{children:"nodeGroupAntiAffinity"}),"\uFF09"]}),"\uFF1A\u6307\u5B9A\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\u4E0D\u5E94\u8BE5\u8C03\u5EA6\u5230\u7684\u8282\u70B9\u7EC4"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u6BCF\u79CD\u4EB2\u548C\u6027\u7C7B\u578B\u53C8\u5206\u4E3A\u4E24\u4E2A\u7EA7\u522B\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"requiredDuringSchedulingIgnoredDuringExecution"})}),"\uFF1A\u5FC5\u987B\u6EE1\u8DB3\u7684\u4EB2\u548C\u6027\u89C4\u5219\uFF0C\u5982\u679C\u4E0D\u6EE1\u8DB3\uFF0C\u4EFB\u52A1\u5C06\u4E0D\u4F1A\u88AB\u8C03\u5EA6"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"preferredDuringSchedulingIgnoredDuringExecution"})}),"\uFF1A\u4F18\u5148\u6EE1\u8DB3\u7684\u4EB2\u548C\u6027\u89C4\u5219\uFF0C\u5982\u679C\u4E0D\u6EE1\u8DB3\uFF0C\u4EFB\u52A1\u4ECD\u7136\u53EF\u4EE5\u88AB\u8C03\u5EA6\u5230\u5176\u4ED6\u8282\u70B9"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u914D\u7F6E\u793A\u4F8B",children:"\u914D\u7F6E\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.p,{children:["\u4E0B\u9762\u662F\u4E00\u4E2A\u5B8C\u6574\u7684",(0,d.jsx)(n.code,{children:"Queue"}),"\u4EB2\u548C\u6027\u914D\u7F6E\u793A\u4F8B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: gpu-workloads\nspec:\n  weight: 10\n  reclaimable: false\n  affinity:\n    # \u8282\u70B9\u7EC4\u4EB2\u548C\u6027\u914D\u7F6E\n    nodeGroupAffinity:\n      # \u5FC5\u987B\u6EE1\u8DB3\u7684\u4EB2\u548C\u6027\u89C4\u5219\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - "gpu-nodes"        # \u5FC5\u987B\u8C03\u5EA6\u5230\u6807\u8BB0\u4E3A gpu-nodes \u7684\u8282\u70B9\u7EC4\n\n    # \u8282\u70B9\u7EC4\u53CD\u4EB2\u548C\u6027\u914D\u7F6E\n    nodeGroupAntiAffinity:\n      # \u5FC5\u987B\u6EE1\u8DB3\u7684\u53CD\u4EB2\u548C\u6027\u89C4\u5219\n      requiredDuringSchedulingIgnoredDuringExecution:\n        - "test-nodes"       # \u4E0D\u80FD\u8C03\u5EA6\u5230\u6807\u8BB0\u4E3A test-nodes \u7684\u8282\u70B9\u7EC4\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u5DE5\u4F5C\u539F\u7406",children:"\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u4E3A\u961F\u5217\u4E2D\u7684\u4EFB\u52A1\u9009\u62E9\u8282\u70B9\u65F6\uFF0C\u4F1A\u6839\u636E\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"affinity"}),"\u914D\u7F6E\u8FDB\u884C\u8FC7\u6EE4\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsxs)(n.strong,{children:["\u5FC5\u9700\u4EB2\u548C\u6027\uFF08",(0,d.jsx)(n.code,{children:"Required Affinity"}),"\uFF09"]}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u914D\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"nodeGroupAffinity.requiredDuringSchedulingIgnoredDuringExecution"}),"\uFF0C\u4EFB\u52A1\u53EA\u80FD\u8C03\u5EA6\u5230\u6307\u5B9A\u7684\u8282\u70B9\u7EC4"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u914D\u7F6E\u4E86",(0,d.jsx)(n.code,{children:"nodeGroupAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution"}),"\uFF0C\u4EFB\u52A1\u4E0D\u80FD\u8C03\u5EA6\u5230\u6307\u5B9A\u7684\u8282\u70B9\u7EC4"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsxs)(n.strong,{children:["\u9996\u9009\u4EB2\u548C\u6027\uFF08",(0,d.jsx)(n.code,{children:"Preferred Affinity"}),"\uFF09"]}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5728\u6EE1\u8DB3\u5FC5\u9700\u4EB2\u548C\u6027\u7684\u524D\u63D0\u4E0B\uFF0C\u8C03\u5EA6\u5668\u4F1A\u4F18\u5148\u9009\u62E9\u6EE1\u8DB3",(0,d.jsx)(n.code,{children:"preferredDuringSchedulingIgnoredDuringExecution"}),"\u89C4\u5219\u7684\u8282\u70B9"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0EPod\u4EB2\u548C\u6027\u7684\u5173\u7CFB"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u7684\u4EB2\u548C\u6027\u914D\u7F6E\u4E0D\u4F1A\u76F4\u63A5\u4FEE\u6539",(0,d.jsx)(n.code,{children:"Pod"}),"\u7684",(0,d.jsx)(n.code,{children:".spec.affinity"}),"\u5B57\u6BB5"]}),"\n",(0,d.jsxs)(n.li,{children:["\u800C\u662F\u5728\u8C03\u5EA6\u51B3\u7B56\u8FC7\u7A0B\u4E2D\u901A\u8FC7",(0,d.jsx)(n.code,{children:"nodegroup"}),"\u63D2\u4EF6\u5E94\u7528\u8FD9\u4E9B\u89C4\u5219"]}),"\n",(0,d.jsxs)(n.li,{children:["\u8C03\u5EA6\u5668\u4F1A\u9996\u5148\u67E5\u770B\u8981\u8C03\u5EA6\u7684",(0,d.jsx)(n.code,{children:"Pod"}),"\u6240\u5C5E\u7684",(0,d.jsx)(n.code,{children:"PodGroup"}),"\uFF0C\u7136\u540E\u786E\u5B9A\u5176\u6240\u5C5E\u7684",(0,d.jsx)(n.code,{children:"Queue"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5728\u8282\u70B9\u7B5B\u9009\u9636\u6BB5\uFF0C\u540C\u65F6\u8003\u8651",(0,d.jsx)(n.code,{children:"Pod"}),"\u81EA\u8EAB\u7684\u4EB2\u548C\u6027\u548C",(0,d.jsx)(n.code,{children:"Queue"}),"\u7684\u4EB2\u548C\u6027\u89C4\u5219"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F18\u5148\u7EA7\u987A\u5E8F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Pod"}),"\u81EA\u8EAB\u7684\u4EB2\u548C\u6027\u89C4\u5219\u4F18\u5148\u7EA7\u6700\u9AD8"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Queue"}),"\u7684\u4EB2\u548C\u6027\u89C4\u5219\u662F\u989D\u5916\u7684\u7EA6\u675F\u6761\u4EF6"]}),"\n",(0,d.jsx)(n.li,{children:"\u4E24\u8005\u90FD\u5FC5\u987B\u6EE1\u8DB3\u624D\u80FD\u5B8C\u6210\u8C03\u5EA6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u6269\u5C55\u96C6\u7FA4extendclusters",children:"\u6269\u5C55\u96C6\u7FA4\uFF08extendClusters\uFF09"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684",(0,d.jsx)(n.code,{children:"Queue"}),"\u5BF9\u8C61\u63D0\u4F9B\u4E86",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u914D\u7F6E\uFF0C\u5141\u8BB8\u5C06\u961F\u5217\u4E2D\u7684\u4F5C\u4E1A\u8C03\u5EA6\u5230\u591A\u4E2A\u96C6\u7FA4\u4E2D\u3002\u8FD9\u4E00\u529F\u80FD\u5728\u591A\u96C6\u7FA4\u7BA1\u7406\u548C\u6DF7\u5408\u4E91\u573A\u666F\u4E2D\u7279\u522B\u6709\u7528\u3002"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A\u8981\u4F7F",(0,d.jsx)(n.code,{children:"Queue"}),"\u7684",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u914D\u7F6E\u751F\u6548\uFF0C\u9700\u8981\u542F\u7528",(0,d.jsx)(n.code,{children:"Volcano"}),"\u7684\u591A\u96C6\u7FA4\u8C03\u5EA6\u529F\u80FD\uFF0C\u5E76\u914D\u7F6E\u76F8\u5E94\u7684\u96C6\u7FA4\u8FDE\u63A5\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u914D\u7F6E\u7ED3\u6784",children:"\u914D\u7F6E\u7ED3\u6784"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"extendClusters"}),"\u5B57\u6BB5\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u6BCF\u4E2A\u5143\u7D20\u5B9A\u4E49\u4E86\u4E00\u4E2A\u6269\u5C55\u96C6\u7FA4\u53CA\u5176\u76F8\u5173\u5C5E\u6027\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'extendClusters:\n  - name: "cluster-1"    # \u96C6\u7FA4\u540D\u79F0\uFF0C\u5FC5\u987B\u4E0E\u591A\u96C6\u7FA4\u914D\u7F6E\u4E2D\u7684\u540D\u79F0\u5339\u914D\n    weight: 5            # \u96C6\u7FA4\u6743\u91CD\uFF0C\u5F71\u54CD\u4F5C\u4E1A\u5206\u914D\u5230\u8BE5\u96C6\u7FA4\u7684\u6982\u7387\n    capacity:            # \u96C6\u7FA4\u5BB9\u91CF\u9650\u5236\n      cpu: 1000          # CPU\u5BB9\u91CF\n      memory: 1000Gi     # \u5185\u5B58\u5BB9\u91CF\n  - name: "cluster-2"\n    weight: 3\n    capacity:\n      cpu: 500\n      memory: 500Gi\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u4E3B\u8981\u5C5E\u6027\u8BF4\u660E\uFF1A"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"name"}),"\uFF1A\u6307\u5B9A\u6269\u5C55\u96C6\u7FA4\u7684\u540D\u79F0\uFF0C\u5FC5\u987B\u4E0E",(0,d.jsx)(n.code,{children:"Volcano"}),"\u591A\u96C6\u7FA4\u914D\u7F6E\u4E2D\u5B9A\u4E49\u7684\u96C6\u7FA4\u540D\u79F0\u76F8\u5339\u914D"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"weight"}),"\uFF1A\u96C6\u7FA4\u7684\u6743\u91CD\uFF0C\u51B3\u5B9A\u4E86\u5728\u591A\u96C6\u7FA4\u8C03\u5EA6\u573A\u666F\u4E0B\uFF0C\u4F5C\u4E1A\u88AB\u8C03\u5EA6\u5230\u8BE5\u96C6\u7FA4\u7684\u4F18\u5148\u7EA7"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u6743\u91CD\u8D8A\u9AD8\uFF0C\u8BE5\u96C6\u7FA4\u88AB\u9009\u4E2D\u7684\u6982\u7387\u8D8A\u5927"}),"\n",(0,d.jsx)(n.li,{children:"\u5F53\u591A\u4E2A\u96C6\u7FA4\u90FD\u6EE1\u8DB3\u4F5C\u4E1A\u8C03\u5EA6\u8981\u6C42\u65F6\uFF0C\u6743\u91CD\u8D77\u5230\u51B3\u5B9A\u6027\u4F5C\u7528"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"capacity"}),"\uFF1A\u5B9A\u4E49\u8BE5\u961F\u5217\u5728\u6307\u5B9A\u96C6\u7FA4\u4E2D\u53EF\u4EE5\u4F7F\u7528\u7684\u8D44\u6E90\u4E0A\u9650"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u53EF\u4EE5\u6307\u5B9A\u591A\u79CD\u8D44\u6E90\u7C7B\u578B\uFF0C\u5982CPU\u3001\u5185\u5B58\u3001GPU\u7B49"}),"\n",(0,d.jsx)(n.li,{children:"\u961F\u5217\u4E2D\u7684\u4F5C\u4E1A\u5728\u8BE5\u96C6\u7FA4\u4E0A\u4F7F\u7528\u7684\u8D44\u6E90\u603B\u548C\u4E0D\u80FD\u8D85\u8FC7\u8FD9\u4E2A\u9650\u5236"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5DE5\u4F5C\u539F\u7406-1",children:"\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,d.jsxs)(n.p,{children:["\u5F53\u542F\u7528\u591A\u96C6\u7FA4\u8C03\u5EA6\u529F\u80FD\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u4F1A\u6839\u636E\u4EE5\u4E0B\u6D41\u7A0B\u5904\u7406\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u914D\u7F6E\uFF1A"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u96C6\u7FA4\u9009\u62E9"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u8C03\u5EA6\u5668\u9996\u5148\u68C0\u67E5\u4F5C\u4E1A\u6240\u5C5E\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u914D\u7F6E"]}),"\n",(0,d.jsxs)(n.li,{children:["\u6839\u636E\u5404\u96C6\u7FA4\u7684",(0,d.jsx)(n.code,{children:"weight"}),"\u548C\u5F53\u524D\u8D44\u6E90\u72B6\u6001\uFF0C\u9009\u62E9\u6700\u5408\u9002\u7684\u96C6\u7FA4"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u9650\u5236\u68C0\u67E5"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u68C0\u67E5\u9009\u4E2D\u96C6\u7FA4\u7684",(0,d.jsx)(n.code,{children:"capacity"}),"\u914D\u7F6E"]}),"\n",(0,d.jsx)(n.li,{children:"\u786E\u4FDD\u961F\u5217\u5728\u8BE5\u96C6\u7FA4\u4E0A\u7684\u8D44\u6E90\u4F7F\u7528\u4E0D\u8D85\u8FC7\u9650\u5236"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8DE8\u96C6\u7FA4\u8C03\u5EA6"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5C06\u4F5C\u4E1A\u8C03\u5EA6\u5230\u9009\u4E2D\u7684\u96C6\u7FA4\u4E2D\u6267\u884C"}),"\n",(0,d.jsx)(n.li,{children:"\u7EF4\u62A4\u4F5C\u4E1A\u4E0E\u96C6\u7FA4\u7684\u6620\u5C04\u5173\u7CFB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5E94\u7528\u573A\u666F",children:"\u5E94\u7528\u573A\u666F"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u6C60\u6269\u5C55"}),"\uFF1A\u5F53\u4E3B\u96C6\u7FA4\u8D44\u6E90\u4E0D\u8DB3\u65F6\uFF0C\u53EF\u4EE5\u5C06\u4F5C\u4E1A\u8C03\u5EA6\u5230\u5176\u4ED6\u96C6\u7FA4\uFF0C\u6269\u5C55\u8D44\u6E90\u6C60"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6DF7\u5408\u4E91\u7BA1\u7406"}),"\uFF1A\u5141\u8BB8\u5C06\u4F5C\u4E1A\u5206\u914D\u5230\u4E0D\u540C\u7684\u4E91\u73AF\u5883\uFF08\u516C\u6709\u4E91\u3001\u79C1\u6709\u4E91\u3001\u6DF7\u5408\u4E91\uFF09"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5730\u7406\u5206\u5E03\u5F0F\u90E8\u7F72"}),"\uFF1A\u5C06\u4F5C\u4E1A\u5206\u914D\u5230\u4E0D\u540C\u5730\u7406\u4F4D\u7F6E\u7684\u96C6\u7FA4\uFF0C\u5B9E\u73B0\u5168\u7403\u8D44\u6E90\u8C03\u5EA6"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u5B9A\u8D44\u6E90\u7C7B\u578B\u7684\u5206\u914D"}),"\uFF1A\u5C06\u9700\u8981\u7279\u5B9A\u786C\u4EF6\uFF08\u5982GPU\u3001FPGA\uFF09\u7684\u4F5C\u4E1A\u8C03\u5EA6\u5230\u914D\u5907\u8FD9\u4E9B\u8D44\u6E90\u7684\u96C6\u7FA4"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u914D\u7F6E\u793A\u4F8B-1",children:"\u914D\u7F6E\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.p,{children:["\u4E0B\u9762\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u4F7F\u7528",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u7684",(0,d.jsx)(n.code,{children:"Queue"}),"\u914D\u7F6E\u793A\u4F8B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: scheduling.volcano.sh/v1beta1\nkind: Queue\nmetadata:\n  name: multi-cluster-queue\nspec:\n  weight: 10\n  capability:\n    cpu: 2000\n    memory: 4000Gi\n  reclaimable: true\n  # \u6269\u5C55\u96C6\u7FA4\u914D\u7F6E\n  extendClusters:\n    - name: "on-premise-cluster"  # \u672C\u5730\u6570\u636E\u4E2D\u5FC3\u96C6\u7FA4\n      weight: 10                 # \u9AD8\u6743\u91CD\uFF0C\u4F18\u5148\u4F7F\u7528\n      capacity:\n        cpu: 1000\n        memory: 2000Gi\n        nvidia.com/gpu: 8\n    - name: "cloud-cluster-a"     # \u516C\u6709\u4E91\u96C6\u7FA4A\n      weight: 5                  # \u4E2D\u7B49\u6743\u91CD\n      capacity:\n        cpu: 500\n        memory: 1000Gi\n    - name: "cloud-cluster-b"     # \u516C\u6709\u4E91\u96C6\u7FA4B\n      weight: 3                  # \u4F4E\u6743\u91CD\n      capacity:\n        cpu: 500\n        memory: 1000Gi\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u5728\u8FD9\u4E2A\u914D\u7F6E\u4E2D\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u961F\u5217\u7684\u4F5C\u4E1A\u4F1A\u4F18\u5148\u8C03\u5EA6\u5230\u6743\u91CD\u4E3A10\u7684",(0,d.jsx)(n.code,{children:"on-premise-cluster"}),"\u96C6\u7FA4"]}),"\n",(0,d.jsx)(n.li,{children:"\u5F53\u672C\u5730\u96C6\u7FA4\u8D44\u6E90\u4E0D\u8DB3\u6216\u4E0D\u6EE1\u8DB3\u4F5C\u4E1A\u8981\u6C42\u65F6\uFF0C\u4F1A\u8003\u8651\u8C03\u5EA6\u5230\u516C\u6709\u4E91\u96C6\u7FA4"}),"\n",(0,d.jsx)(n.li,{children:"\u6BCF\u4E2A\u96C6\u7FA4\u90FD\u6709\u5404\u81EA\u7684\u8D44\u6E90\u9650\u5236\uFF0C\u786E\u4FDD\u961F\u5217\u4E0D\u4F1A\u8FC7\u5EA6\u4F7F\u7528\u67D0\u4E00\u96C6\u7FA4\u7684\u8D44\u6E90"}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879",children:"\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u591A\u96C6\u7FA4\u914D\u7F6E"}),"\uFF1A\u4F7F\u7528",(0,d.jsx)(n.code,{children:"extendClusters"}),"\u524D\uFF0C\u9700\u8981\u5148\u5728",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u4E2D\u914D\u7F6E\u591A\u96C6\u7FA4\u73AF\u5883"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u96C6\u7FA4\u8FDE\u901A\u6027"}),"\uFF1A\u786E\u4FDD\u5404\u96C6\u7FA4\u4E4B\u95F4\u7684\u7F51\u7EDC\u8FDE\u901A\u6027\uFF0C\u7279\u522B\u662F\u5BF9\u4E8E\u8DE8\u5730\u57DF\u90E8\u7F72\u7684\u96C6\u7FA4"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u7C7B\u578B\u517C\u5BB9\u6027"}),"\uFF1A\u786E\u4FDD\u4E0D\u540C\u96C6\u7FA4\u7684\u8D44\u6E90\u7C7B\u578B\u5B9A\u4E49\u4E00\u81F4\uFF0C\u5426\u5219\u53EF\u80FD\u5BFC\u81F4\u8C03\u5EA6\u5931\u8D25"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6027\u80FD\u5F71\u54CD"}),"\uFF1A\u8DE8\u96C6\u7FA4\u8C03\u5EA6\u53EF\u80FD\u5F15\u5165\u989D\u5916\u7684\u7F51\u7EDC\u5EF6\u8FDF\u548C\u6027\u80FD\u5F00\u9500\uFF0C\u9700\u8981\u8003\u8651\u8FD9\u4E9B\u56E0\u7D20"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u961F\u5217\u4F7F\u7528\u65B9\u5F0F",children:"\u961F\u5217\u4F7F\u7528\u65B9\u5F0F"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Queue"}),"\u53EF\u4EE5\u4E0E\u591A\u79CD",(0,d.jsx)(n.code,{children:"Kubernetes"}),"\u5DE5\u4F5C\u8D1F\u8F7D\u7C7B\u578B\u7ED3\u5408\u4F7F\u7528\u3002\u4EE5\u4E0B\u662F\u4E0D\u540C\u5DE5\u4F5C\u8D1F\u8F7D\u7C7B\u578B\u5982\u4F55\u5173\u8054\u5230\u6307\u5B9A\u961F\u5217\u7684\u793A\u4F8B\uFF1A"]}),"\n",(0,d.jsx)(n.h4,{id:"1-volcano-job",children:"1. Volcano Job"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u53EF\u4EE5\u76F4\u63A5\u5728\u5B9A\u4E49\u4E2D\u6307\u5B9A\u961F\u5217\u540D\u79F0\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: distributed-training\nspec:\n  queue: ai-training  # \u6307\u5B9A\u961F\u5217\u540D\u79F0\n  minAvailable: 3\n  tasks:\n    - replicas: 1\n      name: ps\n      template:\n        spec:\n          containers:\n            - name: tensorflow\n              image: tensorflow/tensorflow:latest-gpu\n"})}),"\n",(0,d.jsx)(n.h4,{id:"2-kubernetes-pod",children:"2. Kubernetes Pod"}),"\n",(0,d.jsxs)(n.p,{children:["\u5BF9\u4E8E\u666E\u901A\u7684",(0,d.jsx)(n.code,{children:"Kubernetes Pod"}),"\uFF0C\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u7279\u5B9A\u6CE8\u89E3\u6765\u6307\u5B9A\u961F\u5217\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\nkind: Pod\nmetadata:\n  name: ml-inference\n  annotations:\n    volcano.sh/queue-name: "inference-queue"  # \u6307\u5B9A\u961F\u5217\u540D\u79F0\nspec:\n  schedulerName: volcano  # \u5FC5\u987B\u6307\u5B9A\u4F7F\u7528volcano\u8C03\u5EA6\u5668\n  containers:\n  - name: inference-container\n    image: ml-model:v1\n'})}),"\n",(0,d.jsx)(n.h4,{id:"3-kubernetes-deployment",children:"3. Kubernetes Deployment"}),"\n",(0,d.jsxs)(n.p,{children:["\u5BF9\u4E8E",(0,d.jsx)(n.code,{children:"Deployment"}),"\uFF0C\u9700\u8981\u5728",(0,d.jsx)(n.code,{children:"Pod"}),"\u6A21\u677F\u4E2D\u6DFB\u52A0\u76F8\u5173\u6CE8\u89E3\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-service\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web\n  template:\n    metadata:\n      labels:\n        app: web\n        volcano.sh/queue-name: "web-queue"  # \u901A\u8FC7labels\u6307\u5B9A\u961F\u5217\u540D\u79F0\uFF08\u63A8\u8350\u65B9\u5F0F\uFF0C\u4FBF\u4E8E\u67E5\u8BE2\uFF09\n      # \u4E5F\u53EF\u4EE5\u901A\u8FC7annotations\u6307\u5B9A\u961F\u5217\u540D\u79F0\n      # annotations:\n      #   volcano.sh/queue-name: "web-queue"  \n    spec:\n      schedulerName: volcano  # \u5FC5\u987B\u6307\u5B9A\u4F7F\u7528volcano\u8C03\u5EA6\u5668\n      containers:\n      - name: nginx\n        image: nginx:latest\n'})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u6CE8\u610F\uFF1A\u4F7F\u7528labels\u65B9\u5F0F\u5173\u8054\u961F\u5217\u6709\u52A9\u4E8E\u901A\u8FC7\u6807\u7B7E\u9009\u62E9\u5668\u5FEB\u901F\u67E5\u8BE2\u5C5E\u4E8E\u7279\u5B9A\u961F\u5217\u7684Pod\uFF0C\u4F8B\u5982\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -l volcano.sh/queue-name=web-queue\n"})}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"4-kubernetes-statefulset",children:"4. Kubernetes StatefulSet"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"StatefulSet"}),"\u7684\u914D\u7F6E\u65B9\u5F0F\u4E0E",(0,d.jsx)(n.code,{children:"Deployment"}),"\u7C7B\u4F3C\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: database\nspec:\n  serviceName: "db"\n  replicas: 3\n  selector:\n    matchLabels:\n      app: database\n  template:\n    metadata:\n      labels:\n        app: database\n      annotations:\n        volcano.sh/queue-name: "db-queue"  # \u6307\u5B9A\u961F\u5217\u540D\u79F0\n    spec:\n      schedulerName: volcano  # \u5FC5\u987B\u6307\u5B9A\u4F7F\u7528volcano\u8C03\u5EA6\u5668\n      containers:\n      - name: mysql\n        image: mysql:5.7\n'})}),"\n",(0,d.jsx)(n.h4,{id:"5-podgroup",children:"5. PodGroup"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"PodGroup"}),"\u662F",(0,d.jsx)(n.code,{children:"Volcano"}),"\u63D0\u4F9B\u7684\u4E00\u79CD\u81EA\u5B9A\u4E49\u8D44\u6E90\uFF0C\u7528\u4E8E\u5C06\u591A\u4E2A",(0,d.jsx)(n.code,{children:"Pod"}),"\u4F5C\u4E3A\u4E00\u4E2A\u7EC4\u8FDB\u884C\u8C03\u5EA6\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: scheduling.volcano.sh/v1beta1\nkind: PodGroup\nmetadata:\n  name: ml-training-group\nspec:\n  queue: high-priority  # \u6307\u5B9A\u961F\u5217\u540D\u79F0\n  minMember: 3\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: training-worker-1\n  labels:\n    podgroup: ml-training-group  # \u5173\u8054\u5230PodGroup\nspec:\n  schedulerName: volcano\n  containers:\n  - name: training\n    image: ml-training:v1\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u6CE8\u610F\u4E8B\u9879",children:"\u6CE8\u610F\u4E8B\u9879"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u5668\u6307\u5B9A"}),"\uFF1A\u65E0\u8BBA\u4F7F\u7528\u54EA\u79CD\u65B9\u5F0F\uFF0C\u90FD\u5FC5\u987B\u5C06",(0,d.jsx)(n.code,{children:"schedulerName"}),"\u8BBE\u7F6E\u4E3A",(0,d.jsx)(n.code,{children:"volcano"}),"\uFF0C\u5426\u5219",(0,d.jsx)(n.code,{children:"Pod"}),"\u4E0D\u4F1A\u88AB",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u5904\u7406"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u961F\u5217\u5B58\u5728\u6027"}),"\uFF1A\u6307\u5B9A\u7684\u961F\u5217\u5FC5\u987B\u5DF2\u7ECF\u521B\u5EFA\uFF0C\u5426\u5219",(0,d.jsx)(n.code,{children:"Pod"}),"\u5C06\u65E0\u6CD5\u88AB\u6210\u529F\u8C03\u5EA6"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6743\u9650\u63A7\u5236"}),"\uFF1A\u5728\u591A\u79DF\u6237\u73AF\u5883\u4E2D\uFF0C\u901A\u5E38\u9700\u8981\u914D\u7F6E",(0,d.jsx)(n.code,{children:"RBAC"}),"\u6743\u9650\uFF0C\u9650\u5236\u7528\u6237\u53EA\u80FD\u4F7F\u7528\u7279\u5B9A\u7684\u961F\u5217"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u9ED8\u8BA4\u961F\u5217"}),"\uFF1A\u5982\u679C\u672A\u6307\u5B9A\u961F\u5217\uFF0C",(0,d.jsx)(n.code,{children:"Pod"}),"\u5C06\u88AB\u5206\u914D\u5230\u9ED8\u8BA4\u961F\u5217\uFF08\u901A\u5E38\u540D\u4E3A",(0,d.jsx)(n.code,{children:"default"}),"\uFF09"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"job",children:"Job"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u662F",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u7CFB\u7EDF\u4E2D\u7684\u6838\u5FC3\u5DE5\u4F5C\u8D1F\u8F7D\u5BF9\u8C61\uFF0C\u7528\u4E8E\u5B9A\u4E49\u548C\u7BA1\u7406\u590D\u6742\u7684\u5206\u5E03\u5F0F\u3001\u6279\u5904\u7406\u548C\u9AD8\u6027\u80FD\u8BA1\u7B97\u4EFB\u52A1\u3002\u4E0E\u539F\u751F",(0,d.jsx)(n.code,{children:"Kubernetes Job"}),"\u76F8\u6BD4\uFF0C",(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u63D0\u4F9B\u4E86\u66F4\u4E30\u5BCC\u7684\u529F\u80FD\u548C\u66F4\u7075\u6D3B\u7684\u8C03\u5EA6\u7B56\u7565\uFF0C\u7279\u522B\u9002\u5408\u673A\u5668\u5B66\u4E60\u3001\u5927\u6570\u636E\u5206\u6790\u3001\u79D1\u5B66\u8BA1\u7B97\u7B49\u9886\u57DF\u3002"]}),"\n",(0,d.jsx)(n.h3,{id:"\u57FA\u672C\u7ED3\u6784",children:"\u57FA\u672C\u7ED3\u6784"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u7684\u6570\u636E\u7ED3\u6784\u5982\u4E0B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: distributed-training  # \u4F5C\u4E1A\u540D\u79F0\nspec:\n  minAvailable: 3             # \u6700\u5C0F\u53EF\u7528Pod\u6570\u91CF\uFF0C\u4F5C\u4E1A\u542F\u52A8\u6240\u9700\u7684\u6700\u5C0F\u8D44\u6E90\u6570\u91CF\n  minSuccess: 2               # \u6700\u5C0F\u6210\u529FPod\u6570\u91CF\uFF0C\u4EFB\u52A1\u88AB\u8BA4\u4E3A\u5B8C\u6210\u6240\u9700\u7684\u6700\u5C0F\u6210\u529F\u6570\u91CF\n  schedulerName: volcano      # \u6307\u5B9A\u4F7F\u7528volcano\u8C03\u5EA6\u5668\n  priorityClassName: high     # \u4F5C\u4E1A\u4F18\u5148\u7EA7\uFF08\u53EF\u9009\uFF09\n  queue: ai-training          # \u6240\u5C5E\u961F\u5217\n  maxRetry: 5                 # \u6700\u5927\u91CD\u8BD5\u6B21\u6570\n  ttlSecondsAfterFinished: 3600  # \u4F5C\u4E1A\u5B8C\u6210\u540E\u4FDD\u7559\u65F6\u95F4\uFF08\u79D2\uFF09\n  plugins:                    # \u4F7F\u7528\u7684\u63D2\u4EF6\n    ssh: []                   # SSH\u63D2\u4EF6\u914D\u7F6E\n    env: []                   # \u73AF\u5883\u53D8\u91CF\u63D2\u4EF6\u914D\u7F6E\n    svc: []                   # \u670D\u52A1\u63D2\u4EF6\u914D\u7F6E\n  policies:                   # \u7B56\u7565\u914D\u7F6E\n    - event: PodEvicted       # \u89E6\u53D1\u4E8B\u4EF6\n      action: RestartJob      # \u5BF9\u5E94\u52A8\u4F5C\n  tasks:                      # \u4EFB\u52A1\u5B9A\u4E49\uFF0C\u4E00\u4E2AJob\u53EF\u4EE5\u5305\u542B\u591A\u4E2A\u4EFB\u52A1\n    - replicas: 1             # \u526F\u672C\u6570\n      name: ps                # \u4EFB\u52A1\u540D\u79F0\n      policies:               # \u4EFB\u52A1\u7EA7\u522B\u7B56\u7565\n        - event: TaskCompleted # \u89E6\u53D1\u4E8B\u4EF6\n          action: CompleteJob # \u5BF9\u5E94\u52A8\u4F5C\n      template:               # Pod\u6A21\u677F\n        metadata:\n          labels:\n            role: ps\n        spec:\n          containers:\n            - name: tensorflow\n              image: tensorflow/tensorflow:2.4.0-gpu\n              resources:\n                limits:\n                  cpu: 4\n                  memory: 8Gi\n                  nvidia.com/gpu: 1\n    - replicas: 4             # \u526F\u672C\u6570\n      name: worker            # \u4EFB\u52A1\u540D\u79F0\n      template:               # Pod\u6A21\u677F\n        metadata:\n          labels:\n            role: worker\n        spec:\n          containers:\n            - name: tensorflow\n              image: tensorflow/tensorflow:2.4.0-gpu\n              resources:\n                limits:\n                  cpu: 2\n                  memory: 4Gi\n                  nvidia.com/gpu: 1\n"})}),"\n",(0,d.jsx)(n.h3,{id:"job\u72B6\u6001",children:"Job\u72B6\u6001"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u662F\u4E00\u4E2A\u66F4\u9AD8\u7EA7\u522B\u7684\u62BD\u8C61\uFF0C\u5B83\u5305\u542B\u4E00\u4E2A\u6216\u591A\u4E2A",(0,d.jsx)(n.code,{children:"Task"}),"\uFF0C\u6BCF\u4E2A",(0,d.jsx)(n.code,{children:"Task"}),"\u53EF\u4EE5\u6709\u591A\u4E2A",(0,d.jsx)(n.code,{children:"Pod"}),"\u526F\u672C\u3002",(0,d.jsx)(n.code,{children:"Job"}),"\u6709\u4EE5\u4E0B\u51E0\u79CD\u72B6\u6001\uFF1A"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u72B6\u6001"}),(0,d.jsx)(n.th,{children:"\u8BF4\u660E"}),(0,d.jsx)(n.th,{children:"\u63CF\u8FF0"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Pending"})}),(0,d.jsx)(n.td,{children:"\u7B49\u5F85\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u6B63\u5728\u961F\u5217\u4E2D\u7B49\u5F85\uFF0C\u7B49\u5F85\u8C03\u5EA6\u51B3\u7B56"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Inqueue"})}),(0,d.jsx)(n.td,{children:"\u5165\u961F"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u5DF2\u5165\u961F\uFF0C\u7B49\u5F85\u8C03\u5EA6"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Aborting"})}),(0,d.jsx)(n.td,{children:"\u4E2D\u6B62\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u6B63\u5728\u88AB\u4E2D\u6B62\uFF0C\u7B49\u5F85\u91CA\u653E",(0,d.jsx)(n.code,{children:"Pod"})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Aborted"})}),(0,d.jsx)(n.td,{children:"\u5DF2\u4E2D\u6B62"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u5DF2\u88AB\u4E2D\u6B62\uFF0C\u6240\u6709",(0,d.jsx)(n.code,{children:"Pod"}),"\u5DF2\u88AB\u91CA\u653E"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Running"})}),(0,d.jsx)(n.td,{children:"\u8FD0\u884C\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u4E2D\u7684",(0,d.jsx)(n.code,{children:"Pod"}),"\u6B63\u5728\u8FD0\u884C"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Restarting"})}),(0,d.jsx)(n.td,{children:"\u91CD\u542F\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u6B63\u5728\u91CD\u542F\uFF0C\u7B49\u5F85",(0,d.jsx)(n.code,{children:"Pod"}),"\u7EC8\u6B62"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Completing"})}),(0,d.jsx)(n.td,{children:"\u5B8C\u6210\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u6B63\u5728\u5B8C\u6210\uFF0C\u7B49\u5F85",(0,d.jsx)(n.code,{children:"Pod"}),"\u7EC8\u6B62"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Completed"})}),(0,d.jsx)(n.td,{children:"\u5DF2\u5B8C\u6210"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u5DF2\u6210\u529F\u5B8C\u6210\uFF0C\u6240\u6709",(0,d.jsx)(n.code,{children:"Pod"}),"\u90FD\u5DF2\u6210\u529F\u8FD0\u884C\u5E76\u7EC8\u6B62"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Terminating"})}),(0,d.jsx)(n.td,{children:"\u7EC8\u6B62\u4E2D"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u6B63\u5728\u7EC8\u6B62\uFF0C\u7B49\u5F85",(0,d.jsx)(n.code,{children:"Pod"}),"\u7EC8\u6B62"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Terminated"})}),(0,d.jsx)(n.td,{children:"\u5DF2\u7EC8\u6B62"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u5DF2\u7EC8\u6B62\uFF0C\u6240\u6709",(0,d.jsx)(n.code,{children:"Pod"}),"\u5DF2\u88AB\u7EC8\u6B62"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"Failed"})}),(0,d.jsx)(n.td,{children:"\u5931\u8D25"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"Job"}),"\u5DF2\u5931\u8D25\uFF0C\u65E0\u6CD5\u7EE7\u7EED\u8FD0\u884C"]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\u6279\u91CF\u8C03\u5EA6",children:"\u6279\u91CF\u8C03\u5EA6"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"minAvailable"}),"\u5C5E\u6027\u662F",(0,d.jsx)(n.code,{children:"Volcano Job"}),'\u4E2D\u7684\u6838\u5FC3\u529F\u80FD\u4E4B\u4E00\uFF0C\u7528\u4E8E\u5B9E\u73B0"\u6279\u91CF\u8C03\u5EA6"\u6216"\u6574\u4F53\u8C03\u5EA6"\u673A\u5236\u3002\u8FD9\u4E00\u673A\u5236\u5728\u5206\u5E03\u5F0F\u8BA1\u7B97\u3001\u673A\u5668\u5B66\u4E60\u7B49\u9886\u57DF\u7279\u522B\u91CD\u8981\uFF0C\u56E0\u4E3A\u8FD9\u4E9B\u5E94\u7528\u901A\u5E38\u9700\u8981\u591A\u4E2A',(0,d.jsx)(n.code,{children:"Pod"}),"\u540C\u65F6\u542F\u52A8\u624D\u80FD\u6B63\u5E38\u5DE5\u4F5C\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5DE5\u4F5C\u539F\u7406-2",children:"\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u4FDD\u8BC1"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5F53\u8BBE\u7F6E",(0,d.jsx)(n.code,{children:"minAvailable=N"}),"\u65F6\uFF0C",(0,d.jsx)(n.code,{children:"Volcano"}),"\u8C03\u5EA6\u5668\u4F1A\u786E\u4FDD\u81F3\u5C11\u6709",(0,d.jsx)(n.code,{children:"N"}),"\u4E2A",(0,d.jsx)(n.code,{children:"Pod"}),"\u540C\u65F6\u88AB\u8C03\u5EA6"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u96C6\u7FA4\u8D44\u6E90\u4E0D\u8DB3\u4EE5\u6EE1\u8DB3\u8FD9\u4E00\u8981\u6C42\uFF0C\u6240\u6709",(0,d.jsx)(n.code,{children:"Pod"}),"\u5C06\u4FDD\u6301\u5728",(0,d.jsx)(n.code,{children:"Pending"}),"\u72B6\u6001\uFF0C\u800C\u4E0D\u662F\u90E8\u5206\u8C03\u5EA6"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"PodGroup\u96C6\u6210"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u4F1A\u4E3A\u6BCF\u4E2A",(0,d.jsx)(n.code,{children:"Job"}),"\u521B\u5EFA\u4E00\u4E2A",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u5BF9\u8C61"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"minAvailable"}),"\u503C\u4F1A\u8BBE\u7F6E\u5230",(0,d.jsx)(n.code,{children:"PodGroup"}),"\u4E2D\uFF0C\u7528\u4E8E\u6307\u5BFC\u8C03\u5EA6\u51B3\u7B56"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8D44\u6E90\u7B49\u5F85\u673A\u5236"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5F53\u8D44\u6E90\u4E0D\u8DB3\u65F6\uFF0C\u4F5C\u4E1A\u5C06\u8FDB\u5165\u7B49\u5F85\u72B6\u6001"}),"\n",(0,d.jsxs)(n.li,{children:["\u4E00\u65E6\u6709\u8DB3\u591F\u8D44\u6E90\u53EF\u4EE5\u6EE1\u8DB3",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u8981\u6C42\uFF0C\u4F5C\u4E1A\u5C06\u88AB\u8C03\u5EA6"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5E94\u7528\u573A\u666F\u793A\u4F8B",children:"\u5E94\u7528\u573A\u666F\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5206\u5E03\u5F0F\u673A\u5668\u5B66\u4E60"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: tf-training\nspec:\n  minAvailable: 3  # 1\u4E2APS + 2\u4E2AWorker\u6700\u5C0F\u8981\u6C42\n  tasks:\n    - replicas: 1\n      name: ps\n    - replicas: 4\n      name: worker\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"MPI\u5E76\u884C\u8BA1\u7B97"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: mpi-job\nspec:\n  minAvailable: 5  # 1\u4E2ALauncher + 4\u4E2AWorker\n  tasks:\n    - replicas: 1\n      name: launcher\n    - replicas: 4\n      name: worker\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4E0E\u5176\u4ED6\u5C5E\u6027\u7684\u914D\u5408",children:"\u4E0E\u5176\u4ED6\u5C5E\u6027\u7684\u914D\u5408"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0EminSuccess\u7684\u533A\u522B"}),"\uFF1A",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u5173\u6CE8\u7684\u662F",(0,d.jsx)(n.strong,{children:"\u8C03\u5EA6\u542F\u52A8"}),"\u65F6\u7684\u6700\u5C0F\u8981\u6C42\uFF0C\u800C",(0,d.jsx)(n.code,{children:"minSuccess"}),"\u5173\u6CE8\u7684\u662F",(0,d.jsx)(n.strong,{children:"\u4EFB\u52A1\u6210\u529F"}),"\u6240\u9700\u7684\u6700\u5C0F\u6210\u529F",(0,d.jsx)(n.code,{children:"Pod"}),"\u6570\u91CF\u3002\u8FD9\u91CC\u7684\u6210\u529F\u662F\u6307Pod\u5904\u4E8E",(0,d.jsx)(n.code,{children:"Succeeded"}),"\u72B6\u6001\uFF08\u5373",(0,d.jsx)(n.code,{children:"Pod"}),"\u5185\u6240\u6709\u5BB9\u5668\u90FD\u6210\u529F\u7EC8\u6B62\uFF0C\u9000\u51FA\u7801\u4E3A",(0,d.jsx)(n.code,{children:"0"}),"\uFF09"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0Epolicies\u7684\u7ED3\u5408"}),"\uFF1A\u53EF\u4EE5\u914D\u5408",(0,d.jsx)(n.code,{children:"PodFailed"}),"\u7B56\u7565\uFF0C\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u5931\u8D25\u5BFC\u81F4\u53EF\u7528",(0,d.jsx)(n.code,{children:"Pod"}),"\u6570\u91CF\u5C0F\u4E8E",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u65F6\u89E6\u53D1\u91CD\u542F\u6216\u7EC8\u6B62\u64CD\u4F5C"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u91CD\u8BD5\u7B56\u7565",children:"\u91CD\u8BD5\u7B56\u7565"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u63D0\u4F9B\u4E86\u7075\u6D3B\u7684\u91CD\u8BD5\u673A\u5236\uFF0C\u5141\u8BB8\u7528\u6237\u914D\u7F6E\u5728\u4F5C\u4E1A\u5931\u8D25\u65F6\u7684\u5904\u7406\u65B9\u5F0F\u3002\u8FD9\u4E00\u673A\u5236\u5BF9\u4E8E\u63D0\u9AD8\u5206\u5E03\u5F0F\u4EFB\u52A1\u7684\u53EF\u9760\u6027\u548C\u5BB9\u9519\u80FD\u529B\u81F3\u5173\u91CD\u8981\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u91CD\u8BD5\u63A7\u5236\u53C2\u6570",children:"\u91CD\u8BD5\u63A7\u5236\u53C2\u6570"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"maxRetry"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5B9A\u4E49\u4F5C\u4E1A\u5931\u8D25\u65F6\u7684\u6700\u5927\u91CD\u8BD5\u6B21\u6570"}),"\n",(0,d.jsx)(n.li,{children:"\u5F53\u4F5C\u4E1A\u5931\u8D25\u6B21\u6570\u8D85\u8FC7\u8BE5\u503C\u65F6\uFF0C\u4F5C\u4E1A\u5C06\u88AB\u6807\u8BB0\u4E3A\u6700\u7EC8\u5931\u8D25\u72B6\u6001"}),"\n",(0,d.jsxs)(n.li,{children:["\u9ED8\u8BA4\u503C\u4E3A",(0,d.jsx)(n.code,{children:"3"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"policies"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u901A\u8FC7",(0,d.jsx)(n.code,{children:"event"}),"\u548C",(0,d.jsx)(n.code,{children:"action"}),"\u5BF9\u5B9A\u4E49\u7279\u5B9A\u4E8B\u4EF6\u53D1\u751F\u65F6\u7684\u5904\u7406\u65B9\u5F0F"]}),"\n",(0,d.jsx)(n.li,{children:"\u53EF\u4EE5\u5728\u4F5C\u4E1A\u7EA7\u522B\u6216\u4EFB\u52A1\u7EA7\u522B\u914D\u7F6E"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u652F\u6301\u7684\u4E8B\u4EF6\u7C7B\u578Bevent",children:"\u652F\u6301\u7684\u4E8B\u4EF6\u7C7B\u578B(event)"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u652F\u6301\u4EE5\u4E0B\u4E8B\u4EF6\u7C7B\u578B\u6765\u89E6\u53D1\u91CD\u8BD5\u7B56\u7565\uFF1A"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u4E8B\u4EF6"}),(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u63CF\u8FF0"}),(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"PodFailed"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u5931\u8D25\u65F6\u89E6\u53D1"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u5BB9\u5668\u5D29\u6E83\u3001\u5185\u5B58\u6EA2\u51FA\u7B49\u5F02\u5E38\u60C5\u51B5"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"PodEvicted"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u88AB\u9A71\u9010\u65F6\u89E6\u53D1"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u8D44\u6E90\u62A2\u5360\u3001\u8282\u70B9\u7EF4\u62A4\u7B49\u60C5\u51B5"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"PodPending"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u5904\u4E8E\u7B49\u5F85\u72B6\u6001\u65F6\u89E6\u53D1"]}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u901A\u5E38\u4E0E",(0,d.jsx)(n.code,{children:"timeout"}),"\u53C2\u6570\u914D\u5408\u4F7F\u7528\uFF0C\u9002\u7528\u4E8E\u68C0\u6D4B\u8C03\u5EA6\u5361\u4F4F\u7684\u60C5\u51B5"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"PodRunning"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u8FDB\u5165\u8FD0\u884C\u72B6\u6001\u65F6\u89E6\u53D1"]}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u9002\u7528\u4E8E\u76D1\u63A7",(0,d.jsx)(n.code,{children:"Pod"}),"\u72B6\u6001\u53D8\u5316\uFF0C\u53EF\u7528\u4E8E\u53D6\u6D88\u5176\u4ED6\u5EF6\u8FDF\u64CD\u4F5C"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,d.jsx)(n.code,{children:"JobUnknown"})," (",(0,d.jsx)(n.code,{children:"Unknown"}),")"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5F53\u4F5C\u4E1A\u72B6\u6001\u672A\u77E5\u65F6\u89E6\u53D1"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u5904\u7406\u5F02\u5E38\u60C5\u51B5\uFF0C\u5982\u90E8\u5206Pod\u65E0\u6CD5\u8C03\u5EA6\u800C\u5176\u4ED6\u5DF2\u8FD0\u884C"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"TaskCompleted"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5F53\u4EFB\u52A1\u4E2D\u6240\u6709Pod\u6210\u529F\u5B8C\u6210\u65F6\u89E6\u53D1"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u4E00\u4E2A\u4EFB\u52A1\u5B8C\u6210\u540E\u89E6\u53D1\u4F5C\u4E1A\u7EA7\u522B\u7684\u52A8\u4F5C"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"TaskFailed"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5F53\u4EFB\u52A1\u610F\u5916\u5931\u8D25\u65F6\u89E6\u53D1"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u68C0\u6D4B\u4EFB\u52A1\u7EA7\u522B\u7684\u5931\u8D25"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"OutOfSync"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u6216",(0,d.jsx)(n.code,{children:"Job"}),"\u72B6\u6001\u66F4\u65B0\u65F6\u89E6\u53D1"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u7CFB\u7EDF\u5185\u90E8\u4E8B\u4EF6\uFF0C\u7528\u4E8E\u5904\u7406\u6DFB\u52A0/\u66F4\u65B0/\u5220\u9664\u64CD\u4F5C"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"CommandIssued"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5F53\u7528\u6237\u53D1\u51FA\u547D\u4EE4\u65F6\u89E6\u53D1"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u7CFB\u7EDF\u5185\u90E8\u4E8B\u4EF6\uFF0C\u7528\u4E8E\u54CD\u5E94\u5916\u90E8\u547D\u4EE4"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"JobUpdated"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5F53",(0,d.jsx)(n.code,{children:"Job"}),"\u88AB\u66F4\u65B0\u65F6\u89E6\u53D1"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u7CFB\u7EDF\u5185\u90E8\u4E8B\u4EF6\uFF0C\u4E3B\u8981\u7528\u4E8E\u6269\u5BB9/\u7F29\u5BB9\u64CD\u4F5C"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,d.jsx)(n.code,{children:"*"})," (",(0,d.jsx)(n.code,{children:"AnyEvent"}),")"]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5339\u914D\u4EFB\u4F55\u4E8B\u4EF6"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u901A\u914D\u7B26\uFF0C\u53EF\u7528\u4E8E\u6355\u83B7\u6240\u6709\u7C7B\u578B\u7684\u4E8B\u4EF6"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"\u652F\u6301\u7684\u52A8\u4F5C\u7C7B\u578Baction",children:"\u652F\u6301\u7684\u52A8\u4F5C\u7C7B\u578B(action)"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano"}),"\u652F\u6301\u4EE5\u4E0B\u52A8\u4F5C\u7C7B\u578B\u6765\u5904\u7406\u91CD\u8BD5\uFF1A"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u52A8\u4F5C"}),(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u63CF\u8FF0"}),(0,d.jsx)(n.th,{style:{textAlign:"left"},children:"\u5907\u6CE8"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"AbortJob"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u4E2D\u6B62\u4F5C\u4E1A\uFF0C\u4F46\u4E0D\u6E05\u7406\u8D44\u6E90"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u4F5C\u4E1A\u53EF\u4EE5\u6062\u590D"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"RestartJob"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u91CD\u542F\u6574\u4E2A\u4F5C\u4E1A"}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u6240\u6709",(0,d.jsx)(n.code,{children:"Pod"}),"\u5C06\u88AB\u7EC8\u6B62\u5E76\u91CD\u65B0\u521B\u5EFA"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"RestartTask"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EA\u91CD\u542F\u7279\u5B9A\u4EFB\u52A1"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u53EA\u80FD\u7528\u4E8E\u4EFB\u52A1\u7EA7\u522B\u7684\u7B56\u7565"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"RestartPod"})}),(0,d.jsxs)(n.td,{style:{textAlign:"left"},children:["\u53EA\u91CD\u542F\u7279\u5B9A\u7684",(0,d.jsx)(n.code,{children:"Pod"})]}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u63D0\u4F9B\u66F4\u7CBE\u7EC6\u7684\u91CD\u542F\u63A7\u5236"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"TerminateJob"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u7EC8\u6B62\u4F5C\u4E1A\u5E76\u6E05\u7406\u6240\u6709\u8D44\u6E90"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u4F5C\u4E1A\u5C06\u65E0\u6CD5\u6062\u590D"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{style:{textAlign:"left"},children:(0,d.jsx)(n.code,{children:"CompleteJob"})}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u5C06\u4F5C\u4E1A\u6807\u8BB0\u4E3A\u5B8C\u6210"}),(0,d.jsx)(n.td,{style:{textAlign:"left"},children:"\u9002\u7528\u4E8E\u5173\u952E\u4EFB\u52A1\u5B8C\u6210\u65F6\u7ED3\u675F\u6574\u4E2A\u4F5C\u4E1A"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"\u91CD\u8BD5\u7B56\u7565\u914D\u7F6E\u793A\u4F8B",children:"\u91CD\u8BD5\u7B56\u7565\u914D\u7F6E\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u57FA\u672C\u91CD\u8BD5\u914D\u7F6E"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: job-retry-example\nspec:\n  minAvailable: 3\n  maxRetry: 5  # \u6700\u591A\u91CD\u8BD5\u4E94\u6B21\n  policies:\n    - event: PodFailed  # \u5F53Pod\u5931\u8D25\u65F6\n      action: RestartJob  # \u91CD\u542F\u6574\u4E2A\u4F5C\u4E1A\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4EFB\u52A1\u7EA7\u522B\u91CD\u8BD5\u7B56\u7565"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: task-retry-example\nspec:\n  minAvailable: 3\n  maxRetry: 3\n  tasks:\n    - replicas: 1\n      name: master\n      policies:\n        - event: PodFailed  # \u5F53master\u5931\u8D25\u65F6\n          action: RestartJob  # \u91CD\u542F\u6574\u4E2A\u4F5C\u4E1A\n    - replicas: 3\n      name: worker\n      policies:\n        - event: PodFailed  # \u5F53worker\u5931\u8D25\u65F6\n          action: RestartTask  # \u53EA\u91CD\u542F\u8BE5\u4EFB\u52A1\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5E26\u8D85\u65F6\u7684\u91CD\u8BD5\u7B56\u7565"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:"apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: timeout-retry-example\nspec:\n  minAvailable: 3\n  policies:\n    - event: PodPending  # \u5F53Pod\u957F\u65F6\u95F4\u5904\u4E8E\u7B49\u5F85\u72B6\u6001\n      action: AbortJob  # \u4E2D\u6B62\u4F5C\u4E1A\n      timeout: 1h  # \u8D85\u8FC71\u5C0F\u65F6\u540E\u89E6\u53D1\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u91CD\u8BD5\u7B56\u7565\u6700\u4F73\u5B9E\u8DF5",children:"\u91CD\u8BD5\u7B56\u7565\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u533A\u5206\u5173\u952E\u4EFB\u52A1\u548C\u975E\u5173\u952E\u4EFB\u52A1"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5BF9\u4E8E\u5173\u952E\u4EFB\u52A1\uFF08\u5982\u4E3B\u8282\u70B9\uFF09\u7684\u5931\u8D25\uFF0C\u5E94\u89E6\u53D1",(0,d.jsx)(n.code,{children:"RestartJob"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5BF9\u4E8E\u975E\u5173\u952E\u4EFB\u52A1\uFF08\u5982\u5DE5\u4F5C\u8282\u70B9\uFF09\u7684\u5931\u8D25\uFF0C\u53EF\u4EE5\u4F7F\u7528",(0,d.jsx)(n.code,{children:"RestartTask"}),"\u6216",(0,d.jsx)(n.code,{children:"RestartPod"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8003\u8651\u8D85\u65F6\u8BBE\u7F6E"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5BF9\u4E8E\u53EF\u80FD\u957F\u65F6\u95F4\u5361\u4F4F\u7684\u60C5\u51B5\uFF0C\u6DFB\u52A0",(0,d.jsx)(n.code,{children:"timeout"}),"\u53C2\u6570"]}),"\n",(0,d.jsx)(n.li,{children:"\u8D85\u65F6\u65F6\u95F4\u5E94\u6839\u636E\u4EFB\u52A1\u7684\u590D\u6742\u5EA6\u548C\u8D44\u6E90\u9700\u6C42\u5408\u7406\u8BBE\u7F6E"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u9650\u5236\u6700\u5927\u91CD\u8BD5\u6B21\u6570"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"maxRetry"}),"\u503C\u4E0D\u5E94\u8BBE\u7F6E\u8FC7\u5927\uFF0C\u907F\u514D\u8D44\u6E90\u6D6A\u8D39"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5BF9\u4E8E\u5927\u578B\u4F5C\u4E1A\uFF0C\u5EFA\u8BAE\u8BBE\u7F6E\u4E3A",(0,d.jsx)(n.code,{children:"3-5"}),"\u6B21"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0E\u961F\u5217\u7B56\u7565\u7684\u534F\u8C03"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u8003\u8651\u961F\u5217\u7684",(0,d.jsx)(n.code,{children:"reclaimable"}),"\u5C5E\u6027\u5BF9\u91CD\u8BD5\u7B56\u7565\u7684\u5F71\u54CD"]}),"\n",(0,d.jsx)(n.li,{children:"\u5982\u679C\u4F5C\u4E1A\u5728\u53EF\u56DE\u6536\u7684\u961F\u5217\u4E2D\uFF0C\u53EF\u80FD\u9700\u8981\u66F4\u5F3A\u5927\u7684\u91CD\u8BD5\u7B56\u7565"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4E0E\u5176\u4ED6\u7279\u6027\u7684\u7ED3\u5408",children:"\u4E0E\u5176\u4ED6\u7279\u6027\u7684\u7ED3\u5408"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0EminAvailable\u7684\u7ED3\u5408"}),"\uFF1A\u5F53",(0,d.jsx)(n.code,{children:"Pod"}),"\u5931\u8D25\u5BFC\u81F4\u53EF\u7528",(0,d.jsx)(n.code,{children:"Pod"}),"\u6570\u91CF\u5C0F\u4E8E",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u65F6\uFF0C\u53EF\u4EE5\u89E6\u53D1\u91CD\u8BD5"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0EminSuccess\u7684\u7ED3\u5408"}),"\uFF1A\u5F53\u6210\u529F\u7684",(0,d.jsx)(n.code,{children:"Pod"}),"\u6570\u91CF\u65E0\u6CD5\u8FBE\u5230",(0,d.jsx)(n.code,{children:"minSuccess"}),"\u65F6\uFF0C\u53EF\u4EE5\u89E6\u53D1\u91CD\u8BD5"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0E\u63D2\u4EF6\u7684\u7ED3\u5408"}),"\uFF1A\u91CD\u8BD5\u65F6\u4F1A\u91CD\u65B0\u5E94\u7528\u63D2\u4EF6\u914D\u7F6E\uFF0C\u786E\u4FDD\u73AF\u5883\u53D8\u91CF\u3001SSH\u5BC6\u94A5\u7B49\u6B63\u786E\u91CD\u65B0\u914D\u7F6E"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB",children:"\u4EFB\u52A1\u4F9D\u8D56\u5173\u7CFB"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u652F\u6301\u5728\u4E0D\u540C\u4EFB\u52A1\u4E4B\u95F4\u5B9A\u4E49\u4F9D\u8D56\u5173\u7CFB\uFF0C\u8FD9\u4E00\u529F\u80FD\u5728\u590D\u6742\u7684\u5DE5\u4F5C\u6D41\u7A0B\u4E2D\u975E\u5E38\u6709\u7528\uFF0C\u5982\u6570\u636E\u5904\u7406\u7BA1\u9053\u3001\u6A21\u578B\u8BAD\u7EC3\u548C\u8BC4\u4F30\u6D41\u7A0B\u7B49\u3002"]}),"\n",(0,d.jsx)(n.h4,{id:"\u4F9D\u8D56\u5173\u7CFB\u914D\u7F6E",children:"\u4F9D\u8D56\u5173\u7CFB\u914D\u7F6E"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u4F7F\u7528",(0,d.jsx)(n.code,{children:"dependsOn"}),"\u5B57\u6BB5\u5B9A\u4E49\u4EFB\u52A1\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'tasks:\n  - name: task-A\n    replicas: 1\n    template:\n      # ...\n  - name: task-B\n    replicas: 2\n    dependsOn:\n      name: ["task-A"]  # task-B\u4F9D\u8D56\u4E8Etask-A\n    template:\n      # ...\n  - name: task-C\n    replicas: 3\n    dependsOn:\n      name: ["task-A", "task-B"]  # task-C\u4F9D\u8D56\u4E8Etask-A\u548Ctask-B\n    template:\n      # ...\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u5DE5\u4F5C\u539F\u7406-3",children:"\u5DE5\u4F5C\u539F\u7406"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F9D\u8D56\u89E3\u6790"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"Volcano Job"}),"\u63A7\u5236\u5668\u5728\u521B\u5EFA\u4F5C\u4E1A\u65F6\u89E3\u6790\u4EFB\u52A1\u4E4B\u95F4\u7684\u4F9D\u8D56\u5173\u7CFB"]}),"\n",(0,d.jsx)(n.li,{children:"\u6784\u5EFA\u4E00\u4E2A\u6709\u5411\u65E0\u73AF\u56FE\uFF08DAG\uFF09\u6765\u8868\u793A\u4EFB\u52A1\u6267\u884C\u987A\u5E8F"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u6267\u884C\u987A\u5E8F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u53EA\u6709\u5F53\u6240\u6709\u4F9D\u8D56\u7684\u4EFB\u52A1\u5B8C\u6210\u540E\uFF0C\u4E00\u4E2A\u4EFB\u52A1\u624D\u4F1A\u542F\u52A8"}),"\n",(0,d.jsx)(n.li,{children:"\u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\u7684\u4EFB\u52A1\u53EF\u4EE5\u5E76\u884C\u542F\u52A8"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u72B6\u6001\u4F20\u9012"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5F53\u4E00\u4E2A\u4EFB\u52A1\u5931\u8D25\u65F6\uFF0C\u4F9D\u8D56\u4E8E\u5B83\u7684\u4EFB\u52A1\u4E0D\u4F1A\u542F\u52A8"}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u786E\u4FDD\u4E86\u5DE5\u4F5C\u6D41\u7A0B\u7684\u5B8C\u6574\u6027"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"\u5E94\u7528\u573A\u666F-1",children:"\u5E94\u7528\u573A\u666F"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6570\u636E\u5904\u7406\u7BA1\u9053"}),"\uFF1A"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: data-pipeline\nspec:\n  minAvailable: 1\n  tasks:\n    - name: data-collection\n      replicas: 1\n      template:\n        # ...\n    - name: data-preprocessing\n      replicas: 3\n      dependsOn:\n        name: ["data-collection"]\n      template:\n        # ...\n    - name: model-training\n      replicas: 2\n      dependsOn:\n        name: ["data-preprocessing"]\n      template:\n        # ...\n'})}),"\n",(0,d.jsxs)(n.ol,{start:"2",children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u590D\u6742\u7684\u6A21\u578B\u8BAD\u7EC3\u6D41\u7A0B"}),"\uFF1A"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-yaml",children:'apiVersion: batch.volcano.sh/v1alpha1\nkind: Job\nmetadata:\n  name: ml-workflow\nspec:\n  minAvailable: 1\n  tasks:\n    - name: data-preparation\n      replicas: 1\n      template:\n        # ...\n    - name: feature-extraction\n      replicas: 2\n      dependsOn:\n        name: ["data-preparation"]\n      template:\n        # ...\n    - name: model-training\n      replicas: 1\n      dependsOn:\n        name: ["feature-extraction"]\n      template:\n        # ...\n    - name: model-evaluation\n      replicas: 1\n      dependsOn:\n        name: ["model-training"]\n      template:\n        # ...\n    - name: model-deployment\n      replicas: 1\n      dependsOn:\n        name: ["model-evaluation"]\n      template:\n        # ...\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u6CE8\u610F\u4E8B\u9879\u4E0E\u6700\u4F73\u5B9E\u8DF5",children:"\u6CE8\u610F\u4E8B\u9879\u4E0E\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u907F\u514D\u5FAA\u73AF\u4F9D\u8D56"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4E0D\u80FD\u521B\u5EFA\u5FAA\u73AF\u4F9D\u8D56\uFF0C\u5982A\u4F9D\u8D56B\uFF0CB\u4F9D\u8D56C\uFF0CC\u4F9D\u8D56A"}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u5C06\u5BFC\u81F4\u4F5C\u4E1A\u521B\u5EFA\u5931\u8D25"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8003\u8651\u8D44\u6E90\u9700\u6C42"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u5F53\u4F7F\u7528\u4F9D\u8D56\u5173\u7CFB\u65F6\uFF0C\u8981\u8003\u8651",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u7684\u8BBE\u7F6E"]}),"\n",(0,d.jsxs)(n.li,{children:["\u5982\u679C\u540C\u65F6\u8FD0\u884C\u7684\u4EFB\u52A1\u5F88\u5C11\uFF0C\u53EF\u4EE5\u5C06",(0,d.jsx)(n.code,{children:"minAvailable"}),"\u8BBE\u7F6E\u5F97\u8F83\u5C0F"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4E0E\u91CD\u8BD5\u7B56\u7565\u7684\u7ED3\u5408"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5F53\u4F7F\u7528\u4F9D\u8D56\u5173\u7CFB\u65F6\uFF0C\u8981\u4E3A\u5173\u952E\u4EFB\u52A1\u914D\u7F6E\u9002\u5F53\u7684\u91CD\u8BD5\u7B56\u7565"}),"\n",(0,d.jsx)(n.li,{children:"\u5173\u952E\u4EFB\u52A1\u7684\u5931\u8D25\u53EF\u80FD\u4F1A\u5BFC\u81F4\u6574\u4E2A\u5DE5\u4F5C\u6D41\u7A0B\u5361\u4F4F"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F7F\u7528\u6709\u610F\u4E49\u7684\u4EFB\u52A1\u540D\u79F0"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4EFB\u52A1\u540D\u79F0\u5E94\u6E05\u6670\u5730\u53CD\u6620\u5176\u529F\u80FD\u548C\u5728\u5DE5\u4F5C\u6D41\u7A0B\u4E2D\u7684\u4F4D\u7F6E"}),"\n",(0,d.jsx)(n.li,{children:"\u8FD9\u6709\u52A9\u4E8E\u7406\u89E3\u548C\u7EF4\u62A4\u590D\u6742\u7684\u4F9D\u8D56\u5173\u7CFB"}),"\n"]}),"\n"]}),"\n"]})]})}function j(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(x,{...e})}):x(e)}},50065:function(e,n,s){s.d(n,{Z:function(){return r},a:function(){return c}});var l=s(67294);let d={},i=l.createContext(d);function c(e){let n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);